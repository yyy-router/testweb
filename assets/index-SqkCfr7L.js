(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=o(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function tn(e){const s=Object.create(null);for(const o of e.split(","))s[o]=1;return o=>o in s}const $e={},rs=[],ft=()=>{},Ml=()=>!1,ao=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),sn=e=>e.startsWith("onUpdate:"),Le=Object.assign,on=(e,s)=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)},Sl=Object.prototype.hasOwnProperty,ye=(e,s)=>Sl.call(e,s),oe=Array.isArray,is=e=>zs(e)==="[object Map]",ps=e=>zs(e)==="[object Set]",An=e=>zs(e)==="[object Date]",ae=e=>typeof e=="function",Se=e=>typeof e=="string",vt=e=>typeof e=="symbol",Ce=e=>e!==null&&typeof e=="object",Nr=e=>(Ce(e)||ae(e))&&ae(e.then)&&ae(e.catch),Ur=Object.prototype.toString,zs=e=>Ur.call(e),Al=e=>zs(e).slice(8,-1),Fr=e=>zs(e)==="[object Object]",nn=e=>Se(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,bs=tn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),uo=e=>{const s=Object.create(null);return o=>s[o]||(s[o]=e(o))},Tl=/-(\w)/g,et=uo(e=>e.replace(Tl,(s,o)=>o?o.toUpperCase():"")),Pl=/\B([A-Z])/g,Ot=uo(e=>e.replace(Pl,"-$1").toLowerCase()),co=uo(e=>e.charAt(0).toUpperCase()+e.slice(1)),_o=uo(e=>e?`on${co(e)}`:""),Lt=(e,s)=>!Object.is(e,s),Ws=(e,...s)=>{for(let o=0;o<e.length;o++)e[o](...s)},Vr=(e,s,o,n=!1)=>{Object.defineProperty(e,s,{configurable:!0,enumerable:!1,writable:n,value:o})},Qs=e=>{const s=parseFloat(e);return isNaN(s)?e:s},Bl=e=>{const s=Se(e)?Number(e):NaN;return isNaN(s)?e:s};let Tn;const fo=()=>Tn||(Tn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Te(e){if(oe(e)){const s={};for(let o=0;o<e.length;o++){const n=e[o],i=Se(n)?Rl(n):Te(n);if(i)for(const r in i)s[r]=i[r]}return s}else if(Se(e)||Ce(e))return e}const Ll=/;(?![^(]*\))/g,El=/:([^]+)/,Dl=/\/\*[^]*?\*\//g;function Rl(e){const s={};return e.replace(Dl,"").split(Ll).forEach(o=>{if(o){const n=o.split(El);n.length>1&&(s[n[0].trim()]=n[1].trim())}}),s}function Q(e){let s="";if(Se(e))s=e;else if(oe(e))for(let o=0;o<e.length;o++){const n=Q(e[o]);n&&(s+=n+" ")}else if(Ce(e))for(const o in e)e[o]&&(s+=o+" ");return s.trim()}const Ol="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zl=tn(Ol);function qr(e){return!!e||e===""}function Hl(e,s){if(e.length!==s.length)return!1;let o=!0;for(let n=0;o&&n<e.length;n++)o=Jt(e[n],s[n]);return o}function Jt(e,s){if(e===s)return!0;let o=An(e),n=An(s);if(o||n)return o&&n?e.getTime()===s.getTime():!1;if(o=vt(e),n=vt(s),o||n)return e===s;if(o=oe(e),n=oe(s),o||n)return o&&n?Hl(e,s):!1;if(o=Ce(e),n=Ce(s),o||n){if(!o||!n)return!1;const i=Object.keys(e).length,r=Object.keys(s).length;if(i!==r)return!1;for(const l in e){const a=e.hasOwnProperty(l),d=s.hasOwnProperty(l);if(a&&!d||!a&&d||!Jt(e[l],s[l]))return!1}}return String(e)===String(s)}function rn(e,s){return e.findIndex(o=>Jt(o,s))}const Zr=e=>!!(e&&e.__v_isRef===!0),x=e=>Se(e)?e:e==null?"":oe(e)||Ce(e)&&(e.toString===Ur||!ae(e.toString))?Zr(e)?x(e.value):JSON.stringify(e,Gr,2):String(e),Gr=(e,s)=>Zr(s)?Gr(e,s.value):is(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((o,[n,i],r)=>(o[$o(n,r)+" =>"]=i,o),{})}:ps(s)?{[`Set(${s.size})`]:[...s.values()].map(o=>$o(o))}:vt(s)?$o(s):Ce(s)&&!oe(s)&&!Fr(s)?String(s):s,$o=(e,s="")=>{var o;return vt(e)?`Symbol(${(o=e.description)!=null?o:s})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ze;class Wr{constructor(s=!1){this.detached=s,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ze,!s&&ze&&(this.index=(ze.scopes||(ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let s,o;if(this.scopes)for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].pause();for(s=0,o=this.effects.length;s<o;s++)this.effects[s].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let s,o;if(this.scopes)for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].resume();for(s=0,o=this.effects.length;s<o;s++)this.effects[s].resume()}}run(s){if(this._active){const o=ze;try{return ze=this,s()}finally{ze=o}}}on(){ze=this}off(){ze=this.parent}stop(s){if(this._active){this._active=!1;let o,n;for(o=0,n=this.effects.length;o<n;o++)this.effects[o].stop();for(this.effects.length=0,o=0,n=this.cleanups.length;o<n;o++)this.cleanups[o]();if(this.cleanups.length=0,this.scopes){for(o=0,n=this.scopes.length;o<n;o++)this.scopes[o].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!s){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Kr(e){return new Wr(e)}function Jr(){return ze}function Nl(e,s=!1){ze&&ze.cleanups.push(e)}let Ie;const Co=new WeakSet;class Yr{constructor(s){this.fn=s,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ze&&ze.active&&ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Co.has(this)&&(Co.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Pn(this),ei(this);const s=Ie,o=tt;Ie=this,tt=!0;try{return this.fn()}finally{ti(this),Ie=s,tt=o,this.flags&=-3}}stop(){if(this.flags&1){for(let s=this.deps;s;s=s.nextDep)dn(s);this.deps=this.depsTail=void 0,Pn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Co.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Oo(this)&&this.run()}get dirty(){return Oo(this)}}let Qr=0,ks,_s;function Xr(e,s=!1){if(e.flags|=8,s){e.next=_s,_s=e;return}e.next=ks,ks=e}function ln(){Qr++}function an(){if(--Qr>0)return;if(_s){let s=_s;for(_s=void 0;s;){const o=s.next;s.next=void 0,s.flags&=-9,s=o}}let e;for(;ks;){let s=ks;for(ks=void 0;s;){const o=s.next;if(s.next=void 0,s.flags&=-9,s.flags&1)try{s.trigger()}catch(n){e||(e=n)}s=o}}if(e)throw e}function ei(e){for(let s=e.deps;s;s=s.nextDep)s.version=-1,s.prevActiveLink=s.dep.activeLink,s.dep.activeLink=s}function ti(e){let s,o=e.depsTail,n=o;for(;n;){const i=n.prevDep;n.version===-1?(n===o&&(o=i),dn(n),Ul(n)):s=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=s,e.depsTail=o}function Oo(e){for(let s=e.deps;s;s=s.nextDep)if(s.dep.version!==s.version||s.dep.computed&&(si(s.dep.computed)||s.dep.version!==s.version))return!0;return!!e._dirty}function si(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===As))return;e.globalVersion=As;const s=e.dep;if(e.flags|=2,s.version>0&&!e.isSSR&&e.deps&&!Oo(e)){e.flags&=-3;return}const o=Ie,n=tt;Ie=e,tt=!0;try{ei(e);const i=e.fn(e._value);(s.version===0||Lt(i,e._value))&&(e._value=i,s.version++)}catch(i){throw s.version++,i}finally{Ie=o,tt=n,ti(e),e.flags&=-3}}function dn(e,s=!1){const{dep:o,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),o.subs===e&&(o.subs=n,!n&&o.computed)){o.computed.flags&=-5;for(let r=o.computed.deps;r;r=r.nextDep)dn(r,!0)}!s&&!--o.sc&&o.map&&o.map.delete(o.key)}function Ul(e){const{prevDep:s,nextDep:o}=e;s&&(s.nextDep=o,e.prevDep=void 0),o&&(o.prevDep=s,e.nextDep=void 0)}let tt=!0;const oi=[];function zt(){oi.push(tt),tt=!1}function Ht(){const e=oi.pop();tt=e===void 0?!0:e}function Pn(e){const{cleanup:s}=e;if(e.cleanup=void 0,s){const o=Ie;Ie=void 0;try{s()}finally{Ie=o}}}let As=0;class Fl{constructor(s,o){this.sub=s,this.dep=o,this.version=o.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class un{constructor(s){this.computed=s,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(s){if(!Ie||!tt||Ie===this.computed)return;let o=this.activeLink;if(o===void 0||o.sub!==Ie)o=this.activeLink=new Fl(Ie,this),Ie.deps?(o.prevDep=Ie.depsTail,Ie.depsTail.nextDep=o,Ie.depsTail=o):Ie.deps=Ie.depsTail=o,ni(o);else if(o.version===-1&&(o.version=this.version,o.nextDep)){const n=o.nextDep;n.prevDep=o.prevDep,o.prevDep&&(o.prevDep.nextDep=n),o.prevDep=Ie.depsTail,o.nextDep=void 0,Ie.depsTail.nextDep=o,Ie.depsTail=o,Ie.deps===o&&(Ie.deps=n)}return o}trigger(s){this.version++,As++,this.notify(s)}notify(s){ln();try{for(let o=this.subs;o;o=o.prevSub)o.sub.notify()&&o.sub.dep.notify()}finally{an()}}}function ni(e){if(e.dep.sc++,e.sub.flags&4){const s=e.dep.computed;if(s&&!e.dep.subs){s.flags|=20;for(let n=s.deps;n;n=n.nextDep)ni(n)}const o=e.dep.subs;o!==e&&(e.prevSub=o,o&&(o.nextSub=e)),e.dep.subs=e}}const Xs=new WeakMap,Wt=Symbol(""),zo=Symbol(""),Ts=Symbol("");function De(e,s,o){if(tt&&Ie){let n=Xs.get(e);n||Xs.set(e,n=new Map);let i=n.get(o);i||(n.set(o,i=new un),i.map=n,i.key=o),i.track()}}function kt(e,s,o,n,i,r){const l=Xs.get(e);if(!l){As++;return}const a=d=>{d&&d.trigger()};if(ln(),s==="clear")l.forEach(a);else{const d=oe(e),m=d&&nn(o);if(d&&o==="length"){const u=Number(n);l.forEach((f,h)=>{(h==="length"||h===Ts||!vt(h)&&h>=u)&&a(f)})}else switch((o!==void 0||l.has(void 0))&&a(l.get(o)),m&&a(l.get(Ts)),s){case"add":d?m&&a(l.get("length")):(a(l.get(Wt)),is(e)&&a(l.get(zo)));break;case"delete":d||(a(l.get(Wt)),is(e)&&a(l.get(zo)));break;case"set":is(e)&&a(l.get(Wt));break}}an()}function Vl(e,s){const o=Xs.get(e);return o&&o.get(s)}function ts(e){const s=pe(e);return s===e?s:(De(s,"iterate",Ts),Qe(e)?s:s.map(Re))}function po(e){return De(e=pe(e),"iterate",Ts),e}const ql={__proto__:null,[Symbol.iterator](){return jo(this,Symbol.iterator,Re)},concat(...e){return ts(this).concat(...e.map(s=>oe(s)?ts(s):s))},entries(){return jo(this,"entries",e=>(e[1]=Re(e[1]),e))},every(e,s){return ht(this,"every",e,s,void 0,arguments)},filter(e,s){return ht(this,"filter",e,s,o=>o.map(Re),arguments)},find(e,s){return ht(this,"find",e,s,Re,arguments)},findIndex(e,s){return ht(this,"findIndex",e,s,void 0,arguments)},findLast(e,s){return ht(this,"findLast",e,s,Re,arguments)},findLastIndex(e,s){return ht(this,"findLastIndex",e,s,void 0,arguments)},forEach(e,s){return ht(this,"forEach",e,s,void 0,arguments)},includes(...e){return Io(this,"includes",e)},indexOf(...e){return Io(this,"indexOf",e)},join(e){return ts(this).join(e)},lastIndexOf(...e){return Io(this,"lastIndexOf",e)},map(e,s){return ht(this,"map",e,s,void 0,arguments)},pop(){return hs(this,"pop")},push(...e){return hs(this,"push",e)},reduce(e,...s){return Bn(this,"reduce",e,s)},reduceRight(e,...s){return Bn(this,"reduceRight",e,s)},shift(){return hs(this,"shift")},some(e,s){return ht(this,"some",e,s,void 0,arguments)},splice(...e){return hs(this,"splice",e)},toReversed(){return ts(this).toReversed()},toSorted(e){return ts(this).toSorted(e)},toSpliced(...e){return ts(this).toSpliced(...e)},unshift(...e){return hs(this,"unshift",e)},values(){return jo(this,"values",Re)}};function jo(e,s,o){const n=po(e),i=n[s]();return n!==e&&!Qe(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=o(r.value)),r}),i}const Zl=Array.prototype;function ht(e,s,o,n,i,r){const l=po(e),a=l!==e&&!Qe(e),d=l[s];if(d!==Zl[s]){const f=d.apply(e,r);return a?Re(f):f}let m=o;l!==e&&(a?m=function(f,h){return o.call(this,Re(f),h,e)}:o.length>2&&(m=function(f,h){return o.call(this,f,h,e)}));const u=d.call(l,m,n);return a&&i?i(u):u}function Bn(e,s,o,n){const i=po(e);let r=o;return i!==e&&(Qe(e)?o.length>3&&(r=function(l,a,d){return o.call(this,l,a,d,e)}):r=function(l,a,d){return o.call(this,l,Re(a),d,e)}),i[s](r,...n)}function Io(e,s,o){const n=pe(e);De(n,"iterate",Ts);const i=n[s](...o);return(i===-1||i===!1)&&pn(o[0])?(o[0]=pe(o[0]),n[s](...o)):i}function hs(e,s,o=[]){zt(),ln();const n=pe(e)[s].apply(e,o);return an(),Ht(),n}const Gl=tn("__proto__,__v_isRef,__isVue"),ri=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(vt));function Wl(e){vt(e)||(e=String(e));const s=pe(this);return De(s,"has",e),s.hasOwnProperty(e)}class ii{constructor(s=!1,o=!1){this._isReadonly=s,this._isShallow=o}get(s,o,n){if(o==="__v_skip")return s.__v_skip;const i=this._isReadonly,r=this._isShallow;if(o==="__v_isReactive")return!i;if(o==="__v_isReadonly")return i;if(o==="__v_isShallow")return r;if(o==="__v_raw")return n===(i?r?na:ui:r?di:ai).get(s)||Object.getPrototypeOf(s)===Object.getPrototypeOf(n)?s:void 0;const l=oe(s);if(!i){let d;if(l&&(d=ql[o]))return d;if(o==="hasOwnProperty")return Wl}const a=Reflect.get(s,o,Ae(s)?s:n);return(vt(o)?ri.has(o):Gl(o))||(i||De(s,"get",o),r)?a:Ae(a)?l&&nn(o)?a:a.value:Ce(a)?i?fi(a):mt(a):a}}class li extends ii{constructor(s=!1){super(!1,s)}set(s,o,n,i){let r=s[o];if(!this._isShallow){const d=Yt(r);if(!Qe(n)&&!Yt(n)&&(r=pe(r),n=pe(n)),!oe(s)&&Ae(r)&&!Ae(n))return d?!1:(r.value=n,!0)}const l=oe(s)&&nn(o)?Number(o)<s.length:ye(s,o),a=Reflect.set(s,o,n,Ae(s)?s:i);return s===pe(i)&&(l?Lt(n,r)&&kt(s,"set",o,n):kt(s,"add",o,n)),a}deleteProperty(s,o){const n=ye(s,o);s[o];const i=Reflect.deleteProperty(s,o);return i&&n&&kt(s,"delete",o,void 0),i}has(s,o){const n=Reflect.has(s,o);return(!vt(o)||!ri.has(o))&&De(s,"has",o),n}ownKeys(s){return De(s,"iterate",oe(s)?"length":Wt),Reflect.ownKeys(s)}}class Kl extends ii{constructor(s=!1){super(!0,s)}set(s,o){return!0}deleteProperty(s,o){return!0}}const Jl=new li,Yl=new Kl,Ql=new li(!0);const Ho=e=>e,Fs=e=>Reflect.getPrototypeOf(e);function Xl(e,s,o){return function(...n){const i=this.__v_raw,r=pe(i),l=is(r),a=e==="entries"||e===Symbol.iterator&&l,d=e==="keys"&&l,m=i[e](...n),u=o?Ho:s?No:Re;return!s&&De(r,"iterate",d?zo:Wt),{next(){const{value:f,done:h}=m.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Vs(e){return function(...s){return e==="delete"?!1:e==="clear"?void 0:this}}function ea(e,s){const o={get(i){const r=this.__v_raw,l=pe(r),a=pe(i);e||(Lt(i,a)&&De(l,"get",i),De(l,"get",a));const{has:d}=Fs(l),m=s?Ho:e?No:Re;if(d.call(l,i))return m(r.get(i));if(d.call(l,a))return m(r.get(a));r!==l&&r.get(i)},get size(){const i=this.__v_raw;return!e&&De(pe(i),"iterate",Wt),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,l=pe(r),a=pe(i);return e||(Lt(i,a)&&De(l,"has",i),De(l,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const l=this,a=l.__v_raw,d=pe(a),m=s?Ho:e?No:Re;return!e&&De(d,"iterate",Wt),a.forEach((u,f)=>i.call(r,m(u),m(f),l))}};return Le(o,e?{add:Vs("add"),set:Vs("set"),delete:Vs("delete"),clear:Vs("clear")}:{add(i){!s&&!Qe(i)&&!Yt(i)&&(i=pe(i));const r=pe(this);return Fs(r).has.call(r,i)||(r.add(i),kt(r,"add",i,i)),this},set(i,r){!s&&!Qe(r)&&!Yt(r)&&(r=pe(r));const l=pe(this),{has:a,get:d}=Fs(l);let m=a.call(l,i);m||(i=pe(i),m=a.call(l,i));const u=d.call(l,i);return l.set(i,r),m?Lt(r,u)&&kt(l,"set",i,r):kt(l,"add",i,r),this},delete(i){const r=pe(this),{has:l,get:a}=Fs(r);let d=l.call(r,i);d||(i=pe(i),d=l.call(r,i)),a&&a.call(r,i);const m=r.delete(i);return d&&kt(r,"delete",i,void 0),m},clear(){const i=pe(this),r=i.size!==0,l=i.clear();return r&&kt(i,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(i=>{o[i]=Xl(i,e,s)}),o}function cn(e,s){const o=ea(e,s);return(n,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(ye(o,i)&&i in n?o:n,i,r)}const ta={get:cn(!1,!1)},sa={get:cn(!1,!0)},oa={get:cn(!0,!1)};const ai=new WeakMap,di=new WeakMap,ui=new WeakMap,na=new WeakMap;function ra(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ia(e){return e.__v_skip||!Object.isExtensible(e)?0:ra(Al(e))}function mt(e){return Yt(e)?e:fn(e,!1,Jl,ta,ai)}function ci(e){return fn(e,!1,Ql,sa,di)}function fi(e){return fn(e,!0,Yl,oa,ui)}function fn(e,s,o,n,i){if(!Ce(e)||e.__v_raw&&!(s&&e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const l=ia(e);if(l===0)return e;const a=new Proxy(e,l===2?n:o);return i.set(e,a),a}function Et(e){return Yt(e)?Et(e.__v_raw):!!(e&&e.__v_isReactive)}function Yt(e){return!!(e&&e.__v_isReadonly)}function Qe(e){return!!(e&&e.__v_isShallow)}function pn(e){return e?!!e.__v_raw:!1}function pe(e){const s=e&&e.__v_raw;return s?pe(s):e}function vn(e){return!ye(e,"__v_skip")&&Object.isExtensible(e)&&Vr(e,"__v_skip",!0),e}const Re=e=>Ce(e)?mt(e):e,No=e=>Ce(e)?fi(e):e;function Ae(e){return e?e.__v_isRef===!0:!1}function P(e){return pi(e,!1)}function la(e){return pi(e,!0)}function pi(e,s){return Ae(e)?e:new aa(e,s)}class aa{constructor(s,o){this.dep=new un,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=o?s:pe(s),this._value=o?s:Re(s),this.__v_isShallow=o}get value(){return this.dep.track(),this._value}set value(s){const o=this._rawValue,n=this.__v_isShallow||Qe(s)||Yt(s);s=n?s:pe(s),Lt(s,o)&&(this._rawValue=s,this._value=n?s:Re(s),this.dep.trigger())}}function de(e){return Ae(e)?e.value:e}const da={get:(e,s,o)=>s==="__v_raw"?e:de(Reflect.get(e,s,o)),set:(e,s,o,n)=>{const i=e[s];return Ae(i)&&!Ae(o)?(i.value=o,!0):Reflect.set(e,s,o,n)}};function vi(e){return Et(e)?e:new Proxy(e,da)}function ua(e){const s=oe(e)?new Array(e.length):{};for(const o in e)s[o]=fa(e,o);return s}class ca{constructor(s,o,n){this._object=s,this._key=o,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const s=this._object[this._key];return this._value=s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}get dep(){return Vl(pe(this._object),this._key)}}function fa(e,s,o){const n=e[s];return Ae(n)?n:new ca(e,s,o)}class pa{constructor(s,o,n){this.fn=s,this.setter=o,this._value=void 0,this.dep=new un(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=As-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!o,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ie!==this)return Xr(this,!0),!0}get value(){const s=this.dep.track();return si(this),s&&(s.version=this.dep.version),this._value}set value(s){this.setter&&this.setter(s)}}function va(e,s,o=!1){let n,i;return ae(e)?n=e:(n=e.get,i=e.set),new pa(n,i,o)}const qs={},eo=new WeakMap;let Zt;function ma(e,s=!1,o=Zt){if(o){let n=eo.get(o);n||eo.set(o,n=[]),n.push(e)}}function ga(e,s,o=$e){const{immediate:n,deep:i,once:r,scheduler:l,augmentJob:a,call:d}=o,m=I=>i?I:Qe(I)||i===!1||i===0?_t(I,1):_t(I);let u,f,h,w,b=!1,c=!1;if(Ae(e)?(f=()=>e.value,b=Qe(e)):Et(e)?(f=()=>m(e),b=!0):oe(e)?(c=!0,b=e.some(I=>Et(I)||Qe(I)),f=()=>e.map(I=>{if(Ae(I))return I.value;if(Et(I))return m(I);if(ae(I))return d?d(I,2):I()})):ae(e)?s?f=d?()=>d(e,2):e:f=()=>{if(h){zt();try{h()}finally{Ht()}}const I=Zt;Zt=u;try{return d?d(e,3,[w]):e(w)}finally{Zt=I}}:f=ft,s&&i){const I=f,B=i===!0?1/0:i;f=()=>_t(I(),B)}const g=Jr(),y=()=>{u.stop(),g&&g.active&&on(g.effects,u)};if(r&&s){const I=s;s=(...B)=>{I(...B),y()}}let M=c?new Array(e.length).fill(qs):qs;const E=I=>{if(!(!(u.flags&1)||!u.dirty&&!I))if(s){const B=u.run();if(i||b||(c?B.some((S,A)=>Lt(S,M[A])):Lt(B,M))){h&&h();const S=Zt;Zt=u;try{const A=[B,M===qs?void 0:c&&M[0]===qs?[]:M,w];d?d(s,3,A):s(...A),M=B}finally{Zt=S}}}else u.run()};return a&&a(E),u=new Yr(f),u.scheduler=l?()=>l(E,!1):E,w=I=>ma(I,!1,u),h=u.onStop=()=>{const I=eo.get(u);if(I){if(d)d(I,4);else for(const B of I)B();eo.delete(u)}},s?n?E(!0):M=u.run():l?l(E.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function _t(e,s=1/0,o){if(s<=0||!Ce(e)||e.__v_skip||(o=o||new Set,o.has(e)))return e;if(o.add(e),s--,Ae(e))_t(e.value,s,o);else if(oe(e))for(let n=0;n<e.length;n++)_t(e[n],s,o);else if(ps(e)||is(e))e.forEach(n=>{_t(n,s,o)});else if(Fr(e)){for(const n in e)_t(e[n],s,o);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&_t(e[n],s,o)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Hs(e,s,o,n){try{return n?e(...n):e()}catch(i){vo(i,s,o)}}function st(e,s,o,n){if(ae(e)){const i=Hs(e,s,o,n);return i&&Nr(i)&&i.catch(r=>{vo(r,s,o)}),i}if(oe(e)){const i=[];for(let r=0;r<e.length;r++)i.push(st(e[r],s,o,n));return i}}function vo(e,s,o,n=!0){const i=s?s.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:l}=s&&s.appContext.config||$e;if(s){let a=s.parent;const d=s.proxy,m=`https://vuejs.org/error-reference/#runtime-${o}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,d,m)===!1)return}a=a.parent}if(r){zt(),Hs(r,null,10,[e,d,m]),Ht();return}}ha(e,o,i,n,l)}function ha(e,s,o,n=!0,i=!1){if(i)throw e;console.error(e)}const He=[];let ut=-1;const ls=[];let At=null,os=0;const mi=Promise.resolve();let to=null;function vs(e){const s=to||mi;return e?s.then(this?e.bind(this):e):s}function xa(e){let s=ut+1,o=He.length;for(;s<o;){const n=s+o>>>1,i=He[n],r=Ps(i);r<e||r===e&&i.flags&2?s=n+1:o=n}return s}function mn(e){if(!(e.flags&1)){const s=Ps(e),o=He[He.length-1];!o||!(e.flags&2)&&s>=Ps(o)?He.push(e):He.splice(xa(s),0,e),e.flags|=1,gi()}}function gi(){to||(to=mi.then(xi))}function ya(e){oe(e)?ls.push(...e):At&&e.id===-1?At.splice(os+1,0,e):e.flags&1||(ls.push(e),e.flags|=1),gi()}function Ln(e,s,o=ut+1){for(;o<He.length;o++){const n=He[o];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;He.splice(o,1),o--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function hi(e){if(ls.length){const s=[...new Set(ls)].sort((o,n)=>Ps(o)-Ps(n));if(ls.length=0,At){At.push(...s);return}for(At=s,os=0;os<At.length;os++){const o=At[os];o.flags&4&&(o.flags&=-2),o.flags&8||o(),o.flags&=-2}At=null,os=0}}const Ps=e=>e.id==null?e.flags&2?-1:1/0:e.id;function xi(e){try{for(ut=0;ut<He.length;ut++){const s=He[ut];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),Hs(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;ut<He.length;ut++){const s=He[ut];s&&(s.flags&=-2)}ut=-1,He.length=0,hi(),to=null,(He.length||ls.length)&&xi()}}let Ne=null,yi=null;function so(e){const s=Ne;return Ne=e,yi=e&&e.type.__scopeId||null,s}function oo(e,s=Ne,o){if(!s||e._n)return e;const n=(...i)=>{n._d&&qn(-1);const r=so(s);let l;try{l=e(...i)}finally{so(r),n._d&&qn(1)}return l};return n._n=!0,n._c=!0,n._d=!0,n}function ue(e,s){if(Ne===null)return e;const o=yo(Ne),n=e.dirs||(e.dirs=[]);for(let i=0;i<s.length;i++){let[r,l,a,d=$e]=s[i];r&&(ae(r)&&(r={mounted:r,updated:r}),r.deep&&_t(l),n.push({dir:r,instance:o,value:l,oldValue:void 0,arg:a,modifiers:d}))}return e}function Ut(e,s,o,n){const i=e.dirs,r=s&&s.dirs;for(let l=0;l<i.length;l++){const a=i[l];r&&(a.oldValue=r[l].value);let d=a.dir[n];d&&(zt(),st(d,o,8,[e.el,a,e,s]),Ht())}}const wa=Symbol("_vte"),wi=e=>e.__isTeleport,Tt=Symbol("_leaveCb"),Zs=Symbol("_enterCb");function ba(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return me(()=>{e.isMounted=!0}),gn(()=>{e.isUnmounting=!0}),e}const Ye=[Function,Array],bi={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ye,onEnter:Ye,onAfterEnter:Ye,onEnterCancelled:Ye,onBeforeLeave:Ye,onLeave:Ye,onAfterLeave:Ye,onLeaveCancelled:Ye,onBeforeAppear:Ye,onAppear:Ye,onAfterAppear:Ye,onAppearCancelled:Ye},ki=e=>{const s=e.subTree;return s.component?ki(s.component):s},ka={name:"BaseTransition",props:bi,setup(e,{slots:s}){const o=hd(),n=ba();return()=>{const i=s.default&&Ci(s.default(),!0);if(!i||!i.length)return;const r=_i(i),l=pe(e),{mode:a}=l;if(n.isLeaving)return Mo(r);const d=En(r);if(!d)return Mo(r);let m=Uo(d,l,n,o,f=>m=f);d.type!==Ve&&Bs(d,m);let u=o.subTree&&En(o.subTree);if(u&&u.type!==Ve&&!Gt(d,u)&&ki(o).type!==Ve){let f=Uo(u,l,n,o);if(Bs(u,f),a==="out-in"&&d.type!==Ve)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,o.job.flags&8||o.update(),delete f.afterLeave,u=void 0},Mo(r);a==="in-out"&&d.type!==Ve?f.delayLeave=(h,w,b)=>{const c=$i(n,u);c[String(u.key)]=u,h[Tt]=()=>{w(),h[Tt]=void 0,delete m.delayedLeave,u=void 0},m.delayedLeave=()=>{b(),delete m.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function _i(e){let s=e[0];if(e.length>1){for(const o of e)if(o.type!==Ve){s=o;break}}return s}const _a=ka;function $i(e,s){const{leavingVNodes:o}=e;let n=o.get(s.type);return n||(n=Object.create(null),o.set(s.type,n)),n}function Uo(e,s,o,n,i){const{appear:r,mode:l,persisted:a=!1,onBeforeEnter:d,onEnter:m,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:w,onAfterLeave:b,onLeaveCancelled:c,onBeforeAppear:g,onAppear:y,onAfterAppear:M,onAppearCancelled:E}=s,I=String(e.key),B=$i(o,e),S=(k,L)=>{k&&st(k,n,9,L)},A=(k,L)=>{const j=L[1];S(k,L),oe(k)?k.every(R=>R.length<=1)&&j():k.length<=1&&j()},$={mode:l,persisted:a,beforeEnter(k){let L=d;if(!o.isMounted)if(r)L=g||d;else return;k[Tt]&&k[Tt](!0);const j=B[I];j&&Gt(e,j)&&j.el[Tt]&&j.el[Tt](),S(L,[k])},enter(k){let L=m,j=u,R=f;if(!o.isMounted)if(r)L=y||m,j=M||u,R=E||f;else return;let V=!1;const ke=k[Zs]=se=>{V||(V=!0,se?S(R,[k]):S(j,[k]),$.delayedLeave&&$.delayedLeave(),k[Zs]=void 0)};L?A(L,[k,ke]):ke()},leave(k,L){const j=String(e.key);if(k[Zs]&&k[Zs](!0),o.isUnmounting)return L();S(h,[k]);let R=!1;const V=k[Tt]=ke=>{R||(R=!0,L(),ke?S(c,[k]):S(b,[k]),k[Tt]=void 0,B[j]===e&&delete B[j])};B[j]=e,w?A(w,[k,V]):V()},clone(k){const L=Uo(k,s,o,n,i);return i&&i(L),L}};return $}function Mo(e){if(mo(e))return e=Dt(e),e.children=null,e}function En(e){if(!mo(e))return wi(e.type)&&e.children?_i(e.children):e;const{shapeFlag:s,children:o}=e;if(o){if(s&16)return o[0];if(s&32&&ae(o.default))return o.default()}}function Bs(e,s){e.shapeFlag&6&&e.component?(e.transition=s,Bs(e.component.subTree,s)):e.shapeFlag&128?(e.ssContent.transition=s.clone(e.ssContent),e.ssFallback.transition=s.clone(e.ssFallback)):e.transition=s}function Ci(e,s=!1,o){let n=[],i=0;for(let r=0;r<e.length;r++){let l=e[r];const a=o==null?l.key:String(o)+String(l.key!=null?l.key:r);l.type===G?(l.patchFlag&128&&i++,n=n.concat(Ci(l.children,s,a))):(s||l.type!==Ve)&&n.push(a!=null?Dt(l,{key:a}):l)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function ji(e,s){return ae(e)?Le({name:e.name},s,{setup:e}):e}function Ii(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function no(e,s,o,n,i=!1){if(oe(e)){e.forEach((b,c)=>no(b,s&&(oe(s)?s[c]:s),o,n,i));return}if($s(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&no(e,s,o,n.component.subTree);return}const r=n.shapeFlag&4?yo(n.component):n.el,l=i?null:r,{i:a,r:d}=e,m=s&&s.r,u=a.refs===$e?a.refs={}:a.refs,f=a.setupState,h=pe(f),w=f===$e?()=>!1:b=>ye(h,b);if(m!=null&&m!==d&&(Se(m)?(u[m]=null,w(m)&&(f[m]=null)):Ae(m)&&(m.value=null)),ae(d))Hs(d,a,12,[l,u]);else{const b=Se(d),c=Ae(d);if(b||c){const g=()=>{if(e.f){const y=b?w(d)?f[d]:u[d]:d.value;i?oe(y)&&on(y,r):oe(y)?y.includes(r)||y.push(r):b?(u[d]=[r],w(d)&&(f[d]=u[d])):(d.value=[r],e.k&&(u[e.k]=d.value))}else b?(u[d]=l,w(d)&&(f[d]=l)):c&&(d.value=l,e.k&&(u[e.k]=l))};l?(g.id=-1,Ge(g,o)):g()}}}fo().requestIdleCallback;fo().cancelIdleCallback;const $s=e=>!!e.type.__asyncLoader,mo=e=>e.type.__isKeepAlive;function $a(e,s){Mi(e,"a",s)}function Ca(e,s){Mi(e,"da",s)}function Mi(e,s,o=Pe){const n=e.__wdc||(e.__wdc=()=>{let i=o;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(go(s,n,o),o){let i=o.parent;for(;i&&i.parent;)mo(i.parent.vnode)&&ja(n,s,o,i),i=i.parent}}function ja(e,s,o,n){const i=go(s,e,n,!0);hn(()=>{on(n[s],i)},o)}function go(e,s,o=Pe,n=!1){if(o){const i=o[e]||(o[e]=[]),r=s.__weh||(s.__weh=(...l)=>{zt();const a=Ns(o),d=st(s,o,e,l);return a(),Ht(),d});return n?i.unshift(r):i.push(r),r}}const Ct=e=>(s,o=Pe)=>{(!Es||e==="sp")&&go(e,(...n)=>s(...n),o)},Ia=Ct("bm"),me=Ct("m"),Ma=Ct("bu"),Sa=Ct("u"),gn=Ct("bum"),hn=Ct("um"),Aa=Ct("sp"),Ta=Ct("rtg"),Pa=Ct("rtc");function Ba(e,s=Pe){go("ec",e,s)}const Si="components";function Ai(e,s){return Pi(Si,e,!0,s)||e}const Ti=Symbol.for("v-ndc");function La(e){return Se(e)?Pi(Si,e,!1)||e:e||Ti}function Pi(e,s,o=!0,n=!1){const i=Ne||Pe;if(i){const r=i.type;{const a=kd(r,!1);if(a&&(a===s||a===et(s)||a===co(et(s))))return r}const l=Dn(i[e]||r[e],s)||Dn(i.appContext[e],s);return!l&&n?r:l}}function Dn(e,s){return e&&(e[s]||e[et(s)]||e[co(et(s))])}function ee(e,s,o,n){let i;const r=o,l=oe(e);if(l||Se(e)){const a=l&&Et(e);let d=!1;a&&(d=!Qe(e),e=po(e)),i=new Array(e.length);for(let m=0,u=e.length;m<u;m++)i[m]=s(d?Re(e[m]):e[m],m,void 0,r)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=s(a+1,a,void 0,r)}else if(Ce(e))if(e[Symbol.iterator])i=Array.from(e,(a,d)=>s(a,d,void 0,r));else{const a=Object.keys(e);i=new Array(a.length);for(let d=0,m=a.length;d<m;d++){const u=a[d];i[d]=s(e[u],u,d,r)}}else i=[];return i}const Fo=e=>e?Xi(e)?yo(e):Fo(e.parent):null,Cs=Le(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Fo(e.parent),$root:e=>Fo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Li(e),$forceUpdate:e=>e.f||(e.f=()=>{mn(e.update)}),$nextTick:e=>e.n||(e.n=vs.bind(e.proxy)),$watch:e=>sd.bind(e)}),So=(e,s)=>e!==$e&&!e.__isScriptSetup&&ye(e,s),Ea={get({_:e},s){if(s==="__v_skip")return!0;const{ctx:o,setupState:n,data:i,props:r,accessCache:l,type:a,appContext:d}=e;let m;if(s[0]!=="$"){const w=l[s];if(w!==void 0)switch(w){case 1:return n[s];case 2:return i[s];case 4:return o[s];case 3:return r[s]}else{if(So(n,s))return l[s]=1,n[s];if(i!==$e&&ye(i,s))return l[s]=2,i[s];if((m=e.propsOptions[0])&&ye(m,s))return l[s]=3,r[s];if(o!==$e&&ye(o,s))return l[s]=4,o[s];Vo&&(l[s]=0)}}const u=Cs[s];let f,h;if(u)return s==="$attrs"&&De(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[s]))return f;if(o!==$e&&ye(o,s))return l[s]=4,o[s];if(h=d.config.globalProperties,ye(h,s))return h[s]},set({_:e},s,o){const{data:n,setupState:i,ctx:r}=e;return So(i,s)?(i[s]=o,!0):n!==$e&&ye(n,s)?(n[s]=o,!0):ye(e.props,s)||s[0]==="$"&&s.slice(1)in e?!1:(r[s]=o,!0)},has({_:{data:e,setupState:s,accessCache:o,ctx:n,appContext:i,propsOptions:r}},l){let a;return!!o[l]||e!==$e&&ye(e,l)||So(s,l)||(a=r[0])&&ye(a,l)||ye(n,l)||ye(Cs,l)||ye(i.config.globalProperties,l)},defineProperty(e,s,o){return o.get!=null?e._.accessCache[s]=0:ye(o,"value")&&this.set(e,s,o.value,null),Reflect.defineProperty(e,s,o)}};function Rn(e){return oe(e)?e.reduce((s,o)=>(s[o]=null,s),{}):e}let Vo=!0;function Da(e){const s=Li(e),o=e.proxy,n=e.ctx;Vo=!1,s.beforeCreate&&On(s.beforeCreate,e,"bc");const{data:i,computed:r,methods:l,watch:a,provide:d,inject:m,created:u,beforeMount:f,mounted:h,beforeUpdate:w,updated:b,activated:c,deactivated:g,beforeDestroy:y,beforeUnmount:M,destroyed:E,unmounted:I,render:B,renderTracked:S,renderTriggered:A,errorCaptured:$,serverPrefetch:k,expose:L,inheritAttrs:j,components:R,directives:V,filters:ke}=s;if(m&&Ra(m,n,null),l)for(const le in l){const he=l[le];ae(he)&&(n[le]=he.bind(o))}if(i){const le=i.call(o,o);Ce(le)&&(e.data=mt(le))}if(Vo=!0,r)for(const le in r){const he=r[le],gt=ae(he)?he.bind(o,o):ae(he.get)?he.get.bind(o,o):ft,jt=!ae(he)&&ae(he.set)?he.set.bind(o):ft,rt=U({get:gt,set:jt});Object.defineProperty(n,le,{enumerable:!0,configurable:!0,get:()=>rt.value,set:Ue=>rt.value=Ue})}if(a)for(const le in a)Bi(a[le],n,o,le);if(d){const le=ae(d)?d.call(o):d;Reflect.ownKeys(le).forEach(he=>{as(he,le[he])})}u&&On(u,e,"c");function W(le,he){oe(he)?he.forEach(gt=>le(gt.bind(o))):he&&le(he.bind(o))}if(W(Ia,f),W(me,h),W(Ma,w),W(Sa,b),W($a,c),W(Ca,g),W(Ba,$),W(Pa,S),W(Ta,A),W(gn,M),W(hn,I),W(Aa,k),oe(L))if(L.length){const le=e.exposed||(e.exposed={});L.forEach(he=>{Object.defineProperty(le,he,{get:()=>o[he],set:gt=>o[he]=gt})})}else e.exposed||(e.exposed={});B&&e.render===ft&&(e.render=B),j!=null&&(e.inheritAttrs=j),R&&(e.components=R),V&&(e.directives=V),k&&Ii(e)}function Ra(e,s,o=ft){oe(e)&&(e=qo(e));for(const n in e){const i=e[n];let r;Ce(i)?"default"in i?r=Ke(i.from||n,i.default,!0):r=Ke(i.from||n):r=Ke(i),Ae(r)?Object.defineProperty(s,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:l=>r.value=l}):s[n]=r}}function On(e,s,o){st(oe(e)?e.map(n=>n.bind(s.proxy)):e.bind(s.proxy),s,o)}function Bi(e,s,o,n){let i=n.includes(".")?Wi(o,n):()=>o[n];if(Se(e)){const r=s[e];ae(r)&&pt(i,r)}else if(ae(e))pt(i,e.bind(o));else if(Ce(e))if(oe(e))e.forEach(r=>Bi(r,s,o,n));else{const r=ae(e.handler)?e.handler.bind(o):s[e.handler];ae(r)&&pt(i,r,e)}}function Li(e){const s=e.type,{mixins:o,extends:n}=s,{mixins:i,optionsCache:r,config:{optionMergeStrategies:l}}=e.appContext,a=r.get(s);let d;return a?d=a:!i.length&&!o&&!n?d=s:(d={},i.length&&i.forEach(m=>ro(d,m,l,!0)),ro(d,s,l)),Ce(s)&&r.set(s,d),d}function ro(e,s,o,n=!1){const{mixins:i,extends:r}=s;r&&ro(e,r,o,!0),i&&i.forEach(l=>ro(e,l,o,!0));for(const l in s)if(!(n&&l==="expose")){const a=Oa[l]||o&&o[l];e[l]=a?a(e[l],s[l]):s[l]}return e}const Oa={data:zn,props:Hn,emits:Hn,methods:ws,computed:ws,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:ws,directives:ws,watch:Ha,provide:zn,inject:za};function zn(e,s){return s?e?function(){return Le(ae(e)?e.call(this,this):e,ae(s)?s.call(this,this):s)}:s:e}function za(e,s){return ws(qo(e),qo(s))}function qo(e){if(oe(e)){const s={};for(let o=0;o<e.length;o++)s[e[o]]=e[o];return s}return e}function Oe(e,s){return e?[...new Set([].concat(e,s))]:s}function ws(e,s){return e?Le(Object.create(null),e,s):s}function Hn(e,s){return e?oe(e)&&oe(s)?[...new Set([...e,...s])]:Le(Object.create(null),Rn(e),Rn(s??{})):s}function Ha(e,s){if(!e)return s;if(!s)return e;const o=Le(Object.create(null),e);for(const n in s)o[n]=Oe(e[n],s[n]);return o}function Ei(){return{app:null,config:{isNativeTag:Ml,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Na=0;function Ua(e,s){return function(n,i=null){ae(n)||(n=Le({},n)),i!=null&&!Ce(i)&&(i=null);const r=Ei(),l=new WeakSet,a=[];let d=!1;const m=r.app={_uid:Na++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:$d,get config(){return r.config},set config(u){},use(u,...f){return l.has(u)||(u&&ae(u.install)?(l.add(u),u.install(m,...f)):ae(u)&&(l.add(u),u(m,...f))),m},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),m},component(u,f){return f?(r.components[u]=f,m):r.components[u]},directive(u,f){return f?(r.directives[u]=f,m):r.directives[u]},mount(u,f,h){if(!d){const w=m._ceVNode||Be(n,i);return w.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),e(w,u,h),d=!0,m._container=u,u.__vue_app__=m,yo(w.component)}},onUnmount(u){a.push(u)},unmount(){d&&(st(a,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(u,f){return r.provides[u]=f,m},runWithContext(u){const f=Kt;Kt=m;try{return u()}finally{Kt=f}}};return m}}let Kt=null;function as(e,s){if(Pe){let o=Pe.provides;const n=Pe.parent&&Pe.parent.provides;n===o&&(o=Pe.provides=Object.create(n)),o[e]=s}}function Ke(e,s,o=!1){const n=Pe||Ne;if(n||Kt){const i=Kt?Kt._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return o&&ae(s)?s.call(n&&n.proxy):s}}function Fa(){return!!(Pe||Ne||Kt)}const Di={},Ri=()=>Object.create(Di),Oi=e=>Object.getPrototypeOf(e)===Di;function Va(e,s,o,n=!1){const i={},r=Ri();e.propsDefaults=Object.create(null),zi(e,s,i,r);for(const l in e.propsOptions[0])l in i||(i[l]=void 0);o?e.props=n?i:ci(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function qa(e,s,o,n){const{props:i,attrs:r,vnode:{patchFlag:l}}=e,a=pe(i),[d]=e.propsOptions;let m=!1;if((n||l>0)&&!(l&16)){if(l&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(ho(e.emitsOptions,h))continue;const w=s[h];if(d)if(ye(r,h))w!==r[h]&&(r[h]=w,m=!0);else{const b=et(h);i[b]=Zo(d,a,b,w,e,!1)}else w!==r[h]&&(r[h]=w,m=!0)}}}else{zi(e,s,i,r)&&(m=!0);let u;for(const f in a)(!s||!ye(s,f)&&((u=Ot(f))===f||!ye(s,u)))&&(d?o&&(o[f]!==void 0||o[u]!==void 0)&&(i[f]=Zo(d,a,f,void 0,e,!0)):delete i[f]);if(r!==a)for(const f in r)(!s||!ye(s,f))&&(delete r[f],m=!0)}m&&kt(e.attrs,"set","")}function zi(e,s,o,n){const[i,r]=e.propsOptions;let l=!1,a;if(s)for(let d in s){if(bs(d))continue;const m=s[d];let u;i&&ye(i,u=et(d))?!r||!r.includes(u)?o[u]=m:(a||(a={}))[u]=m:ho(e.emitsOptions,d)||(!(d in n)||m!==n[d])&&(n[d]=m,l=!0)}if(r){const d=pe(o),m=a||$e;for(let u=0;u<r.length;u++){const f=r[u];o[f]=Zo(i,d,f,m[f],e,!ye(m,f))}}return l}function Zo(e,s,o,n,i,r){const l=e[o];if(l!=null){const a=ye(l,"default");if(a&&n===void 0){const d=l.default;if(l.type!==Function&&!l.skipFactory&&ae(d)){const{propsDefaults:m}=i;if(o in m)n=m[o];else{const u=Ns(i);n=m[o]=d.call(null,s),u()}}else n=d;i.ce&&i.ce._setProp(o,n)}l[0]&&(r&&!a?n=!1:l[1]&&(n===""||n===Ot(o))&&(n=!0))}return n}const Za=new WeakMap;function Hi(e,s,o=!1){const n=o?Za:s.propsCache,i=n.get(e);if(i)return i;const r=e.props,l={},a=[];let d=!1;if(!ae(e)){const u=f=>{d=!0;const[h,w]=Hi(f,s,!0);Le(l,h),w&&a.push(...w)};!o&&s.mixins.length&&s.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!d)return Ce(e)&&n.set(e,rs),rs;if(oe(r))for(let u=0;u<r.length;u++){const f=et(r[u]);Nn(f)&&(l[f]=$e)}else if(r)for(const u in r){const f=et(u);if(Nn(f)){const h=r[u],w=l[f]=oe(h)||ae(h)?{type:h}:Le({},h),b=w.type;let c=!1,g=!0;if(oe(b))for(let y=0;y<b.length;++y){const M=b[y],E=ae(M)&&M.name;if(E==="Boolean"){c=!0;break}else E==="String"&&(g=!1)}else c=ae(b)&&b.name==="Boolean";w[0]=c,w[1]=g,(c||ye(w,"default"))&&a.push(f)}}const m=[l,a];return Ce(e)&&n.set(e,m),m}function Nn(e){return e[0]!=="$"&&!bs(e)}const Ni=e=>e[0]==="_"||e==="$stable",xn=e=>oe(e)?e.map(ct):[ct(e)],Ga=(e,s,o)=>{if(s._n)return s;const n=oo((...i)=>xn(s(...i)),o);return n._c=!1,n},Ui=(e,s,o)=>{const n=e._ctx;for(const i in e){if(Ni(i))continue;const r=e[i];if(ae(r))s[i]=Ga(i,r,n);else if(r!=null){const l=xn(r);s[i]=()=>l}}},Fi=(e,s)=>{const o=xn(s);e.slots.default=()=>o},Vi=(e,s,o)=>{for(const n in s)(o||n!=="_")&&(e[n]=s[n])},Wa=(e,s,o)=>{const n=e.slots=Ri();if(e.vnode.shapeFlag&32){const i=s._;i?(Vi(n,s,o),o&&Vr(n,"_",i,!0)):Ui(s,n)}else s&&Fi(e,s)},Ka=(e,s,o)=>{const{vnode:n,slots:i}=e;let r=!0,l=$e;if(n.shapeFlag&32){const a=s._;a?o&&a===1?r=!1:Vi(i,s,o):(r=!s.$stable,Ui(s,i)),l=s}else s&&(Fi(e,s),l={default:1});if(r)for(const a in i)!Ni(a)&&l[a]==null&&delete i[a]},Ge=dd;function Ja(e){return Ya(e)}function Ya(e,s){const o=fo();o.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:l,createText:a,createComment:d,setText:m,setElementText:u,parentNode:f,nextSibling:h,setScopeId:w=ft,insertStaticContent:b}=e,c=(_,C,T,O=null,N=null,H=null,K=void 0,Z=null,q=!!C.dynamicChildren)=>{if(_===C)return;_&&!Gt(_,C)&&(O=z(_),Ue(_,N,H,!0),_=null),C.patchFlag===-2&&(q=!1,C.dynamicChildren=null);const{type:F,ref:re,shapeFlag:Y}=C;switch(F){case xo:g(_,C,T,O);break;case Ve:y(_,C,T,O);break;case Ks:_==null&&M(C,T,O,K);break;case G:R(_,C,T,O,N,H,K,Z,q);break;default:Y&1?B(_,C,T,O,N,H,K,Z,q):Y&6?V(_,C,T,O,N,H,K,Z,q):(Y&64||Y&128)&&F.process(_,C,T,O,N,H,K,Z,q,te)}re!=null&&N&&no(re,_&&_.ref,H,C||_,!C)},g=(_,C,T,O)=>{if(_==null)n(C.el=a(C.children),T,O);else{const N=C.el=_.el;C.children!==_.children&&m(N,C.children)}},y=(_,C,T,O)=>{_==null?n(C.el=d(C.children||""),T,O):C.el=_.el},M=(_,C,T,O)=>{[_.el,_.anchor]=b(_.children,C,T,O,_.el,_.anchor)},E=({el:_,anchor:C},T,O)=>{let N;for(;_&&_!==C;)N=h(_),n(_,T,O),_=N;n(C,T,O)},I=({el:_,anchor:C})=>{let T;for(;_&&_!==C;)T=h(_),i(_),_=T;i(C)},B=(_,C,T,O,N,H,K,Z,q)=>{C.type==="svg"?K="svg":C.type==="math"&&(K="mathml"),_==null?S(C,T,O,N,H,K,Z,q):k(_,C,N,H,K,Z,q)},S=(_,C,T,O,N,H,K,Z)=>{let q,F;const{props:re,shapeFlag:Y,transition:ne,dirs:ie}=_;if(q=_.el=l(_.type,H,re&&re.is,re),Y&8?u(q,_.children):Y&16&&$(_.children,q,null,O,N,Ao(_,H),K,Z),ie&&Ut(_,null,O,"created"),A(q,_,_.scopeId,K,O),re){for(const je in re)je!=="value"&&!bs(je)&&r(q,je,null,re[je],H,O);"value"in re&&r(q,"value",null,re.value,H),(F=re.onVnodeBeforeMount)&&dt(F,O,_)}ie&&Ut(_,null,O,"beforeMount");const fe=Qa(N,ne);fe&&ne.beforeEnter(q),n(q,C,T),((F=re&&re.onVnodeMounted)||fe||ie)&&Ge(()=>{F&&dt(F,O,_),fe&&ne.enter(q),ie&&Ut(_,null,O,"mounted")},N)},A=(_,C,T,O,N)=>{if(T&&w(_,T),O)for(let H=0;H<O.length;H++)w(_,O[H]);if(N){let H=N.subTree;if(C===H||Ji(H.type)&&(H.ssContent===C||H.ssFallback===C)){const K=N.vnode;A(_,K,K.scopeId,K.slotScopeIds,N.parent)}}},$=(_,C,T,O,N,H,K,Z,q=0)=>{for(let F=q;F<_.length;F++){const re=_[F]=Z?Pt(_[F]):ct(_[F]);c(null,re,C,T,O,N,H,K,Z)}},k=(_,C,T,O,N,H,K)=>{const Z=C.el=_.el;let{patchFlag:q,dynamicChildren:F,dirs:re}=C;q|=_.patchFlag&16;const Y=_.props||$e,ne=C.props||$e;let ie;if(T&&Ft(T,!1),(ie=ne.onVnodeBeforeUpdate)&&dt(ie,T,C,_),re&&Ut(C,_,T,"beforeUpdate"),T&&Ft(T,!0),(Y.innerHTML&&ne.innerHTML==null||Y.textContent&&ne.textContent==null)&&u(Z,""),F?L(_.dynamicChildren,F,Z,T,O,Ao(C,N),H):K||he(_,C,Z,null,T,O,Ao(C,N),H,!1),q>0){if(q&16)j(Z,Y,ne,T,N);else if(q&2&&Y.class!==ne.class&&r(Z,"class",null,ne.class,N),q&4&&r(Z,"style",Y.style,ne.style,N),q&8){const fe=C.dynamicProps;for(let je=0;je<fe.length;je++){const be=fe[je],qe=Y[be],Fe=ne[be];(Fe!==qe||be==="value")&&r(Z,be,qe,Fe,N,T)}}q&1&&_.children!==C.children&&u(Z,C.children)}else!K&&F==null&&j(Z,Y,ne,T,N);((ie=ne.onVnodeUpdated)||re)&&Ge(()=>{ie&&dt(ie,T,C,_),re&&Ut(C,_,T,"updated")},O)},L=(_,C,T,O,N,H,K)=>{for(let Z=0;Z<C.length;Z++){const q=_[Z],F=C[Z],re=q.el&&(q.type===G||!Gt(q,F)||q.shapeFlag&70)?f(q.el):T;c(q,F,re,null,O,N,H,K,!0)}},j=(_,C,T,O,N)=>{if(C!==T){if(C!==$e)for(const H in C)!bs(H)&&!(H in T)&&r(_,H,C[H],null,N,O);for(const H in T){if(bs(H))continue;const K=T[H],Z=C[H];K!==Z&&H!=="value"&&r(_,H,Z,K,N,O)}"value"in T&&r(_,"value",C.value,T.value,N)}},R=(_,C,T,O,N,H,K,Z,q)=>{const F=C.el=_?_.el:a(""),re=C.anchor=_?_.anchor:a("");let{patchFlag:Y,dynamicChildren:ne,slotScopeIds:ie}=C;ie&&(Z=Z?Z.concat(ie):ie),_==null?(n(F,T,O),n(re,T,O),$(C.children||[],T,re,N,H,K,Z,q)):Y>0&&Y&64&&ne&&_.dynamicChildren?(L(_.dynamicChildren,ne,T,N,H,K,Z),(C.key!=null||N&&C===N.subTree)&&qi(_,C,!0)):he(_,C,T,re,N,H,K,Z,q)},V=(_,C,T,O,N,H,K,Z,q)=>{C.slotScopeIds=Z,_==null?C.shapeFlag&512?N.ctx.activate(C,T,O,K,q):ke(C,T,O,N,H,K,q):se(_,C,q)},ke=(_,C,T,O,N,H,K)=>{const Z=_.component=gd(_,O,N);if(mo(_)&&(Z.ctx.renderer=te),xd(Z,!1,K),Z.asyncDep){if(N&&N.registerDep(Z,W,K),!_.el){const q=Z.subTree=Be(Ve);y(null,q,C,T)}}else W(Z,_,C,T,N,H,K)},se=(_,C,T)=>{const O=C.component=_.component;if(ld(_,C,T))if(O.asyncDep&&!O.asyncResolved){le(O,C,T);return}else O.next=C,O.update();else C.el=_.el,O.vnode=C},W=(_,C,T,O,N,H,K)=>{const Z=()=>{if(_.isMounted){let{next:Y,bu:ne,u:ie,parent:fe,vnode:je}=_;{const lt=Zi(_);if(lt){Y&&(Y.el=je.el,le(_,Y,K)),lt.asyncDep.then(()=>{_.isUnmounted||Z()});return}}let be=Y,qe;Ft(_,!1),Y?(Y.el=je.el,le(_,Y,K)):Y=je,ne&&Ws(ne),(qe=Y.props&&Y.props.onVnodeBeforeUpdate)&&dt(qe,fe,Y,je),Ft(_,!0);const Fe=Fn(_),it=_.subTree;_.subTree=Fe,c(it,Fe,f(it.el),z(it),_,N,H),Y.el=Fe.el,be===null&&ad(_,Fe.el),ie&&Ge(ie,N),(qe=Y.props&&Y.props.onVnodeUpdated)&&Ge(()=>dt(qe,fe,Y,je),N)}else{let Y;const{el:ne,props:ie}=C,{bm:fe,m:je,parent:be,root:qe,type:Fe}=_,it=$s(C);Ft(_,!1),fe&&Ws(fe),!it&&(Y=ie&&ie.onVnodeBeforeMount)&&dt(Y,be,C),Ft(_,!0);{qe.ce&&qe.ce._injectChildStyle(Fe);const lt=_.subTree=Fn(_);c(null,lt,T,O,_,N,H),C.el=lt.el}if(je&&Ge(je,N),!it&&(Y=ie&&ie.onVnodeMounted)){const lt=C;Ge(()=>dt(Y,be,lt),N)}(C.shapeFlag&256||be&&$s(be.vnode)&&be.vnode.shapeFlag&256)&&_.a&&Ge(_.a,N),_.isMounted=!0,C=T=O=null}};_.scope.on();const q=_.effect=new Yr(Z);_.scope.off();const F=_.update=q.run.bind(q),re=_.job=q.runIfDirty.bind(q);re.i=_,re.id=_.uid,q.scheduler=()=>mn(re),Ft(_,!0),F()},le=(_,C,T)=>{C.component=_;const O=_.vnode.props;_.vnode=C,_.next=null,qa(_,C.props,O,T),Ka(_,C.children,T),zt(),Ln(_),Ht()},he=(_,C,T,O,N,H,K,Z,q=!1)=>{const F=_&&_.children,re=_?_.shapeFlag:0,Y=C.children,{patchFlag:ne,shapeFlag:ie}=C;if(ne>0){if(ne&128){jt(F,Y,T,O,N,H,K,Z,q);return}else if(ne&256){gt(F,Y,T,O,N,H,K,Z,q);return}}ie&8?(re&16&&Je(F,N,H),Y!==F&&u(T,Y)):re&16?ie&16?jt(F,Y,T,O,N,H,K,Z,q):Je(F,N,H,!0):(re&8&&u(T,""),ie&16&&$(Y,T,O,N,H,K,Z,q))},gt=(_,C,T,O,N,H,K,Z,q)=>{_=_||rs,C=C||rs;const F=_.length,re=C.length,Y=Math.min(F,re);let ne;for(ne=0;ne<Y;ne++){const ie=C[ne]=q?Pt(C[ne]):ct(C[ne]);c(_[ne],ie,T,null,N,H,K,Z,q)}F>re?Je(_,N,H,!0,!1,Y):$(C,T,O,N,H,K,Z,q,Y)},jt=(_,C,T,O,N,H,K,Z,q)=>{let F=0;const re=C.length;let Y=_.length-1,ne=re-1;for(;F<=Y&&F<=ne;){const ie=_[F],fe=C[F]=q?Pt(C[F]):ct(C[F]);if(Gt(ie,fe))c(ie,fe,T,null,N,H,K,Z,q);else break;F++}for(;F<=Y&&F<=ne;){const ie=_[Y],fe=C[ne]=q?Pt(C[ne]):ct(C[ne]);if(Gt(ie,fe))c(ie,fe,T,null,N,H,K,Z,q);else break;Y--,ne--}if(F>Y){if(F<=ne){const ie=ne+1,fe=ie<re?C[ie].el:O;for(;F<=ne;)c(null,C[F]=q?Pt(C[F]):ct(C[F]),T,fe,N,H,K,Z,q),F++}}else if(F>ne)for(;F<=Y;)Ue(_[F],N,H,!0),F++;else{const ie=F,fe=F,je=new Map;for(F=fe;F<=ne;F++){const Ze=C[F]=q?Pt(C[F]):ct(C[F]);Ze.key!=null&&je.set(Ze.key,F)}let be,qe=0;const Fe=ne-fe+1;let it=!1,lt=0;const gs=new Array(Fe);for(F=0;F<Fe;F++)gs[F]=0;for(F=ie;F<=Y;F++){const Ze=_[F];if(qe>=Fe){Ue(Ze,N,H,!0);continue}let at;if(Ze.key!=null)at=je.get(Ze.key);else for(be=fe;be<=ne;be++)if(gs[be-fe]===0&&Gt(Ze,C[be])){at=be;break}at===void 0?Ue(Ze,N,H,!0):(gs[at-fe]=F+1,at>=lt?lt=at:it=!0,c(Ze,C[at],T,null,N,H,K,Z,q),qe++)}const Mn=it?Xa(gs):rs;for(be=Mn.length-1,F=Fe-1;F>=0;F--){const Ze=fe+F,at=C[Ze],Sn=Ze+1<re?C[Ze+1].el:O;gs[F]===0?c(null,at,T,Sn,N,H,K,Z,q):it&&(be<0||F!==Mn[be]?rt(at,T,Sn,2):be--)}}},rt=(_,C,T,O,N=null)=>{const{el:H,type:K,transition:Z,children:q,shapeFlag:F}=_;if(F&6){rt(_.component.subTree,C,T,O);return}if(F&128){_.suspense.move(C,T,O);return}if(F&64){K.move(_,C,T,te);return}if(K===G){n(H,C,T);for(let Y=0;Y<q.length;Y++)rt(q[Y],C,T,O);n(_.anchor,C,T);return}if(K===Ks){E(_,C,T);return}if(O!==2&&F&1&&Z)if(O===0)Z.beforeEnter(H),n(H,C,T),Ge(()=>Z.enter(H),N);else{const{leave:Y,delayLeave:ne,afterLeave:ie}=Z,fe=()=>n(H,C,T),je=()=>{Y(H,()=>{fe(),ie&&ie()})};ne?ne(H,fe,je):je()}else n(H,C,T)},Ue=(_,C,T,O=!1,N=!1)=>{const{type:H,props:K,ref:Z,children:q,dynamicChildren:F,shapeFlag:re,patchFlag:Y,dirs:ne,cacheIndex:ie}=_;if(Y===-2&&(N=!1),Z!=null&&no(Z,null,T,_,!0),ie!=null&&(C.renderCache[ie]=void 0),re&256){C.ctx.deactivate(_);return}const fe=re&1&&ne,je=!$s(_);let be;if(je&&(be=K&&K.onVnodeBeforeUnmount)&&dt(be,C,_),re&6)Us(_.component,T,O);else{if(re&128){_.suspense.unmount(T,O);return}fe&&Ut(_,null,C,"beforeUnmount"),re&64?_.type.remove(_,C,T,te,O):F&&!F.hasOnce&&(H!==G||Y>0&&Y&64)?Je(F,C,T,!1,!0):(H===G&&Y&384||!N&&re&16)&&Je(q,C,T),O&&Xt(_)}(je&&(be=K&&K.onVnodeUnmounted)||fe)&&Ge(()=>{be&&dt(be,C,_),fe&&Ut(_,null,C,"unmounted")},T)},Xt=_=>{const{type:C,el:T,anchor:O,transition:N}=_;if(C===G){es(T,O);return}if(C===Ks){I(_);return}const H=()=>{i(T),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(_.shapeFlag&1&&N&&!N.persisted){const{leave:K,delayLeave:Z}=N,q=()=>K(T,H);Z?Z(_.el,H,q):q()}else H()},es=(_,C)=>{let T;for(;_!==C;)T=h(_),i(_),_=T;i(C)},Us=(_,C,T)=>{const{bum:O,scope:N,job:H,subTree:K,um:Z,m:q,a:F}=_;Un(q),Un(F),O&&Ws(O),N.stop(),H&&(H.flags|=8,Ue(K,_,C,T)),Z&&Ge(Z,C),Ge(()=>{_.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},Je=(_,C,T,O=!1,N=!1,H=0)=>{for(let K=H;K<_.length;K++)Ue(_[K],C,T,O,N)},z=_=>{if(_.shapeFlag&6)return z(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const C=h(_.anchor||_.el),T=C&&C[wa];return T?h(T):C};let X=!1;const J=(_,C,T)=>{_==null?C._vnode&&Ue(C._vnode,null,null,!0):c(C._vnode||null,_,C,null,null,null,T),C._vnode=_,X||(X=!0,Ln(),hi(),X=!1)},te={p:c,um:Ue,m:rt,r:Xt,mt:ke,mc:$,pc:he,pbc:L,n:z,o:e};return{render:J,hydrate:void 0,createApp:Ua(J)}}function Ao({type:e,props:s},o){return o==="svg"&&e==="foreignObject"||o==="mathml"&&e==="annotation-xml"&&s&&s.encoding&&s.encoding.includes("html")?void 0:o}function Ft({effect:e,job:s},o){o?(e.flags|=32,s.flags|=4):(e.flags&=-33,s.flags&=-5)}function Qa(e,s){return(!e||e&&!e.pendingBranch)&&s&&!s.persisted}function qi(e,s,o=!1){const n=e.children,i=s.children;if(oe(n)&&oe(i))for(let r=0;r<n.length;r++){const l=n[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Pt(i[r]),a.el=l.el),!o&&a.patchFlag!==-2&&qi(l,a)),a.type===xo&&(a.el=l.el)}}function Xa(e){const s=e.slice(),o=[0];let n,i,r,l,a;const d=e.length;for(n=0;n<d;n++){const m=e[n];if(m!==0){if(i=o[o.length-1],e[i]<m){s[n]=i,o.push(n);continue}for(r=0,l=o.length-1;r<l;)a=r+l>>1,e[o[a]]<m?r=a+1:l=a;m<e[o[r]]&&(r>0&&(s[n]=o[r-1]),o[r]=n)}}for(r=o.length,l=o[r-1];r-- >0;)o[r]=l,l=s[l];return o}function Zi(e){const s=e.subTree.component;if(s)return s.asyncDep&&!s.asyncResolved?s:Zi(s)}function Un(e){if(e)for(let s=0;s<e.length;s++)e[s].flags|=8}const ed=Symbol.for("v-scx"),td=()=>Ke(ed);function pt(e,s,o){return Gi(e,s,o)}function Gi(e,s,o=$e){const{immediate:n,deep:i,flush:r,once:l}=o,a=Le({},o),d=s&&n||!s&&r!=="post";let m;if(Es){if(r==="sync"){const w=td();m=w.__watcherHandles||(w.__watcherHandles=[])}else if(!d){const w=()=>{};return w.stop=ft,w.resume=ft,w.pause=ft,w}}const u=Pe;a.call=(w,b,c)=>st(w,u,b,c);let f=!1;r==="post"?a.scheduler=w=>{Ge(w,u&&u.suspense)}:r!=="sync"&&(f=!0,a.scheduler=(w,b)=>{b?w():mn(w)}),a.augmentJob=w=>{s&&(w.flags|=4),f&&(w.flags|=2,u&&(w.id=u.uid,w.i=u))};const h=ga(e,s,a);return Es&&(m?m.push(h):d&&h()),h}function sd(e,s,o){const n=this.proxy,i=Se(e)?e.includes(".")?Wi(n,e):()=>n[e]:e.bind(n,n);let r;ae(s)?r=s:(r=s.handler,o=s);const l=Ns(this),a=Gi(i,r.bind(n),o);return l(),a}function Wi(e,s){const o=s.split(".");return()=>{let n=e;for(let i=0;i<o.length&&n;i++)n=n[o[i]];return n}}const od=(e,s)=>s==="modelValue"||s==="model-value"?e.modelModifiers:e[`${s}Modifiers`]||e[`${et(s)}Modifiers`]||e[`${Ot(s)}Modifiers`];function nd(e,s,...o){if(e.isUnmounted)return;const n=e.vnode.props||$e;let i=o;const r=s.startsWith("update:"),l=r&&od(n,s.slice(7));l&&(l.trim&&(i=o.map(u=>Se(u)?u.trim():u)),l.number&&(i=o.map(Qs)));let a,d=n[a=_o(s)]||n[a=_o(et(s))];!d&&r&&(d=n[a=_o(Ot(s))]),d&&st(d,e,6,i);const m=n[a+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,st(m,e,6,i)}}function Ki(e,s,o=!1){const n=s.emitsCache,i=n.get(e);if(i!==void 0)return i;const r=e.emits;let l={},a=!1;if(!ae(e)){const d=m=>{const u=Ki(m,s,!0);u&&(a=!0,Le(l,u))};!o&&s.mixins.length&&s.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!r&&!a?(Ce(e)&&n.set(e,null),null):(oe(r)?r.forEach(d=>l[d]=null):Le(l,r),Ce(e)&&n.set(e,l),l)}function ho(e,s){return!e||!ao(s)?!1:(s=s.slice(2).replace(/Once$/,""),ye(e,s[0].toLowerCase()+s.slice(1))||ye(e,Ot(s))||ye(e,s))}function Fn(e){const{type:s,vnode:o,proxy:n,withProxy:i,propsOptions:[r],slots:l,attrs:a,emit:d,render:m,renderCache:u,props:f,data:h,setupState:w,ctx:b,inheritAttrs:c}=e,g=so(e);let y,M;try{if(o.shapeFlag&4){const I=i||n,B=I;y=ct(m.call(B,I,u,f,w,h,b)),M=a}else{const I=s;y=ct(I.length>1?I(f,{attrs:a,slots:l,emit:d}):I(f,null)),M=s.props?a:rd(a)}}catch(I){js.length=0,vo(I,e,1),y=Be(Ve)}let E=y;if(M&&c!==!1){const I=Object.keys(M),{shapeFlag:B}=E;I.length&&B&7&&(r&&I.some(sn)&&(M=id(M,r)),E=Dt(E,M,!1,!0))}return o.dirs&&(E=Dt(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(o.dirs):o.dirs),o.transition&&Bs(E,o.transition),y=E,so(g),y}const rd=e=>{let s;for(const o in e)(o==="class"||o==="style"||ao(o))&&((s||(s={}))[o]=e[o]);return s},id=(e,s)=>{const o={};for(const n in e)(!sn(n)||!(n.slice(9)in s))&&(o[n]=e[n]);return o};function ld(e,s,o){const{props:n,children:i,component:r}=e,{props:l,children:a,patchFlag:d}=s,m=r.emitsOptions;if(s.dirs||s.transition)return!0;if(o&&d>=0){if(d&1024)return!0;if(d&16)return n?Vn(n,l,m):!!l;if(d&8){const u=s.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(l[h]!==n[h]&&!ho(m,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===l?!1:n?l?Vn(n,l,m):!0:!!l;return!1}function Vn(e,s,o){const n=Object.keys(s);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(s[r]!==e[r]&&!ho(o,r))return!0}return!1}function ad({vnode:e,parent:s},o){for(;s;){const n=s.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=s.vnode).el=o,s=s.parent;else break}}const Ji=e=>e.__isSuspense;function dd(e,s){s&&s.pendingBranch?oe(e)?s.effects.push(...e):s.effects.push(e):ya(e)}const G=Symbol.for("v-fgt"),xo=Symbol.for("v-txt"),Ve=Symbol.for("v-cmt"),Ks=Symbol.for("v-stc"),js=[];let We=null;function p(e=!1){js.push(We=e?null:[])}function ud(){js.pop(),We=js[js.length-1]||null}let Ls=1;function qn(e,s=!1){Ls+=e,e<0&&We&&s&&(We.hasOnce=!0)}function Yi(e){return e.dynamicChildren=Ls>0?We||rs:null,ud(),Ls>0&&We&&We.push(e),e}function v(e,s,o,n,i,r){return Yi(t(e,s,o,n,i,r,!0))}function Go(e,s,o,n,i){return Yi(Be(e,s,o,n,i,!0))}function io(e){return e?e.__v_isVNode===!0:!1}function Gt(e,s){return e.type===s.type&&e.key===s.key}const Qi=({key:e})=>e??null,Js=({ref:e,ref_key:s,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?Se(e)||Ae(e)||ae(e)?{i:Ne,r:e,k:s,f:!!o}:e:null);function t(e,s=null,o=null,n=0,i=null,r=e===G?0:1,l=!1,a=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:s,key:s&&Qi(s),ref:s&&Js(s),scopeId:yi,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ne};return a?(yn(d,o),r&128&&e.normalize(d)):o&&(d.shapeFlag|=Se(o)?8:16),Ls>0&&!l&&We&&(d.patchFlag>0||r&6)&&d.patchFlag!==32&&We.push(d),d}const Be=cd;function cd(e,s=null,o=null,n=0,i=null,r=!1){if((!e||e===Ti)&&(e=Ve),io(e)){const a=Dt(e,s,!0);return o&&yn(a,o),Ls>0&&!r&&We&&(a.shapeFlag&6?We[We.indexOf(e)]=a:We.push(a)),a.patchFlag=-2,a}if(_d(e)&&(e=e.__vccOpts),s){s=fd(s);let{class:a,style:d}=s;a&&!Se(a)&&(s.class=Q(a)),Ce(d)&&(pn(d)&&!oe(d)&&(d=Le({},d)),s.style=Te(d))}const l=Se(e)?1:Ji(e)?128:wi(e)?64:Ce(e)?4:ae(e)?2:0;return t(e,s,o,n,i,l,r,!0)}function fd(e){return e?pn(e)||Oi(e)?Le({},e):e:null}function Dt(e,s,o=!1,n=!1){const{props:i,ref:r,patchFlag:l,children:a,transition:d}=e,m=s?pd(i||{},s):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&Qi(m),ref:s&&s.ref?o&&r?oe(r)?r.concat(Js(s)):[r,Js(s)]:Js(s):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:s&&e.type!==G?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Dt(e.ssContent),ssFallback:e.ssFallback&&Dt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&n&&Bs(u,d.clone(u)),u}function we(e=" ",s=0){return Be(xo,null,e,s)}function Me(e,s){const o=Be(Ks,null,e);return o.staticCount=s,o}function D(e="",s=!1){return s?(p(),Go(Ve,null,e)):Be(Ve,null,e)}function ct(e){return e==null||typeof e=="boolean"?Be(Ve):oe(e)?Be(G,null,e.slice()):io(e)?Pt(e):Be(xo,null,String(e))}function Pt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Dt(e)}function yn(e,s){let o=0;const{shapeFlag:n}=e;if(s==null)s=null;else if(oe(s))o=16;else if(typeof s=="object")if(n&65){const i=s.default;i&&(i._c&&(i._d=!1),yn(e,i()),i._c&&(i._d=!0));return}else{o=32;const i=s._;!i&&!Oi(s)?s._ctx=Ne:i===3&&Ne&&(Ne.slots._===1?s._=1:(s._=2,e.patchFlag|=1024))}else ae(s)?(s={default:s,_ctx:Ne},o=32):(s=String(s),n&64?(o=16,s=[we(s)]):o=8);e.children=s,e.shapeFlag|=o}function pd(...e){const s={};for(let o=0;o<e.length;o++){const n=e[o];for(const i in n)if(i==="class")s.class!==n.class&&(s.class=Q([s.class,n.class]));else if(i==="style")s.style=Te([s.style,n.style]);else if(ao(i)){const r=s[i],l=n[i];l&&r!==l&&!(oe(r)&&r.includes(l))&&(s[i]=r?[].concat(r,l):l)}else i!==""&&(s[i]=n[i])}return s}function dt(e,s,o,n=null){st(e,s,7,[o,n])}const vd=Ei();let md=0;function gd(e,s,o){const n=e.type,i=(s?s.appContext:e.appContext)||vd,r={uid:md++,vnode:e,type:n,parent:s,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Wr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(i.provides),ids:s?s.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hi(n,i),emitsOptions:Ki(n,i),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:n.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=s?s.root:r,r.emit=nd.bind(null,r),e.ce&&e.ce(r),r}let Pe=null;const hd=()=>Pe||Ne;let lo,Wo;{const e=fo(),s=(o,n)=>{let i;return(i=e[o])||(i=e[o]=[]),i.push(n),r=>{i.length>1?i.forEach(l=>l(r)):i[0](r)}};lo=s("__VUE_INSTANCE_SETTERS__",o=>Pe=o),Wo=s("__VUE_SSR_SETTERS__",o=>Es=o)}const Ns=e=>{const s=Pe;return lo(e),e.scope.on(),()=>{e.scope.off(),lo(s)}},Zn=()=>{Pe&&Pe.scope.off(),lo(null)};function Xi(e){return e.vnode.shapeFlag&4}let Es=!1;function xd(e,s=!1,o=!1){s&&Wo(s);const{props:n,children:i}=e.vnode,r=Xi(e);Va(e,n,r,s),Wa(e,i,o);const l=r?yd(e,s):void 0;return s&&Wo(!1),l}function yd(e,s){const o=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ea);const{setup:n}=o;if(n){zt();const i=e.setupContext=n.length>1?bd(e):null,r=Ns(e),l=Hs(n,e,0,[e.props,i]),a=Nr(l);if(Ht(),r(),(a||e.sp)&&!$s(e)&&Ii(e),a){if(l.then(Zn,Zn),s)return l.then(d=>{Gn(e,d)}).catch(d=>{vo(d,e,0)});e.asyncDep=l}else Gn(e,l)}else el(e)}function Gn(e,s,o){ae(s)?e.type.__ssrInlineRender?e.ssrRender=s:e.render=s:Ce(s)&&(e.setupState=vi(s)),el(e)}function el(e,s,o){const n=e.type;e.render||(e.render=n.render||ft);{const i=Ns(e);zt();try{Da(e)}finally{Ht(),i()}}}const wd={get(e,s){return De(e,"get",""),e[s]}};function bd(e){const s=o=>{e.exposed=o||{}};return{attrs:new Proxy(e.attrs,wd),slots:e.slots,emit:e.emit,expose:s}}function yo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(vi(vn(e.exposed)),{get(s,o){if(o in s)return s[o];if(o in Cs)return Cs[o](e)},has(s,o){return o in s||o in Cs}})):e.proxy}function kd(e,s=!0){return ae(e)?e.displayName||e.name:e.name||s&&e.__name}function _d(e){return ae(e)&&"__vccOpts"in e}const U=(e,s)=>va(e,s,Es);function wn(e,s,o){const n=arguments.length;return n===2?Ce(s)&&!oe(s)?io(s)?Be(e,null,[s]):Be(e,s):Be(e,null,s):(n>3?o=Array.prototype.slice.call(arguments,2):n===3&&io(o)&&(o=[o]),Be(e,s,o))}const $d="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ko;const Wn=typeof window<"u"&&window.trustedTypes;if(Wn)try{Ko=Wn.createPolicy("vue",{createHTML:e=>e})}catch{}const tl=Ko?e=>Ko.createHTML(e):e=>e,Cd="http://www.w3.org/2000/svg",jd="http://www.w3.org/1998/Math/MathML",bt=typeof document<"u"?document:null,Kn=bt&&bt.createElement("template"),Id={insert:(e,s,o)=>{s.insertBefore(e,o||null)},remove:e=>{const s=e.parentNode;s&&s.removeChild(e)},createElement:(e,s,o,n)=>{const i=s==="svg"?bt.createElementNS(Cd,e):s==="mathml"?bt.createElementNS(jd,e):o?bt.createElement(e,{is:o}):bt.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>bt.createTextNode(e),createComment:e=>bt.createComment(e),setText:(e,s)=>{e.nodeValue=s},setElementText:(e,s)=>{e.textContent=s},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>bt.querySelector(e),setScopeId(e,s){e.setAttribute(s,"")},insertStaticContent(e,s,o,n,i,r){const l=o?o.previousSibling:s.lastChild;if(i&&(i===r||i.nextSibling))for(;s.insertBefore(i.cloneNode(!0),o),!(i===r||!(i=i.nextSibling)););else{Kn.innerHTML=tl(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=Kn.content;if(n==="svg"||n==="mathml"){const d=a.firstChild;for(;d.firstChild;)a.appendChild(d.firstChild);a.removeChild(d)}s.insertBefore(a,o)}return[l?l.nextSibling:s.firstChild,o?o.previousSibling:s.lastChild]}},It="transition",xs="animation",Ds=Symbol("_vtc"),sl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Md=Le({},bi,sl),Sd=e=>(e.displayName="Transition",e.props=Md,e),Ad=Sd((e,{slots:s})=>wn(_a,Td(e),s)),Vt=(e,s=[])=>{oe(e)?e.forEach(o=>o(...s)):e&&e(...s)},Jn=e=>e?oe(e)?e.some(s=>s.length>1):e.length>1:!1;function Td(e){const s={};for(const R in e)R in sl||(s[R]=e[R]);if(e.css===!1)return s;const{name:o="v",type:n,duration:i,enterFromClass:r=`${o}-enter-from`,enterActiveClass:l=`${o}-enter-active`,enterToClass:a=`${o}-enter-to`,appearFromClass:d=r,appearActiveClass:m=l,appearToClass:u=a,leaveFromClass:f=`${o}-leave-from`,leaveActiveClass:h=`${o}-leave-active`,leaveToClass:w=`${o}-leave-to`}=e,b=Pd(i),c=b&&b[0],g=b&&b[1],{onBeforeEnter:y,onEnter:M,onEnterCancelled:E,onLeave:I,onLeaveCancelled:B,onBeforeAppear:S=y,onAppear:A=M,onAppearCancelled:$=E}=s,k=(R,V,ke,se)=>{R._enterCancelled=se,qt(R,V?u:a),qt(R,V?m:l),ke&&ke()},L=(R,V)=>{R._isLeaving=!1,qt(R,f),qt(R,w),qt(R,h),V&&V()},j=R=>(V,ke)=>{const se=R?A:M,W=()=>k(V,R,ke);Vt(se,[V,W]),Yn(()=>{qt(V,R?d:r),xt(V,R?u:a),Jn(se)||Qn(V,n,c,W)})};return Le(s,{onBeforeEnter(R){Vt(y,[R]),xt(R,r),xt(R,l)},onBeforeAppear(R){Vt(S,[R]),xt(R,d),xt(R,m)},onEnter:j(!1),onAppear:j(!0),onLeave(R,V){R._isLeaving=!0;const ke=()=>L(R,V);xt(R,f),R._enterCancelled?(xt(R,h),tr()):(tr(),xt(R,h)),Yn(()=>{R._isLeaving&&(qt(R,f),xt(R,w),Jn(I)||Qn(R,n,g,ke))}),Vt(I,[R,ke])},onEnterCancelled(R){k(R,!1,void 0,!0),Vt(E,[R])},onAppearCancelled(R){k(R,!0,void 0,!0),Vt($,[R])},onLeaveCancelled(R){L(R),Vt(B,[R])}})}function Pd(e){if(e==null)return null;if(Ce(e))return[To(e.enter),To(e.leave)];{const s=To(e);return[s,s]}}function To(e){return Bl(e)}function xt(e,s){s.split(/\s+/).forEach(o=>o&&e.classList.add(o)),(e[Ds]||(e[Ds]=new Set)).add(s)}function qt(e,s){s.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const o=e[Ds];o&&(o.delete(s),o.size||(e[Ds]=void 0))}function Yn(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Bd=0;function Qn(e,s,o,n){const i=e._endId=++Bd,r=()=>{i===e._endId&&n()};if(o!=null)return setTimeout(r,o);const{type:l,timeout:a,propCount:d}=Ld(e,s);if(!l)return n();const m=l+"end";let u=0;const f=()=>{e.removeEventListener(m,h),r()},h=w=>{w.target===e&&++u>=d&&f()};setTimeout(()=>{u<d&&f()},a+1),e.addEventListener(m,h)}function Ld(e,s){const o=window.getComputedStyle(e),n=b=>(o[b]||"").split(", "),i=n(`${It}Delay`),r=n(`${It}Duration`),l=Xn(i,r),a=n(`${xs}Delay`),d=n(`${xs}Duration`),m=Xn(a,d);let u=null,f=0,h=0;s===It?l>0&&(u=It,f=l,h=r.length):s===xs?m>0&&(u=xs,f=m,h=d.length):(f=Math.max(l,m),u=f>0?l>m?It:xs:null,h=u?u===It?r.length:d.length:0);const w=u===It&&/\b(transform|all)(,|$)/.test(n(`${It}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:w}}function Xn(e,s){for(;e.length<s.length;)e=e.concat(e);return Math.max(...s.map((o,n)=>er(o)+er(e[n])))}function er(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function tr(){return document.body.offsetHeight}function Ed(e,s,o){const n=e[Ds];n&&(s=(s?[s,...n]:[...n]).join(" ")),s==null?e.removeAttribute("class"):o?e.setAttribute("class",s):e.className=s}const sr=Symbol("_vod"),Dd=Symbol("_vsh"),Rd=Symbol(""),Od=/(^|;)\s*display\s*:/;function zd(e,s,o){const n=e.style,i=Se(o);let r=!1;if(o&&!i){if(s)if(Se(s))for(const l of s.split(";")){const a=l.slice(0,l.indexOf(":")).trim();o[a]==null&&Ys(n,a,"")}else for(const l in s)o[l]==null&&Ys(n,l,"");for(const l in o)l==="display"&&(r=!0),Ys(n,l,o[l])}else if(i){if(s!==o){const l=n[Rd];l&&(o+=";"+l),n.cssText=o,r=Od.test(o)}}else s&&e.removeAttribute("style");sr in e&&(e[sr]=r?n.display:"",e[Dd]&&(n.display="none"))}const or=/\s*!important$/;function Ys(e,s,o){if(oe(o))o.forEach(n=>Ys(e,s,n));else if(o==null&&(o=""),s.startsWith("--"))e.setProperty(s,o);else{const n=Hd(e,s);or.test(o)?e.setProperty(Ot(n),o.replace(or,""),"important"):e[n]=o}}const nr=["Webkit","Moz","ms"],Po={};function Hd(e,s){const o=Po[s];if(o)return o;let n=et(s);if(n!=="filter"&&n in e)return Po[s]=n;n=co(n);for(let i=0;i<nr.length;i++){const r=nr[i]+n;if(r in e)return Po[s]=r}return s}const rr="http://www.w3.org/1999/xlink";function ir(e,s,o,n,i,r=zl(s)){n&&s.startsWith("xlink:")?o==null?e.removeAttributeNS(rr,s.slice(6,s.length)):e.setAttributeNS(rr,s,o):o==null||r&&!qr(o)?e.removeAttribute(s):e.setAttribute(s,r?"":vt(o)?String(o):o)}function lr(e,s,o,n,i){if(s==="innerHTML"||s==="textContent"){o!=null&&(e[s]=s==="innerHTML"?tl(o):o);return}const r=e.tagName;if(s==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,d=o==null?e.type==="checkbox"?"on":"":String(o);(a!==d||!("_value"in e))&&(e.value=d),o==null&&e.removeAttribute(s),e._value=o;return}let l=!1;if(o===""||o==null){const a=typeof e[s];a==="boolean"?o=qr(o):o==null&&a==="string"?(o="",l=!0):a==="number"&&(o=0,l=!0)}try{e[s]=o}catch{}l&&e.removeAttribute(i||s)}function $t(e,s,o,n){e.addEventListener(s,o,n)}function Nd(e,s,o,n){e.removeEventListener(s,o,n)}const ar=Symbol("_vei");function Ud(e,s,o,n,i=null){const r=e[ar]||(e[ar]={}),l=r[s];if(n&&l)l.value=n;else{const[a,d]=Fd(s);if(n){const m=r[s]=Zd(n,i);$t(e,a,m,d)}else l&&(Nd(e,a,l,d),r[s]=void 0)}}const dr=/(?:Once|Passive|Capture)$/;function Fd(e){let s;if(dr.test(e)){s={};let n;for(;n=e.match(dr);)e=e.slice(0,e.length-n[0].length),s[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ot(e.slice(2)),s]}let Bo=0;const Vd=Promise.resolve(),qd=()=>Bo||(Vd.then(()=>Bo=0),Bo=Date.now());function Zd(e,s){const o=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=o.attached)return;st(Gd(n,o.value),s,5,[n])};return o.value=e,o.attached=qd(),o}function Gd(e,s){if(oe(s)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},s.map(n=>i=>!i._stopped&&n&&n(i))}else return s}const ur=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Wd=(e,s,o,n,i,r)=>{const l=i==="svg";s==="class"?Ed(e,n,l):s==="style"?zd(e,o,n):ao(s)?sn(s)||Ud(e,s,o,n,r):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):Kd(e,s,n,l))?(lr(e,s,n),!e.tagName.includes("-")&&(s==="value"||s==="checked"||s==="selected")&&ir(e,s,n,l,r,s!=="value")):e._isVueCE&&(/[A-Z]/.test(s)||!Se(n))?lr(e,et(s),n,r,s):(s==="true-value"?e._trueValue=n:s==="false-value"&&(e._falseValue=n),ir(e,s,n,l))};function Kd(e,s,o,n){if(n)return!!(s==="innerHTML"||s==="textContent"||s in e&&ur(s)&&ae(o));if(s==="spellcheck"||s==="draggable"||s==="translate"||s==="form"||s==="list"&&e.tagName==="INPUT"||s==="type"&&e.tagName==="TEXTAREA")return!1;if(s==="width"||s==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return ur(s)&&Se(o)?!1:s in e}const Rt=e=>{const s=e.props["onUpdate:modelValue"]||!1;return oe(s)?o=>Ws(s,o):s};function Jd(e){e.target.composing=!0}function cr(e){const s=e.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const Xe=Symbol("_assign"),ce={created(e,{modifiers:{lazy:s,trim:o,number:n}},i){e[Xe]=Rt(i);const r=n||i.props&&i.props.type==="number";$t(e,s?"change":"input",l=>{if(l.target.composing)return;let a=e.value;o&&(a=a.trim()),r&&(a=Qs(a)),e[Xe](a)}),o&&$t(e,"change",()=>{e.value=e.value.trim()}),s||($t(e,"compositionstart",Jd),$t(e,"compositionend",cr),$t(e,"change",cr))},mounted(e,{value:s}){e.value=s??""},beforeUpdate(e,{value:s,oldValue:o,modifiers:{lazy:n,trim:i,number:r}},l){if(e[Xe]=Rt(l),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?Qs(e.value):e.value,d=s??"";a!==d&&(document.activeElement===e&&e.type!=="range"&&(n&&s===o||i&&e.value.trim()===d)||(e.value=d))}},ol={deep:!0,created(e,s,o){e[Xe]=Rt(o),$t(e,"change",()=>{const n=e._modelValue,i=ds(e),r=e.checked,l=e[Xe];if(oe(n)){const a=rn(n,i),d=a!==-1;if(r&&!d)l(n.concat(i));else if(!r&&d){const m=[...n];m.splice(a,1),l(m)}}else if(ps(n)){const a=new Set(n);r?a.add(i):a.delete(i),l(a)}else l(rl(e,r))})},mounted:fr,beforeUpdate(e,s,o){e[Xe]=Rt(o),fr(e,s,o)}};function fr(e,{value:s,oldValue:o},n){e._modelValue=s;let i;if(oe(s))i=rn(s,n.props.value)>-1;else if(ps(s))i=s.has(n.props.value);else{if(s===o)return;i=Jt(s,rl(e,!0))}e.checked!==i&&(e.checked=i)}const Yd={created(e,{value:s},o){e.checked=Jt(s,o.props.value),e[Xe]=Rt(o),$t(e,"change",()=>{e[Xe](ds(e))})},beforeUpdate(e,{value:s,oldValue:o},n){e[Xe]=Rt(n),s!==o&&(e.checked=Jt(s,n.props.value))}},nl={deep:!0,created(e,{value:s,modifiers:{number:o}},n){const i=ps(s);$t(e,"change",()=>{const r=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>o?Qs(ds(l)):ds(l));e[Xe](e.multiple?i?new Set(r):r:r[0]),e._assigning=!0,vs(()=>{e._assigning=!1})}),e[Xe]=Rt(n)},mounted(e,{value:s}){pr(e,s)},beforeUpdate(e,s,o){e[Xe]=Rt(o)},updated(e,{value:s}){e._assigning||pr(e,s)}};function pr(e,s){const o=e.multiple,n=oe(s);if(!(o&&!n&&!ps(s))){for(let i=0,r=e.options.length;i<r;i++){const l=e.options[i],a=ds(l);if(o)if(n){const d=typeof a;d==="string"||d==="number"?l.selected=s.some(m=>String(m)===String(a)):l.selected=rn(s,a)>-1}else l.selected=s.has(a);else if(Jt(ds(l),s)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!o&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ds(e){return"_value"in e?e._value:e.value}function rl(e,s){const o=s?"_trueValue":"_falseValue";return o in e?e[o]:s}const il={created(e,s,o){Gs(e,s,o,null,"created")},mounted(e,s,o){Gs(e,s,o,null,"mounted")},beforeUpdate(e,s,o,n){Gs(e,s,o,n,"beforeUpdate")},updated(e,s,o,n){Gs(e,s,o,n,"updated")}};function Qd(e,s){switch(e){case"SELECT":return nl;case"TEXTAREA":return ce;default:switch(s){case"checkbox":return ol;case"radio":return Yd;default:return ce}}}function Gs(e,s,o,n,i){const l=Qd(e.tagName,o.props&&o.props.type)[i];l&&l(e,s,o,n)}const Xd=["ctrl","shift","alt","meta"],eu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,s)=>Xd.some(o=>e[`${o}Key`]&&!s.includes(o))},us=(e,s)=>{const o=e._withMods||(e._withMods={}),n=s.join(".");return o[n]||(o[n]=(i,...r)=>{for(let l=0;l<s.length;l++){const a=eu[s[l]];if(a&&a(i,s))return}return e(i,...r)})},tu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},bn=(e,s)=>{const o=e._withKeys||(e._withKeys={}),n=s.join(".");return o[n]||(o[n]=i=>{if(!("key"in i))return;const r=Ot(i.key);if(s.some(l=>l===r||tu[l]===r))return e(i)})},su=Le({patchProp:Wd},Id);let vr;function ou(){return vr||(vr=Ja(su))}const nu=(...e)=>{const s=ou().createApp(...e),{mount:o}=s;return s.mount=n=>{const i=iu(n);if(!i)return;const r=s._component;!ae(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const l=o(i,!1,ru(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),l},s};function ru(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function iu(e){return Se(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ns=typeof document<"u";function ll(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function lu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&ll(e.default)}const xe=Object.assign;function Lo(e,s){const o={};for(const n in s){const i=s[n];o[n]=ot(i)?i.map(e):e(i)}return o}const Is=()=>{},ot=Array.isArray,al=/#/g,au=/&/g,du=/\//g,uu=/=/g,cu=/\?/g,dl=/\+/g,fu=/%5B/g,pu=/%5D/g,ul=/%5E/g,vu=/%60/g,cl=/%7B/g,mu=/%7C/g,fl=/%7D/g,gu=/%20/g;function kn(e){return encodeURI(""+e).replace(mu,"|").replace(fu,"[").replace(pu,"]")}function hu(e){return kn(e).replace(cl,"{").replace(fl,"}").replace(ul,"^")}function Jo(e){return kn(e).replace(dl,"%2B").replace(gu,"+").replace(al,"%23").replace(au,"%26").replace(vu,"`").replace(cl,"{").replace(fl,"}").replace(ul,"^")}function xu(e){return Jo(e).replace(uu,"%3D")}function yu(e){return kn(e).replace(al,"%23").replace(cu,"%3F")}function wu(e){return e==null?"":yu(e).replace(du,"%2F")}function Rs(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const bu=/\/$/,ku=e=>e.replace(bu,"");function Eo(e,s,o="/"){let n,i={},r="",l="";const a=s.indexOf("#");let d=s.indexOf("?");return a<d&&a>=0&&(d=-1),d>-1&&(n=s.slice(0,d),r=s.slice(d+1,a>-1?a:s.length),i=e(r)),a>-1&&(n=n||s.slice(0,a),l=s.slice(a,s.length)),n=ju(n??s,o),{fullPath:n+(r&&"?")+r+l,path:n,query:i,hash:Rs(l)}}function _u(e,s){const o=s.query?e(s.query):"";return s.path+(o&&"?")+o+(s.hash||"")}function mr(e,s){return!s||!e.toLowerCase().startsWith(s.toLowerCase())?e:e.slice(s.length)||"/"}function $u(e,s,o){const n=s.matched.length-1,i=o.matched.length-1;return n>-1&&n===i&&cs(s.matched[n],o.matched[i])&&pl(s.params,o.params)&&e(s.query)===e(o.query)&&s.hash===o.hash}function cs(e,s){return(e.aliasOf||e)===(s.aliasOf||s)}function pl(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const o in e)if(!Cu(e[o],s[o]))return!1;return!0}function Cu(e,s){return ot(e)?gr(e,s):ot(s)?gr(s,e):e===s}function gr(e,s){return ot(s)?e.length===s.length&&e.every((o,n)=>o===s[n]):e.length===1&&e[0]===s}function ju(e,s){if(e.startsWith("/"))return e;if(!e)return s;const o=s.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let r=o.length-1,l,a;for(l=0;l<n.length;l++)if(a=n[l],a!==".")if(a==="..")r>1&&r--;else break;return o.slice(0,r).join("/")+"/"+n.slice(l).join("/")}const Mt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Os;(function(e){e.pop="pop",e.push="push"})(Os||(Os={}));var Ms;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ms||(Ms={}));function Iu(e){if(!e)if(ns){const s=document.querySelector("base");e=s&&s.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ku(e)}const Mu=/^[^#]+#/;function Su(e,s){return e.replace(Mu,"#")+s}function Au(e,s){const o=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:s.behavior,left:n.left-o.left-(s.left||0),top:n.top-o.top-(s.top||0)}}const wo=()=>({left:window.scrollX,top:window.scrollY});function Tu(e){let s;if("el"in e){const o=e.el,n=typeof o=="string"&&o.startsWith("#"),i=typeof o=="string"?n?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!i)return;s=Au(i,e)}else s=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(s):window.scrollTo(s.left!=null?s.left:window.scrollX,s.top!=null?s.top:window.scrollY)}function hr(e,s){return(history.state?history.state.position-s:-1)+e}const Yo=new Map;function Pu(e,s){Yo.set(e,s)}function Bu(e){const s=Yo.get(e);return Yo.delete(e),s}let Lu=()=>location.protocol+"//"+location.host;function vl(e,s){const{pathname:o,search:n,hash:i}=s,r=e.indexOf("#");if(r>-1){let a=i.includes(e.slice(r))?e.slice(r).length:1,d=i.slice(a);return d[0]!=="/"&&(d="/"+d),mr(d,"")}return mr(o,e)+n+i}function Eu(e,s,o,n){let i=[],r=[],l=null;const a=({state:h})=>{const w=vl(e,location),b=o.value,c=s.value;let g=0;if(h){if(o.value=w,s.value=h,l&&l===b){l=null;return}g=c?h.position-c.position:0}else n(w);i.forEach(y=>{y(o.value,b,{delta:g,type:Os.pop,direction:g?g>0?Ms.forward:Ms.back:Ms.unknown})})};function d(){l=o.value}function m(h){i.push(h);const w=()=>{const b=i.indexOf(h);b>-1&&i.splice(b,1)};return r.push(w),w}function u(){const{history:h}=window;h.state&&h.replaceState(xe({},h.state,{scroll:wo()}),"")}function f(){for(const h of r)h();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:d,listen:m,destroy:f}}function xr(e,s,o,n=!1,i=!1){return{back:e,current:s,forward:o,replaced:n,position:window.history.length,scroll:i?wo():null}}function Du(e){const{history:s,location:o}=window,n={value:vl(e,o)},i={value:s.state};i.value||r(n.value,{back:null,current:n.value,forward:null,position:s.length-1,replaced:!0,scroll:null},!0);function r(d,m,u){const f=e.indexOf("#"),h=f>-1?(o.host&&document.querySelector("base")?e:e.slice(f))+d:Lu()+e+d;try{s[u?"replaceState":"pushState"](m,"",h),i.value=m}catch(w){console.error(w),o[u?"replace":"assign"](h)}}function l(d,m){const u=xe({},s.state,xr(i.value.back,d,i.value.forward,!0),m,{position:i.value.position});r(d,u,!0),n.value=d}function a(d,m){const u=xe({},i.value,s.state,{forward:d,scroll:wo()});r(u.current,u,!0);const f=xe({},xr(n.value,d,null),{position:u.position+1},m);r(d,f,!1),n.value=d}return{location:n,state:i,push:a,replace:l}}function Ru(e){e=Iu(e);const s=Du(e),o=Eu(e,s.state,s.location,s.replace);function n(r,l=!0){l||o.pauseListeners(),history.go(r)}const i=xe({location:"",base:e,go:n,createHref:Su.bind(null,e)},s,o);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>s.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>s.state.value}),i}function Ou(e){return typeof e=="string"||e&&typeof e=="object"}function ml(e){return typeof e=="string"||typeof e=="symbol"}const gl=Symbol("");var yr;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(yr||(yr={}));function fs(e,s){return xe(new Error,{type:e,[gl]:!0},s)}function yt(e,s){return e instanceof Error&&gl in e&&(s==null||!!(e.type&s))}const wr="[^/]+?",zu={sensitive:!1,strict:!1,start:!0,end:!0},Hu=/[.+*?^${}()[\]/\\]/g;function Nu(e,s){const o=xe({},zu,s),n=[];let i=o.start?"^":"";const r=[];for(const m of e){const u=m.length?[]:[90];o.strict&&!m.length&&(i+="/");for(let f=0;f<m.length;f++){const h=m[f];let w=40+(o.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(Hu,"\\$&"),w+=40;else if(h.type===1){const{value:b,repeatable:c,optional:g,regexp:y}=h;r.push({name:b,repeatable:c,optional:g});const M=y||wr;if(M!==wr){w+=10;try{new RegExp(`(${M})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${b}" (${M}): `+I.message)}}let E=c?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;f||(E=g&&m.length<2?`(?:/${E})`:"/"+E),g&&(E+="?"),i+=E,w+=20,g&&(w+=-8),c&&(w+=-20),M===".*"&&(w+=-50)}u.push(w)}n.push(u)}if(o.strict&&o.end){const m=n.length-1;n[m][n[m].length-1]+=.7000000000000001}o.strict||(i+="/?"),o.end?i+="$":o.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const l=new RegExp(i,o.sensitive?"":"i");function a(m){const u=m.match(l),f={};if(!u)return null;for(let h=1;h<u.length;h++){const w=u[h]||"",b=r[h-1];f[b.name]=w&&b.repeatable?w.split("/"):w}return f}function d(m){let u="",f=!1;for(const h of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const w of h)if(w.type===0)u+=w.value;else if(w.type===1){const{value:b,repeatable:c,optional:g}=w,y=b in m?m[b]:"";if(ot(y)&&!c)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const M=ot(y)?y.join("/"):y;if(!M)if(g)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${b}"`);u+=M}}return u||"/"}return{re:l,score:n,keys:r,parse:a,stringify:d}}function Uu(e,s){let o=0;for(;o<e.length&&o<s.length;){const n=s[o]-e[o];if(n)return n;o++}return e.length<s.length?e.length===1&&e[0]===80?-1:1:e.length>s.length?s.length===1&&s[0]===80?1:-1:0}function hl(e,s){let o=0;const n=e.score,i=s.score;for(;o<n.length&&o<i.length;){const r=Uu(n[o],i[o]);if(r)return r;o++}if(Math.abs(i.length-n.length)===1){if(br(n))return 1;if(br(i))return-1}return i.length-n.length}function br(e){const s=e[e.length-1];return e.length>0&&s[s.length-1]<0}const Fu={type:0,value:""},Vu=/[a-zA-Z0-9_]/;function qu(e){if(!e)return[[]];if(e==="/")return[[Fu]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function s(w){throw new Error(`ERR (${o})/"${m}": ${w}`)}let o=0,n=o;const i=[];let r;function l(){r&&i.push(r),r=[]}let a=0,d,m="",u="";function f(){m&&(o===0?r.push({type:0,value:m}):o===1||o===2||o===3?(r.length>1&&(d==="*"||d==="+")&&s(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:m,regexp:u,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):s("Invalid state to consume buffer"),m="")}function h(){m+=d}for(;a<e.length;){if(d=e[a++],d==="\\"&&o!==2){n=o,o=4;continue}switch(o){case 0:d==="/"?(m&&f(),l()):d===":"?(f(),o=1):h();break;case 4:h(),o=n;break;case 1:d==="("?o=2:Vu.test(d)?h():(f(),o=0,d!=="*"&&d!=="?"&&d!=="+"&&a--);break;case 2:d===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+d:o=3:u+=d;break;case 3:f(),o=0,d!=="*"&&d!=="?"&&d!=="+"&&a--,u="";break;default:s("Unknown state");break}}return o===2&&s(`Unfinished custom RegExp for param "${m}"`),f(),l(),i}function Zu(e,s,o){const n=Nu(qu(e.path),o),i=xe(n,{record:e,parent:s,children:[],alias:[]});return s&&!i.record.aliasOf==!s.record.aliasOf&&s.children.push(i),i}function Gu(e,s){const o=[],n=new Map;s=Cr({strict:!1,end:!0,sensitive:!1},s);function i(f){return n.get(f)}function r(f,h,w){const b=!w,c=_r(f);c.aliasOf=w&&w.record;const g=Cr(s,f),y=[c];if("alias"in f){const I=typeof f.alias=="string"?[f.alias]:f.alias;for(const B of I)y.push(_r(xe({},c,{components:w?w.record.components:c.components,path:B,aliasOf:w?w.record:c})))}let M,E;for(const I of y){const{path:B}=I;if(h&&B[0]!=="/"){const S=h.record.path,A=S[S.length-1]==="/"?"":"/";I.path=h.record.path+(B&&A+B)}if(M=Zu(I,h,g),w?w.alias.push(M):(E=E||M,E!==M&&E.alias.push(M),b&&f.name&&!$r(M)&&l(f.name)),xl(M)&&d(M),c.children){const S=c.children;for(let A=0;A<S.length;A++)r(S[A],M,w&&w.children[A])}w=w||M}return E?()=>{l(E)}:Is}function l(f){if(ml(f)){const h=n.get(f);h&&(n.delete(f),o.splice(o.indexOf(h),1),h.children.forEach(l),h.alias.forEach(l))}else{const h=o.indexOf(f);h>-1&&(o.splice(h,1),f.record.name&&n.delete(f.record.name),f.children.forEach(l),f.alias.forEach(l))}}function a(){return o}function d(f){const h=Ju(f,o);o.splice(h,0,f),f.record.name&&!$r(f)&&n.set(f.record.name,f)}function m(f,h){let w,b={},c,g;if("name"in f&&f.name){if(w=n.get(f.name),!w)throw fs(1,{location:f});g=w.record.name,b=xe(kr(h.params,w.keys.filter(E=>!E.optional).concat(w.parent?w.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),f.params&&kr(f.params,w.keys.map(E=>E.name))),c=w.stringify(b)}else if(f.path!=null)c=f.path,w=o.find(E=>E.re.test(c)),w&&(b=w.parse(c),g=w.record.name);else{if(w=h.name?n.get(h.name):o.find(E=>E.re.test(h.path)),!w)throw fs(1,{location:f,currentLocation:h});g=w.record.name,b=xe({},h.params,f.params),c=w.stringify(b)}const y=[];let M=w;for(;M;)y.unshift(M.record),M=M.parent;return{name:g,path:c,params:b,matched:y,meta:Ku(y)}}e.forEach(f=>r(f));function u(){o.length=0,n.clear()}return{addRoute:r,resolve:m,removeRoute:l,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function kr(e,s){const o={};for(const n of s)n in e&&(o[n]=e[n]);return o}function _r(e){const s={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Wu(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(s,"mods",{value:{}}),s}function Wu(e){const s={},o=e.props||!1;if("component"in e)s.default=o;else for(const n in e.components)s[n]=typeof o=="object"?o[n]:o;return s}function $r(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ku(e){return e.reduce((s,o)=>xe(s,o.meta),{})}function Cr(e,s){const o={};for(const n in e)o[n]=n in s?s[n]:e[n];return o}function Ju(e,s){let o=0,n=s.length;for(;o!==n;){const r=o+n>>1;hl(e,s[r])<0?n=r:o=r+1}const i=Yu(e);return i&&(n=s.lastIndexOf(i,n-1)),n}function Yu(e){let s=e;for(;s=s.parent;)if(xl(s)&&hl(e,s)===0)return s}function xl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Qu(e){const s={};if(e===""||e==="?")return s;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const r=n[i].replace(dl," "),l=r.indexOf("="),a=Rs(l<0?r:r.slice(0,l)),d=l<0?null:Rs(r.slice(l+1));if(a in s){let m=s[a];ot(m)||(m=s[a]=[m]),m.push(d)}else s[a]=d}return s}function jr(e){let s="";for(let o in e){const n=e[o];if(o=xu(o),n==null){n!==void 0&&(s+=(s.length?"&":"")+o);continue}(ot(n)?n.map(r=>r&&Jo(r)):[n&&Jo(n)]).forEach(r=>{r!==void 0&&(s+=(s.length?"&":"")+o,r!=null&&(s+="="+r))})}return s}function Xu(e){const s={};for(const o in e){const n=e[o];n!==void 0&&(s[o]=ot(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return s}const ec=Symbol(""),Ir=Symbol(""),bo=Symbol(""),_n=Symbol(""),Qo=Symbol("");function ys(){let e=[];function s(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function o(){e=[]}return{add:s,list:()=>e.slice(),reset:o}}function Bt(e,s,o,n,i,r=l=>l()){const l=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,d)=>{const m=h=>{h===!1?d(fs(4,{from:o,to:s})):h instanceof Error?d(h):Ou(h)?d(fs(2,{from:s,to:h})):(l&&n.enterCallbacks[i]===l&&typeof h=="function"&&l.push(h),a())},u=r(()=>e.call(n&&n.instances[i],s,o,m));let f=Promise.resolve(u);e.length<3&&(f=f.then(m)),f.catch(h=>d(h))})}function Do(e,s,o,n,i=r=>r()){const r=[];for(const l of e)for(const a in l.components){let d=l.components[a];if(!(s!=="beforeRouteEnter"&&!l.instances[a]))if(ll(d)){const u=(d.__vccOpts||d)[s];u&&r.push(Bt(u,o,n,l,a,i))}else{let m=d();r.push(()=>m.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${l.path}"`);const f=lu(u)?u.default:u;l.mods[a]=u,l.components[a]=f;const w=(f.__vccOpts||f)[s];return w&&Bt(w,o,n,l,a,i)()}))}}return r}function Mr(e){const s=Ke(bo),o=Ke(_n),n=U(()=>{const d=de(e.to);return s.resolve(d)}),i=U(()=>{const{matched:d}=n.value,{length:m}=d,u=d[m-1],f=o.matched;if(!u||!f.length)return-1;const h=f.findIndex(cs.bind(null,u));if(h>-1)return h;const w=Sr(d[m-2]);return m>1&&Sr(u)===w&&f[f.length-1].path!==w?f.findIndex(cs.bind(null,d[m-2])):h}),r=U(()=>i.value>-1&&rc(o.params,n.value.params)),l=U(()=>i.value>-1&&i.value===o.matched.length-1&&pl(o.params,n.value.params));function a(d={}){if(nc(d)){const m=s[de(e.replace)?"replace":"push"](de(e.to)).catch(Is);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:n,href:U(()=>n.value.href),isActive:r,isExactActive:l,navigate:a}}function tc(e){return e.length===1?e[0]:e}const sc=ji({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Mr,setup(e,{slots:s}){const o=mt(Mr(e)),{options:n}=Ke(bo),i=U(()=>({[Ar(e.activeClass,n.linkActiveClass,"router-link-active")]:o.isActive,[Ar(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const r=s.default&&tc(s.default(o));return e.custom?r:wn("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:i.value},r)}}}),oc=sc;function nc(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const s=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(s))return}return e.preventDefault&&e.preventDefault(),!0}}function rc(e,s){for(const o in s){const n=s[o],i=e[o];if(typeof n=="string"){if(n!==i)return!1}else if(!ot(i)||i.length!==n.length||n.some((r,l)=>r!==i[l]))return!1}return!0}function Sr(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ar=(e,s,o)=>e??s??o,ic=ji({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:s,slots:o}){const n=Ke(Qo),i=U(()=>e.route||n.value),r=Ke(Ir,0),l=U(()=>{let m=de(r);const{matched:u}=i.value;let f;for(;(f=u[m])&&!f.components;)m++;return m}),a=U(()=>i.value.matched[l.value]);as(Ir,U(()=>l.value+1)),as(ec,a),as(Qo,i);const d=P();return pt(()=>[d.value,a.value,e.name],([m,u,f],[h,w,b])=>{u&&(u.instances[f]=m,w&&w!==u&&m&&m===h&&(u.leaveGuards.size||(u.leaveGuards=w.leaveGuards),u.updateGuards.size||(u.updateGuards=w.updateGuards))),m&&u&&(!w||!cs(u,w)||!h)&&(u.enterCallbacks[f]||[]).forEach(c=>c(m))},{flush:"post"}),()=>{const m=i.value,u=e.name,f=a.value,h=f&&f.components[u];if(!h)return Tr(o.default,{Component:h,route:m});const w=f.props[u],b=w?w===!0?m.params:typeof w=="function"?w(m):w:null,g=wn(h,xe({},b,s,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[u]=null)},ref:d}));return Tr(o.default,{Component:g,route:m})||g}}});function Tr(e,s){if(!e)return null;const o=e(s);return o.length===1?o[0]:o}const lc=ic;function ac(e){const s=Gu(e.routes,e),o=e.parseQuery||Qu,n=e.stringifyQuery||jr,i=e.history,r=ys(),l=ys(),a=ys(),d=la(Mt);let m=Mt;ns&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Lo.bind(null,z=>""+z),f=Lo.bind(null,wu),h=Lo.bind(null,Rs);function w(z,X){let J,te;return ml(z)?(J=s.getRecordMatcher(z),te=X):te=z,s.addRoute(te,J)}function b(z){const X=s.getRecordMatcher(z);X&&s.removeRoute(X)}function c(){return s.getRoutes().map(z=>z.record)}function g(z){return!!s.getRecordMatcher(z)}function y(z,X){if(X=xe({},X||d.value),typeof z=="string"){const T=Eo(o,z,X.path),O=s.resolve({path:T.path},X),N=i.createHref(T.fullPath);return xe(T,O,{params:h(O.params),hash:Rs(T.hash),redirectedFrom:void 0,href:N})}let J;if(z.path!=null)J=xe({},z,{path:Eo(o,z.path,X.path).path});else{const T=xe({},z.params);for(const O in T)T[O]==null&&delete T[O];J=xe({},z,{params:f(T)}),X.params=f(X.params)}const te=s.resolve(J,X),_e=z.hash||"";te.params=u(h(te.params));const _=_u(n,xe({},z,{hash:hu(_e),path:te.path})),C=i.createHref(_);return xe({fullPath:_,hash:_e,query:n===jr?Xu(z.query):z.query||{}},te,{redirectedFrom:void 0,href:C})}function M(z){return typeof z=="string"?Eo(o,z,d.value.path):xe({},z)}function E(z,X){if(m!==z)return fs(8,{from:X,to:z})}function I(z){return A(z)}function B(z){return I(xe(M(z),{replace:!0}))}function S(z){const X=z.matched[z.matched.length-1];if(X&&X.redirect){const{redirect:J}=X;let te=typeof J=="function"?J(z):J;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=M(te):{path:te},te.params={}),xe({query:z.query,hash:z.hash,params:te.path!=null?{}:z.params},te)}}function A(z,X){const J=m=y(z),te=d.value,_e=z.state,_=z.force,C=z.replace===!0,T=S(J);if(T)return A(xe(M(T),{state:typeof T=="object"?xe({},_e,T.state):_e,force:_,replace:C}),X||J);const O=J;O.redirectedFrom=X;let N;return!_&&$u(n,te,J)&&(N=fs(16,{to:O,from:te}),rt(te,te,!0,!1)),(N?Promise.resolve(N):L(O,te)).catch(H=>yt(H)?yt(H,2)?H:jt(H):he(H,O,te)).then(H=>{if(H){if(yt(H,2))return A(xe({replace:C},M(H.to),{state:typeof H.to=="object"?xe({},_e,H.to.state):_e,force:_}),X||O)}else H=R(O,te,!0,C,_e);return j(O,te,H),H})}function $(z,X){const J=E(z,X);return J?Promise.reject(J):Promise.resolve()}function k(z){const X=es.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(z):z()}function L(z,X){let J;const[te,_e,_]=dc(z,X);J=Do(te.reverse(),"beforeRouteLeave",z,X);for(const T of te)T.leaveGuards.forEach(O=>{J.push(Bt(O,z,X))});const C=$.bind(null,z,X);return J.push(C),Je(J).then(()=>{J=[];for(const T of r.list())J.push(Bt(T,z,X));return J.push(C),Je(J)}).then(()=>{J=Do(_e,"beforeRouteUpdate",z,X);for(const T of _e)T.updateGuards.forEach(O=>{J.push(Bt(O,z,X))});return J.push(C),Je(J)}).then(()=>{J=[];for(const T of _)if(T.beforeEnter)if(ot(T.beforeEnter))for(const O of T.beforeEnter)J.push(Bt(O,z,X));else J.push(Bt(T.beforeEnter,z,X));return J.push(C),Je(J)}).then(()=>(z.matched.forEach(T=>T.enterCallbacks={}),J=Do(_,"beforeRouteEnter",z,X,k),J.push(C),Je(J))).then(()=>{J=[];for(const T of l.list())J.push(Bt(T,z,X));return J.push(C),Je(J)}).catch(T=>yt(T,8)?T:Promise.reject(T))}function j(z,X,J){a.list().forEach(te=>k(()=>te(z,X,J)))}function R(z,X,J,te,_e){const _=E(z,X);if(_)return _;const C=X===Mt,T=ns?history.state:{};J&&(te||C?i.replace(z.fullPath,xe({scroll:C&&T&&T.scroll},_e)):i.push(z.fullPath,_e)),d.value=z,rt(z,X,J,C),jt()}let V;function ke(){V||(V=i.listen((z,X,J)=>{if(!Us.listening)return;const te=y(z),_e=S(te);if(_e){A(xe(_e,{replace:!0,force:!0}),te).catch(Is);return}m=te;const _=d.value;ns&&Pu(hr(_.fullPath,J.delta),wo()),L(te,_).catch(C=>yt(C,12)?C:yt(C,2)?(A(xe(M(C.to),{force:!0}),te).then(T=>{yt(T,20)&&!J.delta&&J.type===Os.pop&&i.go(-1,!1)}).catch(Is),Promise.reject()):(J.delta&&i.go(-J.delta,!1),he(C,te,_))).then(C=>{C=C||R(te,_,!1),C&&(J.delta&&!yt(C,8)?i.go(-J.delta,!1):J.type===Os.pop&&yt(C,20)&&i.go(-1,!1)),j(te,_,C)}).catch(Is)}))}let se=ys(),W=ys(),le;function he(z,X,J){jt(z);const te=W.list();return te.length?te.forEach(_e=>_e(z,X,J)):console.error(z),Promise.reject(z)}function gt(){return le&&d.value!==Mt?Promise.resolve():new Promise((z,X)=>{se.add([z,X])})}function jt(z){return le||(le=!z,ke(),se.list().forEach(([X,J])=>z?J(z):X()),se.reset()),z}function rt(z,X,J,te){const{scrollBehavior:_e}=e;if(!ns||!_e)return Promise.resolve();const _=!J&&Bu(hr(z.fullPath,0))||(te||!J)&&history.state&&history.state.scroll||null;return vs().then(()=>_e(z,X,_)).then(C=>C&&Tu(C)).catch(C=>he(C,z,X))}const Ue=z=>i.go(z);let Xt;const es=new Set,Us={currentRoute:d,listening:!0,addRoute:w,removeRoute:b,clearRoutes:s.clearRoutes,hasRoute:g,getRoutes:c,resolve:y,options:e,push:I,replace:B,go:Ue,back:()=>Ue(-1),forward:()=>Ue(1),beforeEach:r.add,beforeResolve:l.add,afterEach:a.add,onError:W.add,isReady:gt,install(z){const X=this;z.component("RouterLink",oc),z.component("RouterView",lc),z.config.globalProperties.$router=X,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>de(d)}),ns&&!Xt&&d.value===Mt&&(Xt=!0,I(i.location).catch(_e=>{}));const J={};for(const _e in Mt)Object.defineProperty(J,_e,{get:()=>d.value[_e],enumerable:!0});z.provide(bo,X),z.provide(_n,ci(J)),z.provide(Qo,d);const te=z.unmount;es.add(z),z.unmount=function(){es.delete(z),es.size<1&&(m=Mt,V&&V(),V=null,d.value=Mt,Xt=!1,le=!1),te()}}};function Je(z){return z.reduce((X,J)=>X.then(()=>k(J)),Promise.resolve())}return Us}function dc(e,s){const o=[],n=[],i=[],r=Math.max(s.matched.length,e.matched.length);for(let l=0;l<r;l++){const a=s.matched[l];a&&(e.matched.find(m=>cs(m,a))?n.push(a):o.push(a));const d=e.matched[l];d&&(s.matched.find(m=>cs(m,d))||i.push(d))}return[o,n,i]}function ve(){return Ke(bo)}function nt(e){return Ke(_n)}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let yl;const ko=e=>yl=e,wl=Symbol();function Xo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ss;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ss||(Ss={}));function uc(){const e=Kr(!0),s=e.run(()=>P({}));let o=[],n=[];const i=vn({install(r){ko(i),i._a=r,r.provide(wl,i),r.config.globalProperties.$pinia=i,n.forEach(l=>o.push(l)),n=[]},use(r){return this._a?o.push(r):n.push(r),this},_p:o,_a:null,_e:e,_s:new Map,state:s});return i}const bl=()=>{};function Pr(e,s,o,n=bl){e.push(s);const i=()=>{const r=e.indexOf(s);r>-1&&(e.splice(r,1),n())};return!o&&Jr()&&Nl(i),i}function ss(e,...s){e.slice().forEach(o=>{o(...s)})}const cc=e=>e(),Br=Symbol(),Ro=Symbol();function en(e,s){e instanceof Map&&s instanceof Map?s.forEach((o,n)=>e.set(n,o)):e instanceof Set&&s instanceof Set&&s.forEach(e.add,e);for(const o in s){if(!s.hasOwnProperty(o))continue;const n=s[o],i=e[o];Xo(i)&&Xo(n)&&e.hasOwnProperty(o)&&!Ae(n)&&!Et(n)?e[o]=en(i,n):e[o]=n}return e}const fc=Symbol();function pc(e){return!Xo(e)||!Object.prototype.hasOwnProperty.call(e,fc)}const{assign:St}=Object;function vc(e){return!!(Ae(e)&&e.effect)}function mc(e,s,o,n){const{state:i,actions:r,getters:l}=s,a=o.state.value[e];let d;function m(){a||(o.state.value[e]=i?i():{});const u=ua(o.state.value[e]);return St(u,r,Object.keys(l||{}).reduce((f,h)=>(f[h]=vn(U(()=>{ko(o);const w=o._s.get(e);return l[h].call(w,w)})),f),{}))}return d=kl(e,m,s,o,n,!0),d}function kl(e,s,o={},n,i,r){let l;const a=St({actions:{}},o),d={deep:!0};let m,u,f=[],h=[],w;const b=n.state.value[e];!r&&!b&&(n.state.value[e]={}),P({});let c;function g($){let k;m=u=!1,typeof $=="function"?($(n.state.value[e]),k={type:Ss.patchFunction,storeId:e,events:w}):(en(n.state.value[e],$),k={type:Ss.patchObject,payload:$,storeId:e,events:w});const L=c=Symbol();vs().then(()=>{c===L&&(m=!0)}),u=!0,ss(f,k,n.state.value[e])}const y=r?function(){const{state:k}=o,L=k?k():{};this.$patch(j=>{St(j,L)})}:bl;function M(){l.stop(),f=[],h=[],n._s.delete(e)}const E=($,k="")=>{if(Br in $)return $[Ro]=k,$;const L=function(){ko(n);const j=Array.from(arguments),R=[],V=[];function ke(le){R.push(le)}function se(le){V.push(le)}ss(h,{args:j,name:L[Ro],store:B,after:ke,onError:se});let W;try{W=$.apply(this&&this.$id===e?this:B,j)}catch(le){throw ss(V,le),le}return W instanceof Promise?W.then(le=>(ss(R,le),le)).catch(le=>(ss(V,le),Promise.reject(le))):(ss(R,W),W)};return L[Br]=!0,L[Ro]=k,L},I={_p:n,$id:e,$onAction:Pr.bind(null,h),$patch:g,$reset:y,$subscribe($,k={}){const L=Pr(f,$,k.detached,()=>j()),j=l.run(()=>pt(()=>n.state.value[e],R=>{(k.flush==="sync"?u:m)&&$({storeId:e,type:Ss.direct,events:w},R)},St({},d,k)));return L},$dispose:M},B=mt(I);n._s.set(e,B);const A=(n._a&&n._a.runWithContext||cc)(()=>n._e.run(()=>(l=Kr()).run(()=>s({action:E}))));for(const $ in A){const k=A[$];if(Ae(k)&&!vc(k)||Et(k))r||(b&&pc(k)&&(Ae(k)?k.value=b[$]:en(k,b[$])),n.state.value[e][$]=k);else if(typeof k=="function"){const L=E(k,$);A[$]=L,a.actions[$]=k}}return St(B,A),St(pe(B),A),Object.defineProperty(B,"$state",{get:()=>n.state.value[e],set:$=>{g(k=>{St(k,$)})}}),n._p.forEach($=>{St(B,l.run(()=>$({store:B,app:n._a,pinia:n,options:a})))}),b&&r&&o.hydrate&&o.hydrate(B.$state,b),m=!0,u=!0,B}/*! #__NO_SIDE_EFFECTS__ */function Qt(e,s,o){let n;const i=typeof s=="function";n=i?o:s;function r(l,a){const d=Fa();return l=l||(d?Ke(wl,null):null),l&&ko(l),l=yl,l._s.has(e)||(i?kl(e,s,n,l):mc(e,n,l)),l._s.get(e)}return r.$id=e,r}const gc=[{id:1,username:"sakura_chan",password:"password123",email:"sakura@anime.com",avatar:"/avatars/sakura.png",bio:"喜欢二次元和可爱的事物，宅女一枚！✨",level:18,posts:42,followers:358,following:124,personalityType:"INFP",joined:"2022-03-15",favorites:["鬼灭之刃","你的名字","进击的巨人"],badges:["原创作者","资深粉丝","活跃会员"]},{id:2,username:"naruto_uzumaki",password:"password123",email:"naruto@anime.com",avatar:"/avatars/naruto.png",bio:"热爱动漫和绘画，我的梦想是成为漫画家！🍥",level:24,posts:87,followers:542,following:231,personalityType:"ENFP",joined:"2021-08-10",favorites:["火影忍者","海贼王","进击的巨人"],badges:["精彩评论","活跃会员","画师"]},{id:3,username:"mikasa_ackerman",password:"password123",email:"mikasa@anime.com",avatar:"/avatars/mikasa.png",bio:"安静的二次元爱好者，喜欢独处和思考。💭",level:32,posts:65,followers:789,following:102,personalityType:"ISTJ",joined:"2021-05-22",favorites:["进击的巨人","鬼灭之刃","罪恶王冠"],badges:["评论之星","资深粉丝","收藏家"]},{id:4,username:"levi_ackerman",password:"password123",email:"levi@anime.com",avatar:"/avatars/levi.png",bio:"专注于分享优质二次元内容，欢迎关注！🔍",level:46,posts:132,followers:1256,following:89,personalityType:"INTJ",joined:"2020-11-03",favorites:["进击的巨人","死亡笔记","寄生兽"],badges:["内容创作者","VIP会员","资深粉丝"]},{id:5,username:"miku_nakano",password:"password123",email:"miku@anime.com",avatar:"/avatars/miku.png",bio:"喜欢收集动漫周边，梦想有一天能去日本秋叶原朝圣！🎌",level:22,posts:57,followers:421,following:183,personalityType:"ISFJ",joined:"2022-01-14",favorites:["五等分的新娘","辉夜大小姐想让我告白","租借女友"],badges:["热心会员","收藏家","活跃粉丝"]}],hc={id:1,username:"sakura_chan",avatar:"/avatars/sakura.png"},$n="anime_community_user",_l="anime_community_users",xc=["/avatars/sakura.png","/avatars/naruto.png","/avatars/mikasa.png","/avatars/levi.png","/avatars/miku.png","/avatars/default-avatar.jpg"],Lr=()=>{try{const e=localStorage.getItem($n);return e?JSON.parse(e):null}catch(e){return console.error("Error reading user from localStorage:",e),null}},Er=()=>{try{const e=localStorage.getItem(_l);return e?JSON.parse(e):null}catch(e){return console.error("Error reading users from localStorage:",e),null}},yc=e=>{try{return localStorage.setItem($n,JSON.stringify(e)),!0}catch(s){return console.error("Error saving user to localStorage:",s),!1}},wc=e=>{try{return localStorage.setItem(_l,JSON.stringify(e)),!0}catch(s){return console.error("Error saving users to localStorage:",s),!1}},ge=Qt("user",{state:()=>{const e=Lr(),s=Er();return{currentUser:e||hc,isLoggedIn:!!e,users:s||gc,avatarOptions:xc}},getters:{getUserById:e=>s=>e.users.find(o=>o.id===s),getUserByUsername:e=>s=>e.users.find(o=>o.username===s),currentUserFull:e=>e.currentUser?e.users.find(s=>s.id===e.currentUser.id):null,userStats:e=>{const s=e.users.find(o=>{var n;return o.id===((n=e.currentUser)==null?void 0:n.id)});return s?{posts:s.posts||0,followers:s.followers||0,following:s.following||0,level:s.level||1}:null}},actions:{saveToStorage(){yc(this.currentUser),wc(this.users)},login(e,s){const o=this.users.find(n=>n.username===e&&n.password===s);return o?(this.currentUser={id:o.id,username:o.username,avatar:o.avatar,nickname:o.nickname},this.isLoggedIn=!0,this.saveToStorage(),!0):!1},logout(){return this.isLoggedIn=!1,this.currentUser=null,localStorage.removeItem($n),!0},register(e){if(this.users.some(n=>n.username===e.username))return!1;const o={id:Math.max(...this.users.map(n=>n.id))+1,username:e.username,password:e.password,email:e.email||"",nickname:e.nickname||e.username,avatar:e.avatar||"/avatars/default-avatar.jpg",bio:e.bio||"",level:1,posts:0,followers:0,following:0,personalityType:null,joined:new Date().toISOString(),favorites:[],badges:[],settings:{theme:"light",notifications:!0,privacy:"public"}};return this.users.push(o),this.currentUser={id:o.id,username:o.username,avatar:o.avatar,nickname:o.nickname},this.isLoggedIn=!0,this.saveToStorage(),!0},updateProfile(e){if(!this.currentUser)return!1;const s=this.users.findIndex(o=>o.id===this.currentUser.id);return s!==-1?(this.users[s]={...this.users[s],...e},["username","nickname","avatar"].some(i=>e[i]!==void 0)&&(this.currentUser={id:this.currentUser.id,username:e.username||this.currentUser.username,avatar:e.avatar||this.currentUser.avatar,nickname:e.nickname||this.currentUser.nickname}),this.saveToStorage(),!0):!1},updateUserSettings(e){if(!this.currentUser)return!1;const s=this.users.findIndex(o=>o.id===this.currentUser.id);return s!==-1?(this.users[s].settings||(this.users[s].settings={}),this.users[s].settings={...this.users[s].settings,...e},this.saveToStorage(),!0):!1},updateAvatar(e){return this.updateProfile({avatar:e})},changePassword(e,s){if(!this.currentUser)return!1;const o=this.users.findIndex(n=>n.id===this.currentUser.id);return o!==-1&&this.users[o].password===e?(this.users[o].password=s,this.saveToStorage(),!0):!1},initializeFromStorage(){const e=Lr(),s=Er();e&&(this.currentUser=e,this.isLoggedIn=!0),s&&(this.users=s)}}}),bc=[{id:1,title:"《鬼灭之刃》最新剧场版太惊艳了！",content:"我昨天刚看了《鬼灭之刃 无限列车篇》的剧场版，特效和打斗场景简直太震撼了！尤其是炎柱煉獄杏寿郎的战斗，真的热血沸腾，不知道大家看了有什么感想？",authorId:1,authorName:"二次元迷",authorAvatar:"/avatars/avatar1.jpg",category:"动画讨论",tags:["鬼灭之刃","剧场版","热门动画"],createdAt:"2025-05-15T09:32:45Z",date:"2025-05-15T09:32:45Z",likes:342,comments:86,views:1542,imageUrl:"/forum/demon-slayer.jpg",likedBy:[2,3,4],favoritedBy:[2,5],commentList:[{id:1,authorId:2,userName:"动漫达人",content:"完全同意！无限列车篇的剧场版真的太精彩了，煉獄さん的战斗场景简直是艺术品，燃到爆炸！",date:"2025-05-15T10:12:35Z",userAvatar:"/avatars/avatar2.jpg",likes:78,replies:[{id:101,authorId:3,userName:"萌新一枚",content:"我最喜欢的就是煉獄对上魔王的那段，动画音效配合的太完美了！",date:"2025-05-15T10:45:35Z",userAvatar:"/avatars/avatar3.jpg"},{id:102,authorId:1,userName:"二次元迷",content:"是的！我看了三遍电影，每次看到那个场景都热泪盈眶",date:"2025-05-15T11:22:35Z",userAvatar:"/avatars/avatar1.jpg"}]},{id:2,authorId:4,userName:"ACG控",content:'煉獄杏寿郎真的太帅了，"心を燃やせ"那一幕我泪目了。鬼灭的画面质量和音乐都非常出色。',date:"2025-05-15T11:05:23Z",userAvatar:"/avatars/avatar4.jpg",likes:65,replies:[]},{id:3,authorId:5,userName:"漫迷达人",content:"制作组真的很用心，每一个特效和战斗画面都非常精致。期待遊郭篇的动画！",date:"2025-05-15T13:27:41Z",userAvatar:"/avatars/avatar5.jpg",likes:43,replies:[]}]},{id:2,title:"有没有推荐的治愈系动画？",content:"最近工作压力好大，想找一些轻松治愈的动画看看，放松一下心情。欢迎大家推荐一些温馨治愈的动漫作品，最好是那种看了会让人感到平静和幸福的。",authorId:3,authorName:"萌新一枚",authorAvatar:"/avatars/avatar3.jpg",category:"动画推荐",tags:["治愈系","推荐","轻松动画"],createdAt:"2025-05-12T14:23:18Z",date:"2025-05-12T14:23:18Z",likes:215,comments:124,views:876,imageUrl:"/forum/healing-anime.jpg",likedBy:[1,5],favoritedBy:[1,4],commentList:[{id:4,authorId:1,userName:"二次元迷",content:"推荐《悠哉日常大王》，特别治愈的日常系动画，看完心情会变得很好～",date:"2025-05-12T15:14:27Z",userAvatar:"/avatars/avatar1.jpg",likes:52,replies:[{id:103,authorId:3,userName:"萌新一枚",content:"谢谢推荐！我看了几集，确实很轻松愉快，乡下的生活节奏感觉很舒适",date:"2025-05-12T16:05:27Z",userAvatar:"/avatars/avatar3.jpg"}]},{id:5,authorId:2,userName:"动漫达人",content:"《夏目友人帐》超级治愈，温暖的故事和唯美的画风，绝对值得一看！",date:"2025-05-12T16:32:19Z",userAvatar:"/avatars/avatar2.jpg",likes:48,replies:[{id:104,authorId:5,userName:"漫迷达人",content:"我也推荐《夏目友人帐》，看了好几遍了，每次心情不好的时候看都能平静下来",date:"2025-05-12T17:42:19Z",userAvatar:"/avatars/avatar5.jpg"},{id:105,authorId:3,userName:"萌新一枚",content:"感谢推荐！我已经把它加到我的观看列表了",date:"2025-05-12T18:15:19Z",userAvatar:"/avatars/avatar3.jpg"}]}]},{id:3,title:"《进击的巨人》最终季讨论",content:"《进击的巨人》最终季真是神作！剧情的转折和人物的变化都令人震惊。艾伦的转变真的出乎我的意料，从保护人类到成为敌人，这样的剧情真是令人深思。大家怎么看待最终季的发展？",authorId:4,authorName:"ACG控",authorAvatar:"/avatars/avatar4.jpg",category:"动画讨论",tags:["进击的巨人","最终季","热门动画"],createdAt:"2025-05-10T21:45:32Z",date:"2025-05-10T21:45:32Z",likes:564,comments:231,views:2145,imageUrl:"/forum/attack-on-titan.jpg",commentList:[]},{id:4,title:"新手入坑二次元，有什么必看的经典作品？",content:"我是刚开始接触动漫的新人，想请教各位前辈有哪些必看的经典动漫作品？不限类型，想先打好基础，了解一下动漫的魅力所在。",authorId:5,authorName:"漫迷达人",authorAvatar:"/avatars/avatar5.jpg",category:"新人提问",tags:["新手入坑","经典动画","推荐"],createdAt:"2025-05-08T11:09:54Z",date:"2025-05-08T11:09:54Z",likes:187,comments:143,views:945,imageUrl:"/forum/anime-classics.jpg",commentList:[]},{id:5,title:"最佳女主角投票——你最喜欢哪个动漫女主？",content:"开启一个有趣的话题：你心目中最喜欢的动漫女主角是谁？欢迎留言分享你的选择和理由！我个人最喜欢《辉夜大小姐想让我告白》中的辉夜，聪明又可爱，傲娇的性格特别吸引人。",authorId:2,authorName:"动漫达人",authorAvatar:"/avatars/avatar2.jpg",category:"角色讨论",tags:["动漫角色","女主角","投票"],createdAt:"2025-05-05T16:28:07Z",date:"2025-05-05T16:28:07Z",likes:426,comments:198,views:1324,imageUrl:"/forum/anime-girls.jpg",commentList:[]},{id:6,title:"你们最近在追什么新番？",content:"2025年春季新番已经开播一段时间了，想知道大家都在追哪些作品？有没有特别推荐的？我目前在看《我推的孩子》，感觉剧情非常新颖有趣！",authorId:1,authorName:"二次元迷",authorAvatar:"/avatars/avatar1.jpg",category:"新番讨论",tags:["2025春季","新番","推荐"],createdAt:"2025-05-03T08:47:15Z",date:"2025-05-03T08:47:15Z",likes:302,comments:175,views:1089,imageUrl:"/forum/new-anime.jpg",commentList:[]},{id:7,title:"关于《间谍过家家》第二季的消息",content:"有人知道《间谍过家家》第二季什么时候播出吗？第一季太好看了，安妮亚简直萌翻了！希望第二季能够尽快和我们见面。",authorId:3,authorName:"萌新一枚",authorAvatar:"/avatars/avatar3.jpg",category:"动画资讯",tags:["间谍过家家","第二季","资讯"],createdAt:"2025-05-01T19:12:33Z",date:"2025-05-01T19:12:33Z",likes:278,comments:92,views:867,imageUrl:"/forum/spy-family.jpg",commentList:[]},{id:8,title:"分享我的动漫周边收藏",content:"作为一个资深二次元爱好者，我收集了很多动漫周边，今天想和大家分享一下我的宝贝们！有手办、徽章、海报等等，尤其是我最爱的《fate》系列周边最多。你们有收集什么周边吗？",authorId:5,authorName:"漫迷达人",authorAvatar:"/avatars/avatar5.jpg",category:"周边分享",tags:["动漫周边","收藏","分享"],createdAt:"2025-04-28T12:54:19Z",date:"2025-04-28T12:54:19Z",likes:195,comments:87,views:723,imageUrl:"/forum/anime-merch.jpg",commentList:[]},{id:9,title:"【绘画分享】我的原创动漫角色设计",content:"最近一直在练习绘画，今天分享一下我设计的原创动漫角色！这是一位拥有冰系能力的少女，名叫雪音。画风参考了日系动漫，希望大家喜欢并给我一些建议和意见。",authorId:2,authorName:"动漫达人",authorAvatar:"/avatars/avatar2.jpg",category:"原创分享",tags:["原创角色","绘画","分享"],createdAt:"2025-04-25T15:36:42Z",date:"2025-04-25T15:36:42Z",likes:321,comments:154,views:1032,imageUrl:"/forum/original-art.jpg",commentList:[]},{id:10,title:"讨论：动画vs漫画，你更喜欢哪种形式？",content:"有些作品既有漫画又有动画版本，想听听大家的看法：是喜欢先看漫画还是直接看动画？两种形式各有什么优缺点？我个人更喜欢看动画，因为可以欣赏到配音和音乐带来的额外体验。",authorId:4,authorName:"ACG控",authorAvatar:"/avatars/avatar4.jpg",category:"综合讨论",tags:["动画","漫画","讨论"],createdAt:"2025-04-22T10:08:51Z",date:"2025-04-22T10:08:51Z",likes:246,comments:167,views:892,imageUrl:"/forum/anime-manga.jpg",commentList:[]}],Dr=[{id:1,name:"动画讨论",count:158},{id:2,name:"漫画讨论",count:124},{id:3,name:"角色讨论",count:97},{id:4,name:"新番讨论",count:86},{id:5,name:"原创分享",count:73},{id:6,name:"周边分享",count:62},{id:7,name:"动画资讯",count:54},{id:8,name:"新人提问",count:41},{id:9,name:"综合讨论",count:112}],Rr=[{id:1,postId:1,authorId:2,content:"完全同意！无限列车篇的剧场版真的太精彩了，煉獄さん的战斗场景简直是艺术品，燃到爆炸！",createdAt:"2025-05-15T10:12:35Z",likes:78},{id:2,postId:1,authorId:4,content:'煉獄杏寿郎真的太帅了，"心を燃やせ"那一幕我泪目了。鬼灭的画面质量和音乐都非常出色。',createdAt:"2025-05-15T11:05:23Z",likes:65},{id:3,postId:1,authorId:5,content:"制作组真的很用心，每一个特效和战斗画面都非常精致。期待遊郭篇的动画！",createdAt:"2025-05-15T13:27:41Z",likes:43},{id:4,postId:2,authorId:1,content:"推荐《悠哉日常大王》，特别治愈的日常系动画，看完心情会变得很好～",createdAt:"2025-05-12T15:14:27Z",likes:52},{id:5,postId:2,authorId:2,content:"《夏目友人帐》超级治愈，温暖的故事和唯美的画风，绝对值得一看！",createdAt:"2025-05-12T16:32:19Z",likes:48},{id:6,postId:3,authorId:1,content:"艾伦的转变虽然令人震惊，但从剧情发展来看也是合理的。这部作品最棒的地方就是没有绝对的正义与邪恶，而是展现了战争的复杂性。",createdAt:"2025-05-10T22:18:45Z",likes:94},{id:7,postId:3,authorId:5,content:"最终季的节奏和气氛比前几季暗沉很多，但这正是反映战争残酷的必要手法。很期待结局！",createdAt:"2025-05-11T08:41:32Z",likes:72}],$l="forum_data",kc=()=>{try{const e=localStorage.getItem($l);return e?JSON.parse(e):null}catch(e){return console.error("Error reading from localStorage:",e),null}},_c=e=>{try{return localStorage.setItem($l,JSON.stringify(e)),!0}catch(s){return console.error("Error saving to localStorage:",s),!1}},ms=Qt("forum",{state:()=>{const e=kc();return e?{posts:e.posts,categories:e.categories||Dr,comments:e.comments||Rr,currentCategory:null,searchQuery:"",sortBy:"latest"}:{posts:bc,categories:Dr,comments:Rr,currentCategory:null,searchQuery:"",sortBy:"latest"}},getters:{getPostById:e=>s=>e.posts.find(o=>o.id===parseInt(s)),getPostsByAuthor:e=>s=>e.posts.filter(o=>o.authorId===s),getPostsByCategory:e=>s=>e.posts.filter(o=>o.category===s),getCommentsByPostId:e=>s=>e.comments.filter(o=>o.postId===parseInt(s)),filteredPosts:e=>{let s=[...e.posts];if(e.currentCategory&&(s=s.filter(o=>o.category===e.currentCategory)),e.searchQuery){const o=e.searchQuery.toLowerCase();s=s.filter(n=>{var i;return n.title.toLowerCase().includes(o)||n.content.toLowerCase().includes(o)||((i=n.tags)==null?void 0:i.some(r=>r.toLowerCase().includes(o)))})}switch(e.sortBy){case"latest":s.sort((o,n)=>new Date(n.createdAt||n.date)-new Date(o.createdAt||o.date));break;case"popular":s.sort((o,n)=>n.views-o.views);break;case"mostCommented":s.sort((o,n)=>n.comments-o.comments);break;case"mostLiked":s.sort((o,n)=>n.likes-o.likes);break}return s}},actions:{saveToLocalStorage(){const e={posts:this.posts,categories:this.categories,comments:this.comments};return _c(e)},setCategory(e){this.currentCategory=e},setSearchQuery(e){this.searchQuery=e},setSortBy(e){this.sortBy=e},createPost(e){const s=Math.max(...this.posts.map(n=>n.id),0)+1,o={id:s,...e,createdAt:new Date().toISOString(),date:new Date().toISOString(),likes:0,comments:0,views:0,tags:[],commentList:[],likedBy:[],favoritedBy:[]};return this.posts.unshift(o),this.saveToLocalStorage(),Promise.resolve(s)},addPost(e){return this.createPost(e)},updatePost(e,s){const o=this.posts.findIndex(n=>n.id===parseInt(e));return o!==-1?(this.posts[o]={...this.posts[o],...s},this.saveToLocalStorage(),!0):!1},deletePost(e){const s=this.posts.findIndex(o=>o.id===parseInt(e));return s!==-1?(this.posts.splice(s,1),this.comments=this.comments.filter(o=>o.postId!==parseInt(e)),this.saveToLocalStorage(),!0):!1},addComment(e){const{postId:s,userId:o,content:n}=e,i=Math.max(...this.comments.map(a=>a.id),0)+1,r={id:i,postId:parseInt(s),authorId:o,content:n,createdAt:new Date().toISOString(),likes:0};this.comments.push(r);const l=this.posts.findIndex(a=>a.id===parseInt(s));return l!==-1&&(this.posts[l].comments=(this.posts[l].comments||0)+1,this.posts[l].commentList||(this.posts[l].commentList=[]),this.posts[l].commentList.push({id:i,authorId:o,userName:`用户${o}`,content:n,date:new Date().toISOString(),userAvatar:`/avatars/avatar${o%5+1}.jpg`,replies:[]}),this.saveToLocalStorage()),Promise.resolve(i)},addReply(e){const{postId:s,commentId:o,userId:n,content:i}=e,r=this.posts.findIndex(m=>m.id===parseInt(s));if(r===-1)return Promise.reject(new Error("Post not found"));const l=this.posts[r].commentList.findIndex(m=>m.id===o);if(l===-1)return Promise.reject(new Error("Comment not found"));const a=Date.now(),d={id:a,authorId:n,userName:`用户${n}`,content:i,date:new Date().toISOString(),userAvatar:`/avatars/avatar${n%5+1}.jpg`};return this.posts[r].commentList[l].replies||(this.posts[r].commentList[l].replies=[]),this.posts[r].commentList[l].replies.push(d),this.posts[r].comments=(this.posts[r].comments||0)+1,this.saveToLocalStorage(),Promise.resolve(a)},togglePostLike(e,s){const o=this.posts.findIndex(n=>n.id===parseInt(e));if(o!==-1){const n=this.posts[o];n.likedBy||(n.likedBy=[]);const i=n.likedBy.indexOf(s);return i===-1?(n.likedBy.push(s),n.likes=(n.likes||0)+1):(n.likedBy.splice(i,1),n.likes=Math.max(0,(n.likes||0)-1)),this.saveToLocalStorage(),!0}return!1},togglePostFavorite(e,s){const o=this.posts.findIndex(n=>n.id===parseInt(e));if(o!==-1){const n=this.posts[o];n.favoritedBy||(n.favoritedBy=[]);const i=n.favoritedBy.indexOf(s);return i===-1?(n.favoritedBy.push(s),n.favorites=(n.favorites||0)+1):(n.favoritedBy.splice(i,1),n.favorites=Math.max(0,(n.favorites||0)-1)),this.saveToLocalStorage(),!0}return!1},incrementViewCount(e){const s=this.posts.findIndex(o=>o.id===parseInt(e));return s!==-1?(this.posts[s].views=(this.posts[s].views||0)+1,this.saveToLocalStorage(),!0):!1},incrementPostViews(e){return this.incrementViewCount(e)}}}),$c=[{id:1,name:"初音未来 手办模型",description:"精致的初音未来手办模型，高度约25cm，采用优质PVC材质制作，细节精美，是初音粉丝的必备收藏品。",price:289.99,originalPrice:349.99,stock:48,sold:152,rating:4.8,reviews:87,category:"手办模型",tags:["初音未来","手办","热销"],images:["/products/miku-figure-1.jpg","/products/miku-figure-2.jpg","/products/miku-figure-3.jpg"]},{id:2,name:"鬼灭之刃 全卷套装",description:"《鬼灭之刃》漫画全卷套装，精美包装，包含作者亲笔签名特典卡，是鬼灭粉丝珍藏的绝佳选择。",price:799,originalPrice:999,stock:32,sold:95,rating:4.9,reviews:63,category:"漫画书籍",tags:["鬼灭之刃","漫画","套装"],images:["/products/demon-slayer-manga-1.jpg","/products/demon-slayer-manga-2.jpg"]},{id:3,name:"火影忍者 忍者护额",description:"高品质金属材质制作的火影忍者木叶村护额，可调节带子适合各种头围，经典收藏版。",price:59.99,originalPrice:79.99,stock:124,sold:276,rating:4.7,reviews:158,category:"角色周边",tags:["火影忍者","装饰","角色扮演"],images:["/products/naruto-headband-1.jpg","/products/naruto-headband-2.jpg"]},{id:4,name:"进击的巨人 自由之翼背包",description:"《进击的巨人》调查兵团风格背包，印有自由之翼标志，大容量设计，实用性强，适合日常使用和cosplay。",price:159.99,originalPrice:199.99,stock:67,sold:133,rating:4.6,reviews:75,category:"时尚用品",tags:["进击的巨人","背包","日常用品"],images:["/products/aot-backpack-1.jpg","/products/aot-backpack-2.jpg"]},{id:5,name:"龙珠Z 悟空手办",description:"超精细超级赛亚人悟空战斗版手办，高度30cm，采用优质材料制作，造型生动，细节丰富。",price:339.99,originalPrice:399.99,stock:21,sold:89,rating:4.9,reviews:47,category:"手办模型",tags:["龙珠Z","悟空","手办"],images:["/products/goku-figure-1.jpg","/products/goku-figure-2.jpg","/products/goku-figure-3.jpg"]},{id:6,name:"EVA 明日香插画集",description:"《新世纪福音战士》明日香插画集，收录多位知名画师作品，精装版，限量发行。",price:129.99,originalPrice:159.99,stock:42,sold:68,rating:4.8,reviews:36,category:"书籍",tags:["EVA","明日香","插画集"],images:["/products/asuka-artbook-1.jpg","/products/asuka-artbook-2.jpg"]},{id:7,name:"宫崎骏作品 龙猫毛绒玩具",description:"官方授权宫崎骏作品龙猫毛绒玩具，大号40cm，柔软舒适，适合收藏和家居装饰。",price:119.99,originalPrice:149.99,stock:85,sold:215,rating:4.9,reviews:124,category:"毛绒玩具",tags:["宫崎骏","龙猫","毛绒玩具"],images:["/products/totoro-plush-1.jpg","/products/totoro-plush-2.jpg"]},{id:8,name:"海贼王 路飞草帽",description:"《海贼王》路飞同款草帽，1:1还原动漫场景，高质量材质，适合cosplay和日常装饰。",price:89.99,originalPrice:109.99,stock:98,sold:245,rating:4.7,reviews:132,category:"角色周边",tags:["海贼王","路飞","草帽"],images:["/products/luffy-hat-1.jpg","/products/luffy-hat-2.jpg"]},{id:9,name:"刀剑神域 桐人/亚丝娜 亚克力立牌",description:"《刀剑神域》桐人与亚丝娜双人亚克力立牌，高清印刷，附赠精美底座，办公桌装饰必备。",price:49.99,originalPrice:69.99,stock:142,sold:198,rating:4.6,reviews:85,category:"桌面装饰",tags:["刀剑神域","桐人","亚丝娜","亚克力立牌"],images:["/products/sao-standee-1.jpg","/products/sao-standee-2.jpg"]},{id:10,name:"动漫主题 机械键盘",description:"动漫主题定制机械键盘，采用Cherry轴，动漫角色键帽，RGB背光，游戏办公两相宜。",price:399.99,originalPrice:499.99,stock:35,sold:65,rating:4.8,reviews:42,category:"电子周边",tags:["键盘","游戏外设","动漫主题"],images:["/products/anime-keyboard-1.jpg","/products/anime-keyboard-2.jpg","/products/anime-keyboard-3.jpg"]},{id:11,name:"JOJO的奇妙冒险 徽章套装",description:"JOJO系列人物金属徽章套装，包含历代JOJO主角，做工精致，色彩鲜明，送礼自用皆可。",price:79.99,originalPrice:99.99,stock:73,sold:127,rating:4.5,reviews:58,category:"徽章收藏",tags:["JOJO","徽章","收藏"],images:["/products/jojo-badges-1.jpg","/products/jojo-badges-2.jpg"]},{id:12,name:"银魂 定制T恤",description:"《银魂》系列定制T恤，100%纯棉材质，舒适透气，多种图案可选，各种尺码齐全。",price:89.99,originalPrice:119.99,stock:120,sold:180,rating:4.6,reviews:95,category:"服装",tags:["银魂","T恤","服装"],images:["/products/gintama-shirt-1.jpg","/products/gintama-shirt-2.jpg","/products/gintama-shirt-3.jpg"]}],Cc=[{id:1,name:"手办模型",count:86},{id:2,name:"漫画书籍",count:124},{id:3,name:"角色周边",count:178},{id:4,name:"时尚用品",count:95},{id:5,name:"毛绒玩具",count:67},{id:6,name:"桌面装饰",count:82},{id:7,name:"电子周边",count:54},{id:8,name:"服装",count:112},{id:9,name:"徽章收藏",count:76},{id:10,name:"吧唧产品",count:8},{id:11,name:"二手吧唧",count:2}],jc=[{productId:1,quantity:1},{productId:7,quantity:2},{productId:3,quantity:1}],Ic=[{id:"ORD10001",userId:1,status:"completed",date:"2025-04-15T08:34:21Z",items:[{productId:1,name:"初音未来 手办模型",price:289.99,quantity:1,image:"/products/miku-figure-1.jpg"},{productId:3,name:"火影忍者 忍者护额",price:59.99,quantity:2,image:"/products/naruto-headband-1.jpg"}],shipping:{address:"东京都涩谷区宇田川町36-6",method:"标准配送",fee:15},payment:{method:"支付宝",total:424.97},total:424.97},{id:"ORD10002",userId:1,status:"processing",date:"2025-05-02T14:22:45Z",items:[{productId:7,name:"宫崎骏作品 龙猫毛绒玩具",price:119.99,quantity:1,image:"/products/totoro-plush-1.jpg"}],shipping:{address:"东京都涩谷区宇田川町36-6",method:"快速配送",fee:25},payment:{method:"微信支付",total:144.99},total:144.99},{id:"ORD10003",userId:1,status:"cancelled",date:"2025-03-18T10:17:36Z",items:[{productId:5,name:"龙珠Z 悟空手办",price:339.99,quantity:1,image:"/products/goku-figure-1.jpg"}],shipping:{address:"东京都涩谷区宇田川町36-6",method:"标准配送",fee:15},payment:{method:"信用卡",total:354.99},total:354.99},{id:"ORD10004",userId:2,status:"completed",date:"2025-04-05T16:42:18Z",items:[{productId:8,name:"海贼王 路飞草帽",price:89.99,quantity:1,image:"/products/luffy-hat-1.jpg"},{productId:11,name:"JOJO的奇妙冒险 徽章套装",price:79.99,quantity:1,image:"/products/jojo-badges-1.jpg"}],shipping:{address:"京都市左京区吉田本町36番地1",method:"标准配送",fee:15},payment:{method:"支付宝",total:184.98},total:184.98}],Cl="anime_community_orders",Or=()=>{try{const e=localStorage.getItem(Cl);return e?JSON.parse(e):null}catch(e){return console.error("Error reading orders from localStorage:",e),null}},Mc=e=>{try{return localStorage.setItem(Cl,JSON.stringify(e)),!0}catch(s){return console.error("Error saving orders to localStorage:",s),!1}},Cn=Qt("order",{state:()=>({orders:Or()||Ic}),getters:{getOrderById:e=>s=>e.orders.find(o=>o.id===s),userOrders:e=>{const s=ge();return s.currentUser?e.orders.filter(o=>o.userId===s.currentUser.id).sort((o,n)=>new Date(n.date)-new Date(o.date)):[]},userOrdersByStatus:e=>s=>{const o=ge();return o.currentUser?e.orders.filter(n=>n.userId===o.currentUser.id&&n.status===s).sort((n,i)=>new Date(i.date)-new Date(n.date)):[]},orderStats:e=>{const s=ge();if(!s.currentUser)return null;const o=e.orders.filter(n=>n.userId===s.currentUser.id);return{total:o.length,completed:o.filter(n=>n.status==="completed").length,processing:o.filter(n=>n.status==="processing").length,cancelled:o.filter(n=>n.status==="cancelled").length,totalSpent:o.filter(n=>n.status==="completed").reduce((n,i)=>n+i.total,0)}}},actions:{saveToStorage(){Mc(this.orders)},addOrder(e){const s=`ORD${Math.floor(1e4+Math.random()*9e4)}`,o={id:s,...e,date:new Date().toISOString(),status:"processing"};return this.orders.push(o),this.saveToStorage(),s},updateOrderStatus(e,s){const o=this.orders.findIndex(n=>n.id===e);return o!==-1?(this.orders[o].status=s,this.saveToStorage(),!0):!1},cancelOrder(e){return this.updateOrderStatus(e,"cancelled")},initializeFromStorage(){const e=Or();e&&(this.orders=e)},createOrderFromCart(e,s,o){const n=ge();if(!n.currentUser)return null;const i=e.reduce((d,m)=>d+m.price*m.quantity,0),r=s.fee||0,l=i+r,a={userId:n.currentUser.id,items:e.map(d=>({productId:d.productId,name:d.name,price:d.price,quantity:d.quantity,image:d.image})),shipping:{address:s.address,method:s.method,fee:r},payment:{method:o.method,total:l},total:l};return this.addOrder(a)}}}),Sc=[{id:101,name:"随身听吧唧",description:"ACG歌曲向吧唧，可随身携带，支持无线蓝牙连接，内置高保真音质芯片。",price:129,originalPrice:149,stock:58,sold:42,rating:4.7,reviews:28,category:"吧唧产品",tags:["音乐","吧唧","随身听"],images:["/virtual/portable-music-bucky.jpg"]},{id:102,name:"悬浮幻音吧唧",description:"ACG歌曲向吧唧高级版，支持悬浮播放，360°环绕立体声，营造沉浸式听歌体验。",price:199,originalPrice:249,stock:32,sold:65,rating:4.9,reviews:36,category:"吧唧产品",tags:["音乐","吧唧","悬浮"],images:["/virtual/floating-music-bucky.jpg"]},{id:201,name:"情绪映画吧唧",description:"情绪向吧唧，能感知用户情绪变化，自动播放舒缓音乐和投影温馨画面。",price:149,originalPrice:179,stock:45,sold:55,rating:4.8,reviews:31,category:"吧唧产品",tags:["情绪","吧唧","投影"],images:["/virtual/emotion-display-bucky.jpg"]},{id:202,name:"微笑治愈吧唧",description:"情绪向吧唧，专为减压设计，会说暖心话语，提供治愈小游戏和放松训练。",price:159,originalPrice:189,stock:39,sold:47,rating:4.7,reviews:29,category:"吧唧产品",tags:["治愈","吧唧","减压"],images:["/virtual/smile-healing-bucky.jpg"]},{id:301,name:"动画风扇吧唧",description:"日常向吧唧，集成动漫资讯、番剧提醒、周边上新通知等功能于一体。",price:139,originalPrice:169,stock:61,sold:39,rating:4.6,reviews:22,category:"吧唧产品",tags:["动画","吧唧","资讯"],images:["/virtual/anime-fan-bucky.jpg"]},{id:302,name:"回忆投影吧唧",description:"日常向吧唧，能记录生活点滴，支持照片、视频录制，并可投影展示珍贵回忆。",price:179,originalPrice:209,stock:37,sold:53,rating:4.9,reviews:34,category:"吧唧产品",tags:["投影","吧唧","回忆"],images:["/virtual/memory-projection-bucky.jpg"]},{id:401,name:"电子伙伴吧唧",description:"陪伴向吧唧，拥有AI聊天功能，能理解用户情绪，提供24小时不间断陪伴。",price:169,originalPrice:199,stock:42,sold:58,rating:4.8,reviews:37,category:"吧唧产品",tags:["AI","吧唧","陪伴"],images:["/virtual/electronic-companion-bucky.jpg"]},{id:402,name:"联机守护吧唧",description:"陪伴向吧唧高级版，支持多人联机，能与朋友家的吧唧互动，共享生活乐趣。",price:189,originalPrice:229,stock:28,sold:42,rating:4.7,reviews:25,category:"吧唧产品",tags:["联机","吧唧","互动"],images:["/virtual/multiplayer-guardian-bucky.jpg"]},{id:501,name:"二手随身听吧唧",description:"循环利用的ACG歌曲向吧唧，性能良好，已消毒杀菌，支持7天无理由退换。",price:79,originalPrice:99,stock:15,sold:25,rating:4.5,reviews:18,category:"二手吧唧",tags:["二手","吧唧","随身听"],images:["/virtual/portable-music-bucky.jpg"]},{id:502,name:"二手悬浮幻音吧唧",description:"二手悬浮型ACG歌曲向吧唧，悬浮功能完好，音质清晰，支持专业质检报告。",price:119,originalPrice:149,stock:8,sold:22,rating:4.4,reviews:15,category:"二手吧唧",tags:["二手","吧唧","悬浮"],images:["/virtual/floating-music-bucky.jpg"]}],Ac=[...$c,...Sc],jl="shopping_cart",zr=()=>{try{const e=localStorage.getItem(jl);return e?JSON.parse(e):null}catch(e){return console.error("Error reading cart from localStorage:",e),null}},Tc=e=>{try{localStorage.setItem(jl,JSON.stringify(e))}catch(s){console.error("Error saving cart to localStorage:",s)}},Nt=Qt("shop",{state:()=>{const e=zr();return{products:Ac,categories:Cc,cart:e||jc,currentCategory:null,searchQuery:"",sortBy:"popularity"}},getters:{getProductById:e=>s=>e.products.find(o=>o.id===parseInt(s)),getProductsByCategory:e=>s=>e.products.filter(o=>o.category===s),filteredProducts:e=>{let s=[...e.products];if(e.currentCategory&&(s=s.filter(o=>o.category===e.currentCategory)),e.searchQuery){const o=e.searchQuery.toLowerCase();s=s.filter(n=>n.name.toLowerCase().includes(o)||n.description.toLowerCase().includes(o)||n.tags.some(i=>i.toLowerCase().includes(o)))}switch(e.sortBy){case"popularity":s.sort((o,n)=>n.sold-o.sold);break;case"priceAsc":s.sort((o,n)=>o.price-n.price);break;case"priceDesc":s.sort((o,n)=>n.price-o.price);break;case"rating":s.sort((o,n)=>n.rating-o.rating);break;case"newest":s.sort((o,n)=>n.id-o.id);break}return s},cartItems:e=>e.cart.map(s=>{var n;const o=e.products.find(i=>i.id===s.productId);return{id:s.productId,productId:s.productId,quantity:s.quantity,name:(o==null?void 0:o.name)||"Unknown Product",price:(o==null?void 0:o.price)||0,originalPrice:(o==null?void 0:o.originalPrice)||0,image:((n=o==null?void 0:o.images)==null?void 0:n[0])||null,stock:(o==null?void 0:o.stock)||0,total:((o==null?void 0:o.price)||0)*s.quantity,options:s.options||{}}}),cartTotal:e=>e.cart.reduce((s,o)=>{const n=e.products.find(i=>i.id===o.productId);return s+((n==null?void 0:n.price)||0)*o.quantity},0),cartCount:e=>e.cart.reduce((s,o)=>s+o.quantity,0)},actions:{saveCartToStorage(){Tc(this.cart)},loadCartItems(){const e=zr();return e&&(this.cart=e),Promise.resolve(this.cartItems)},setCategory(e){this.currentCategory=e},setSearchQuery(e){this.searchQuery=e},setSortBy(e){this.sortBy=e},addToCart(e){const s=this.cart.findIndex(o=>o.productId===e.productId);return s!==-1?this.cart[s].quantity+=e.quantity:this.cart.push({productId:e.productId,quantity:e.quantity,options:e.options||{}}),this.saveCartToStorage(),Promise.resolve(!0)},updateCartItemQuantity(e){const{id:s,quantity:o}=e,n=this.cart.find(i=>i.productId===s);return n?(n.quantity=o,this.saveCartToStorage(),!0):!1},updateCartItem(e,s){return this.updateCartItemQuantity({id:e,quantity:s})},removeFromCart(e){const s=this.cart.findIndex(o=>o.productId===e);return s!==-1?(this.cart.splice(s,1),this.saveCartToStorage(),!0):!1},clearCart(){return this.cart=[],this.saveCartToStorage(),Promise.resolve(!0)},checkout(e){for(const s of e)this.removeFromCart(s);return Promise.resolve(!0)}}}),Pc=Qt("search",{state:()=>({searchQuery:"",searchResults:{posts:[],products:[],users:[]},searchHistory:[],isSearching:!1,activeTab:"all"}),getters:{hasResults:e=>e.searchResults.posts.length>0||e.searchResults.products.length>0||e.searchResults.users.length>0,totalResultsCount:e=>e.searchResults.posts.length+e.searchResults.products.length+e.searchResults.users.length,filteredResults:e=>e.activeTab==="all"?{posts:e.searchResults.posts.slice(0,3),products:e.searchResults.products.slice(0,3),users:e.searchResults.users.slice(0,3)}:{posts:e.activeTab==="posts"?e.searchResults.posts:[],products:e.activeTab==="products"?e.searchResults.products:[],users:e.activeTab==="users"?e.searchResults.users:[]}},actions:{setSearchQuery(e){this.searchQuery=e},setActiveTab(e){this.activeTab=e},addToSearchHistory(e){!this.searchHistory.includes(e)&&e.trim()!==""&&(this.searchHistory.unshift(e),this.searchHistory.length>10&&this.searchHistory.pop())},clearSearchHistory(){this.searchHistory=[]},async search(e=null){if(e!==null&&(this.searchQuery=e),!this.searchQuery.trim()){this.searchResults={posts:[],products:[],users:[]};return}this.isSearching=!0;const s=this.searchQuery.toLowerCase(),o=ms(),n=Nt(),i=ge(),r=o.posts.filter(d=>d.title.toLowerCase().includes(s)||d.content.toLowerCase().includes(s)||d.tags&&d.tags.some(m=>m.toLowerCase().includes(s))).map(d=>({id:d.id,type:"post",title:d.title,content:d.content.substring(0,100)+"...",imageUrl:d.imageUrl,category:d.category,route:`/forum/${d.id}`})),l=n.products.filter(d=>d.name.toLowerCase().includes(s)||d.description.toLowerCase().includes(s)||d.tags.some(m=>m.toLowerCase().includes(s))).map(d=>({id:d.id,type:"product",title:d.name,content:d.description.substring(0,100)+"...",imageUrl:d.images[0],price:d.price,route:`/product/${d.id}`})),a=i.users.filter(d=>d.username&&d.username.toLowerCase().includes(s)||d.nickname&&d.nickname.toLowerCase().includes(s)||d.bio&&d.bio.toLowerCase().includes(s)).map(d=>({id:d.id,type:"user",title:d.nickname||d.username,content:d.bio?d.bio.substring(0,100)+"...":"没有个人简介",imageUrl:d.avatar,route:`/user/${d.id}`}));return this.searchResults={posts:r,products:l,users:a},this.isSearching=!1,this.searchQuery.trim()!==""&&this.addToSearchHistory(this.searchQuery),this.searchResults},navigateToResult(e,s){e&&e.route&&s.push(e.route)}}}),Ee=(e,s)=>{const o=e.__vccOpts||e;for(const[n,i]of s)o[n]=i;return o},Bc={class:"bg-white shadow-sm sticky top-0 z-50"},Lc={class:"px-4 py-2.5 flex justify-between items-center"},Ec={class:"flex items-center space-x-3"},Dc={xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Rc={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},Oc={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},zc={key:0,class:"absolute w-full bg-white border-t border-gray-100 shadow-md z-40 transition-all duration-200"},Hc={class:"px-4 py-3"},Nc={class:"relative"},Uc={key:0,class:"px-4 pb-4"},Fc={class:"flex flex-wrap gap-2"},Vc=["onClick"],qc={key:1,class:"max-h-[70vh] overflow-y-auto"},Zc={key:0,class:"flex justify-center py-8"},Gc={key:1,class:"px-4 py-8 text-center text-gray-500"},Wc={key:2},Kc={class:"border-b border-gray-200"},Jc={class:"flex px-4"},Yc={key:0,class:"ml-1 bg-gray-200 text-gray-600 rounded-full text-xs px-1.5"},Qc={key:0,class:"ml-1 bg-gray-200 text-gray-600 rounded-full text-xs px-1.5"},Xc={key:0,class:"ml-1 bg-gray-200 text-gray-600 rounded-full text-xs px-1.5"},e0={class:"px-4 py-2"},t0={key:0},s0={key:0,class:"mb-4"},o0={key:0,class:"text-sm font-medium text-gray-500 mb-2"},n0={class:"space-y-2"},r0=["onClick"],i0={key:0,class:"w-12 h-12 rounded-md overflow-hidden flex-shrink-0 mr-3"},l0=["src"],a0={class:"flex-1 min-w-0"},d0={class:"font-medium text-gray-800 truncate"},u0={class:"text-xs text-gray-500 truncate"},c0={class:"text-xs bg-pink-100 text-pink-600 px-1.5 rounded"},f0={key:1},p0={key:0,class:"mb-4"},v0={key:0,class:"text-sm font-medium text-gray-500 mb-2"},m0={class:"space-y-2"},g0=["onClick"],h0={key:0,class:"w-12 h-12 rounded-md overflow-hidden flex-shrink-0 mr-3"},x0=["src"],y0={class:"flex-1 min-w-0"},w0={class:"font-medium text-gray-800 truncate"},b0={class:"text-xs text-gray-500 truncate"},k0={class:"text-xs text-pink-500 font-medium"},_0={key:2},$0={key:0,class:"mb-4"},C0={key:0,class:"text-sm font-medium text-gray-500 mb-2"},j0={class:"space-y-2"},I0=["onClick"],M0={class:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0 mr-3"},S0=["src"],A0={class:"flex-1 min-w-0"},T0={class:"font-medium text-gray-800"},P0={class:"text-xs text-gray-500 truncate"},B0={key:1,class:"absolute w-full bg-white shadow-lg z-40 max-h-[calc(100vh-56px)] overflow-y-auto"},L0={key:0},E0={class:"w-12 h-12 rounded-full overflow-hidden"},D0=["src"],R0={class:"ml-3"},O0={class:"font-medium"},z0={class:"divide-y divide-gray-100"},H0={key:1,class:"py-4"},N0={class:"bg-pink-50 mx-4 p-3 rounded-lg mb-4"},U0={class:"divide-y divide-gray-100"},F0={__name:"Navbar",setup(e){const s=ve(),o=ge(),n=Pc(),i=P(!1),r=P(!1),l=P(""),a=P(null),d=U(()=>o.currentUser),m=U(()=>o.isLoggedIn),u=U(()=>n.filteredResults),f=U(()=>n.hasResults),h=U(()=>n.searchHistory),w=U(()=>n.isSearching),b=U(()=>n.activeTab);pt(l,L=>{L.trim().length>=2?n.search(L):L.trim()===""&&n.setSearchQuery("")});const c=()=>{i.value=!i.value,i.value&&(r.value=!1)},g=()=>{r.value=!r.value,r.value?(i.value=!1,setTimeout(()=>{a.value&&a.value.focus()},100)):l.value=""},y=()=>{i.value=!1},M=()=>{r.value=!1,l.value=""},E=(L,j=!1)=>{j&&!m.value?s.push("/login"):s.push(L),y(),M()},I=()=>{o.logout(),s.push("/login"),y()},B=L=>{L&&L.key==="Enter"&&l.value.trim()&&(n.setSearchQuery(l.value),n.search())},S=L=>{n.navigateToResult(L,s),M()},A=L=>{n.setActiveTab(L)},$=L=>{l.value=L,n.search(L)},k=()=>{n.clearSearchHistory()};return(L,j)=>{const R=Ai("router-link");return p(),v("header",Bc,[t("div",Lc,[Be(R,{to:"/",class:"flex items-center"},{default:oo(()=>j[18]||(j[18]=[t("span",{class:"font-bold text-lg text-pink-500"},"挖谷挖谷",-1)])),_:1}),t("div",Ec,[t("button",{onClick:g,class:"p-1.5 text-gray-600 hover:text-pink-500 focus:outline-none"},j[19]||(j[19]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])),t("button",{onClick:c,class:"p-1.5 text-gray-600 hover:text-pink-500 focus:outline-none"},[(p(),v("svg",Dc,[i.value?(p(),v("path",Rc)):(p(),v("path",Oc))]))])])]),r.value?(p(),v("div",zc,[t("div",Hc,[t("div",Nc,[ue(t("input",{ref_key:"searchInputRef",ref:a,"onUpdate:modelValue":j[0]||(j[0]=V=>l.value=V),type:"text",placeholder:"搜索帖子、商品、用户...",class:"w-full py-2 px-4 pr-10 rounded-full bg-gray-100 focus:outline-none",onKeyup:bn(B,["enter"])},null,544),[[ce,l.value]]),l.value?(p(),v("button",{key:0,onClick:j[1]||(j[1]=V=>l.value=""),class:"absolute right-12 top-2 text-gray-400 hover:text-pink-500"},j[20]||(j[20]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):D("",!0),t("button",{class:"absolute right-3 top-2 text-gray-400 hover:text-pink-500",onClick:B},j[21]||(j[21]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)]))])]),!l.value&&h.value.length>0?(p(),v("div",Uc,[t("div",{class:"flex justify-between items-center mb-2"},[j[22]||(j[22]=t("h3",{class:"text-sm text-gray-500"},"搜索历史",-1)),t("button",{onClick:k,class:"text-xs text-gray-400 hover:text-pink-500"}," 清空 ")]),t("div",Fc,[(p(!0),v(G,null,ee(h.value,(V,ke)=>(p(),v("button",{key:ke,onClick:se=>$(V),class:"bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full text-sm text-gray-600"},x(V),9,Vc))),128))])])):D("",!0),l.value&&l.value.length>=2?(p(),v("div",qc,[w.value?(p(),v("div",Zc,j[23]||(j[23]=[t("div",{class:"w-8 h-8 border-4 border-t-pink-500 border-gray-200 rounded-full animate-spin"},null,-1)]))):!f.value&&l.value?(p(),v("div",Gc,' 没有找到与 "'+x(l.value)+'" 相关的内容 ',1)):(p(),v("div",Wc,[t("div",Kc,[t("div",Jc,[t("button",{onClick:j[2]||(j[2]=V=>A("all")),class:Q(["py-2 px-4 text-sm font-medium",b.value==="all"?"text-pink-500 border-b-2 border-pink-500":"text-gray-500"])}," 全部 ",2),t("button",{onClick:j[3]||(j[3]=V=>A("posts")),class:Q(["py-2 px-4 text-sm font-medium",b.value==="posts"?"text-pink-500 border-b-2 border-pink-500":"text-gray-500"])},[j[24]||(j[24]=we(" 帖子 ")),u.value.posts.length?(p(),v("span",Yc,x(u.value.posts.length),1)):D("",!0)],2),t("button",{onClick:j[4]||(j[4]=V=>A("products")),class:Q(["py-2 px-4 text-sm font-medium",b.value==="products"?"text-pink-500 border-b-2 border-pink-500":"text-gray-500"])},[j[25]||(j[25]=we(" 商品 ")),u.value.products.length?(p(),v("span",Qc,x(u.value.products.length),1)):D("",!0)],2),t("button",{onClick:j[5]||(j[5]=V=>A("users")),class:Q(["py-2 px-4 text-sm font-medium",b.value==="users"?"text-pink-500 border-b-2 border-pink-500":"text-gray-500"])},[j[26]||(j[26]=we(" 用户 ")),u.value.users.length?(p(),v("span",Xc,x(u.value.users.length),1)):D("",!0)],2)])]),t("div",e0,[b.value==="all"||b.value==="posts"?(p(),v("div",t0,[u.value.posts.length?(p(),v("div",s0,[b.value==="all"?(p(),v("h3",o0," 帖子 ")):D("",!0),t("div",n0,[(p(!0),v(G,null,ee(u.value.posts,V=>(p(),v("div",{key:`post-${V.id}`,onClick:ke=>S(V),class:"flex items-center p-2 hover:bg-gray-50 rounded-lg cursor-pointer"},[V.imageUrl?(p(),v("div",i0,[t("img",{src:V.imageUrl||"/forum/default-post.jpg",class:"w-full h-full object-cover",alt:"Post Image"},null,8,l0)])):D("",!0),t("div",a0,[t("h4",d0,x(V.title),1),t("p",u0,x(V.content),1),t("span",c0,x(V.category),1)])],8,r0))),128))])])):D("",!0)])):D("",!0),b.value==="all"||b.value==="products"?(p(),v("div",f0,[u.value.products.length?(p(),v("div",p0,[b.value==="all"?(p(),v("h3",v0," 商品 ")):D("",!0),t("div",m0,[(p(!0),v(G,null,ee(u.value.products,V=>(p(),v("div",{key:`product-${V.id}`,onClick:ke=>S(V),class:"flex items-center p-2 hover:bg-gray-50 rounded-lg cursor-pointer"},[V.imageUrl?(p(),v("div",h0,[t("img",{src:V.imageUrl||"/products/default-product.jpg",class:"w-full h-full object-cover",alt:"Product Image"},null,8,x0)])):D("",!0),t("div",y0,[t("h4",w0,x(V.title),1),t("p",b0,x(V.content),1),t("span",k0,"￥"+x(V.price.toFixed(2)),1)])],8,g0))),128))])])):D("",!0)])):D("",!0),b.value==="all"||b.value==="users"?(p(),v("div",_0,[u.value.users.length?(p(),v("div",$0,[b.value==="all"?(p(),v("h3",C0," 用户 ")):D("",!0),t("div",j0,[(p(!0),v(G,null,ee(u.value.users,V=>(p(),v("div",{key:`user-${V.id}`,onClick:ke=>S(V),class:"flex items-center p-2 hover:bg-gray-50 rounded-lg cursor-pointer"},[t("div",M0,[t("img",{src:V.imageUrl||"/avatars/default-avatar.jpg",class:"w-full h-full object-cover",alt:"User Avatar"},null,8,S0)]),t("div",A0,[t("h4",T0,x(V.title),1),t("p",P0,x(V.content),1)])],8,I0))),128))])])):D("",!0)])):D("",!0)])]))])):D("",!0)])):D("",!0),i.value?(p(),v("div",B0,[m.value?(p(),v("div",L0,[t("div",{onClick:j[6]||(j[6]=V=>E("/profile")),class:"flex items-center p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50"},[t("div",E0,[t("img",{src:d.value.avatar||"/avatars/default-avatar.jpg",class:"w-full h-full object-cover",alt:"Avatar"},null,8,D0)]),t("div",R0,[t("div",O0,x(d.value.nickname||d.value.username),1),j[27]||(j[27]=t("div",{class:"text-xs text-gray-500"},"查看个人主页",-1))]),j[28]||(j[28]=t("div",{class:"ml-auto text-gray-400"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))]),t("div",z0,[t("div",null,[j[33]||(j[33]=t("div",{class:"px-4 py-2 text-xs text-gray-500"},"常用功能",-1)),t("a",{onClick:j[7]||(j[7]=V=>E("/forum")),class:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer"},j[29]||(j[29]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-pink-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})],-1),t("span",null,"二次元论坛",-1)])),t("a",{onClick:j[8]||(j[8]=V=>E("/shop")),class:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer"},j[30]||(j[30]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-pink-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1),t("span",null,"周边商城",-1)])),t("a",{onClick:j[9]||(j[9]=V=>E("/personality-test")),class:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer"},j[31]||(j[31]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-pink-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})],-1),t("span",null,"二次元人格测试",-1)])),t("a",{onClick:j[10]||(j[10]=V=>E("/charity")),class:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer"},j[32]||(j[32]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-pink-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1),t("span",null,"爱心公益",-1)]))]),t("div",null,[j[37]||(j[37]=t("div",{class:"px-4 py-2 text-xs text-gray-500"},"设置",-1)),t("a",{onClick:j[11]||(j[11]=V=>E("/profile")),class:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer"},j[34]||(j[34]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),t("span",null,"账号设置",-1)])),t("a",{onClick:j[12]||(j[12]=V=>E("/profile")),class:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer"},j[35]||(j[35]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),t("span",null,"消息通知",-1)])),t("a",{onClick:I,class:"flex items-center px-4 py-3 text-red-500 hover:bg-gray-50 cursor-pointer"},j[36]||(j[36]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),t("span",null,"退出登录",-1)]))])])])):(p(),v("div",H0,[t("div",N0,[j[38]||(j[38]=t("div",{class:"text-pink-800 font-medium mb-1"},"欢迎来到挖谷挖谷",-1)),j[39]||(j[39]=t("div",{class:"text-pink-700 text-sm mb-3"},"登录后可以体验更多功能",-1)),t("button",{onClick:j[13]||(j[13]=V=>E("/login")),class:"w-full px-4 py-2 bg-pink-500 text-white rounded-full text-sm"}," 立即登录/注册 ")]),t("div",U0,[t("a",{onClick:j[14]||(j[14]=V=>E("/")),class:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer"},j[40]||(j[40]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-pink-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),t("span",null,"首页",-1)])),t("a",{onClick:j[15]||(j[15]=V=>E("/forum",!0)),class:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer"},j[41]||(j[41]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-pink-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})],-1),t("span",null,"二次元论坛",-1),t("span",{class:"ml-2 px-1.5 py-0.5 text-xs bg-pink-100 text-pink-600 rounded"},"需登录",-1)])),t("a",{onClick:j[16]||(j[16]=V=>E("/shop",!0)),class:"flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer"},j[42]||(j[42]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-pink-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1),t("span",null,"周边商城",-1),t("span",{class:"ml-2 px-1.5 py-0.5 text-xs bg-pink-100 text-pink-600 rounded"},"需登录",-1)]))])]))])):D("",!0),i.value||r.value?(p(),v("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 z-30",onClick:j[17]||(j[17]=V=>{i.value=!1,r.value=!1})})):D("",!0)])}}},V0=Ee(F0,[["__scopeId","data-v-f5edbaf7"]]),q0={class:"bg-white shadow-lg border-t border-gray-200"},Z0={class:"flex justify-around items-center py-2"},G0={class:"relative"},W0={key:0,class:"absolute -top-1 -right-2 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center"},K0={__name:"TabBar",setup(e){const s=nt(),o=ve(),n=ge(),i=Nt(),r=U(()=>n.isLoggedIn),l=U(()=>i.cartCount),a=U(()=>r.value?s.path:"/"),d=m=>{!r.value&&m!=="/"&&m!=="/login"?o.push("/login"):o.push(m)};return(m,u)=>(p(),v("div",q0,[t("div",Z0,[t("div",{onClick:u[0]||(u[0]=f=>d("/")),class:Q(["flex flex-col items-center px-3 py-1 cursor-pointer",{"text-pink-500":a.value==="/"}])},u[5]||(u[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),t("span",{class:"text-xs mt-1"},"首页",-1)]),2),t("div",{onClick:u[1]||(u[1]=f=>d("/categories")),class:Q(["flex flex-col items-center px-3 py-1 cursor-pointer",{"text-pink-500":a.value.includes("/categories")}])},u[6]||(u[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1),t("span",{class:"text-xs mt-1"},"分类",-1)]),2),t("div",{onClick:u[2]||(u[2]=f=>d("/services")),class:Q(["flex flex-col items-center px-3 py-1 cursor-pointer",{"text-pink-500":a.value.includes("/services")}])},u[7]||(u[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),t("span",{class:"text-xs mt-1"},"服务",-1)]),2),t("div",{onClick:u[3]||(u[3]=f=>d("/cart")),class:Q(["flex flex-col items-center px-3 py-1 cursor-pointer",{"text-pink-500":a.value.includes("/cart")}])},[t("div",G0,[u[8]||(u[8]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),l.value>0?(p(),v("span",W0,x(l.value>9?"9+":l.value),1)):D("",!0)]),u[9]||(u[9]=t("span",{class:"text-xs mt-1"},"购物车",-1))],2),t("div",{onClick:u[4]||(u[4]=f=>d(r.value?"/profile":"/login")),class:Q(["flex flex-col items-center px-3 py-1 cursor-pointer",{"text-pink-500":r.value&&a.value.includes("/profile")||!r.value&&a.value==="/login"}])},u[10]||(u[10]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),t("span",{class:"text-xs mt-1"},"我的",-1)]),2)])]))}},J0={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-900 z-50"},Y0={key:1,class:"flex flex-col min-h-screen bg-gray-100"},Q0={__name:"App",setup(e){const s=P(!0);as("hideNavigation",!1);const o=Ke("hideNavigation",!1),n=ge(),i=Cn(),r=Nt();me(()=>{l(),setTimeout(()=>{s.value=!1},1e3)});function l(){n.initializeFromStorage(),i.initializeFromStorage(),r.loadCartItems(),window.addEventListener("storage",a=>{a.key==="anime_community_user"?n.initializeFromStorage():a.key==="anime_community_orders"?i.initializeFromStorage():a.key==="shopping_cart"&&r.loadCartItems()})}return(a,d)=>{const m=Ai("router-view");return p(),v("div",null,[s.value?(p(),v("div",J0,d[0]||(d[0]=[t("div",{class:"text-center"},[t("div",{class:"w-16 h-16 border-4 border-t-pink-500 border-gray-200 rounded-full animate-spin mb-4 mx-auto"}),t("h2",{class:"text-xl font-bold text-white"},"挖谷挖谷"),t("p",{class:"text-gray-300"},"加载中...")],-1)]))):(p(),v("div",Y0,[Be(V0),t("main",{class:Q(["flex-1",{"pb-16":!de(o)}])},[Be(m,null,{default:oo(({Component:u})=>[Be(Ad,{name:"fade",mode:"out-in"},{default:oo(()=>[(p(),Go(La(u)))]),_:2},1024)]),_:1})],2),de(o)?D("",!0):(p(),Go(K0,{key:0,class:"fixed bottom-0 left-0 right-0"}))]))])}}},X0=""+new URL("../banners/wandering-plan.jpg",import.meta.url).href,e1=""+new URL("../banners/charity-plan.jpg",import.meta.url).href,t1={class:"pb-6"},s1={class:"relative overflow-hidden",style:{height:"200px"}},o1=["onClick"],n1=["src"],r1={class:"absolute bottom-0 left-0 p-4 text-white z-20"},i1={class:"text-xl font-bold"},l1={key:0,class:"text-white text-xs bg-black/40 px-2 py-0.5 mt-1 rounded inline-block"},a1={class:"absolute bottom-2 left-0 right-0 flex justify-center gap-1"},d1=["onClick"],u1={class:"mt-4 px-4"},c1={class:"flex justify-between items-center mb-2"},f1={key:0,class:"space-y-3"},p1=["onClick"],v1={class:"flex-1 pr-3"},m1={class:"font-medium text-gray-800 line-clamp-1"},g1={class:"text-sm text-gray-500 line-clamp-2 mt-1"},h1={class:"flex items-center mt-2 text-xs text-gray-500"},x1={class:"w-20 h-20 rounded-md overflow-hidden flex-shrink-0"},y1=["src"],w1={key:1,class:"bg-white rounded-lg shadow-sm p-4 text-center"},b1={class:"mt-4 grid grid-cols-3 gap-2 px-4 py-5 bg-white shadow-sm"},k1={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs"},_1={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs"},$1={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs"},C1={class:"mt-4 px-4"},j1={class:"flex justify-between items-center mb-2"},I1={class:"bg-white rounded-lg shadow-sm p-4"},M1={class:"flex"},S1={class:"flex-1"},A1={class:"mt-4 px-4 pb-4"},T1={class:"flex justify-between items-center mb-2"},P1={class:"bg-white rounded-lg shadow-sm p-4"},B1={class:"flex"},L1={class:"flex-1"},E1={__name:"Home",setup(e){const s=ve(),o=ms(),n=Nt(),i=ge(),r=U(()=>i.isLoggedIn),l=P([{id:1,title:"二次元动漫人格测试",subtitle:"探索自己的动漫人格类型",imageUrl:"/banners/personality-test-banner.jpg",link:"/personality-test",requiresAuth:!0},{id:2,title:"热门动漫周边",subtitle:"限时特惠，折扣高达30%",imageUrl:"/banners/shop-banner.jpg",link:"/shop",requiresAuth:!0},{id:3,title:"二次元公益活动",subtitle:"用爱传递温暖，为爱助力",imageUrl:"/banners/charity-banner.jpg",link:"/charity",requiresAuth:!0}]),a=P(0),d=P(null),m=()=>{d.value=setInterval(()=>{u()},5e3)},u=()=>{a.value=(a.value+1)%l.value.length},f=()=>{a.value=(a.value-1+l.value.length)%l.value.length},h=(b,c=!1)=>{c&&!r.value?s.push("/login"):s.push(b)},w=U(()=>o.posts.sort((b,c)=>c.views-b.views).slice(0,3));return U(()=>n.products.sort((b,c)=>c.sold-b.sold).slice(0,4)),me(()=>{m()}),(b,c)=>(p(),v("div",t1,[t("div",s1,[t("div",{class:"w-full h-full flex transition-transform duration-500 ease-in-out",style:Te({transform:`translateX(-${a.value*100}%)`})},[(p(!0),v(G,null,ee(l.value,g=>(p(),v("div",{key:g.id,class:"w-full h-full flex-shrink-0 relative",onClick:y=>h(g.link,g.requiresAuth)},[c[9]||(c[9]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-10"},null,-1)),t("img",{src:g.imageUrl||"/banners/default-banner.jpg",class:Q(["w-full h-full object-cover",{"opacity-70":!r.value&&g.requiresAuth}]),alt:"Banner"},null,10,n1),t("div",r1,[t("h2",i1,x(g.title),1),t("p",null,x(g.subtitle),1),!r.value&&g.requiresAuth?(p(),v("div",l1," 需要登录后访问 ")):D("",!0)])],8,o1))),128))],4),t("div",a1,[(p(!0),v(G,null,ee(l.value,(g,y)=>(p(),v("button",{key:y,onClick:M=>a.value=y,class:Q(["w-2 h-2 rounded-full transition-all",a.value===y?"bg-white scale-125":"bg-white/50"])},null,10,d1))),128))]),t("button",{onClick:us(f,["stop"]),class:"absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center rounded-full bg-black/30 text-white z-20"},c[10]||(c[10]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),t("button",{onClick:us(u,["stop"]),class:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center rounded-full bg-black/30 text-white z-20"},c[11]||(c[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),t("div",u1,[t("div",c1,[c[12]||(c[12]=t("h2",{class:"text-lg font-bold"},"热门话题",-1)),t("button",{onClick:c[0]||(c[0]=g=>h("/forum",!0)),class:"text-sm text-pink-500"}," 查看更多 ")]),r.value?(p(),v("div",f1,[(p(!0),v(G,null,ee(w.value,g=>(p(),v("div",{key:g.id,onClick:y=>h(`/forum/${g.id}`),class:"bg-white rounded-lg shadow-sm p-3 flex cursor-pointer"},[t("div",v1,[t("h3",m1,x(g.title),1),t("p",g1,x(g.content),1),t("div",h1,[t("span",null,x(g.category),1),c[13]||(c[13]=t("span",{class:"mx-2"},"·",-1)),t("span",null,x(g.likes)+" 喜欢",1),c[14]||(c[14]=t("span",{class:"mx-2"},"·",-1)),t("span",null,x(g.comments)+" 评论",1)])]),t("div",x1,[t("img",{src:g.imageUrl||"/forum/default-post.jpg",class:"w-full h-full object-cover",alt:"Post Image"},null,8,y1)])],8,p1))),128))])):(p(),v("div",w1,[c[15]||(c[15]=t("div",{class:"text-gray-500 mb-3"},"登录后可以查看热门话题",-1)),t("button",{onClick:c[1]||(c[1]=g=>h("/login")),class:"px-4 py-2 bg-pink-500 text-white rounded-full text-sm"}," 去登录 ")]))]),t("div",b1,[t("div",{onClick:c[2]||(c[2]=g=>h("/forum",!0)),class:"flex flex-col items-center relative cursor-pointer"},[t("div",{class:Q(["w-12 h-12 rounded-full bg-pink-100 flex items-center justify-center mb-1",{"opacity-60":!r.value}])},[c[17]||(c[17]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})],-1)),r.value?D("",!0):(p(),v("div",k1,c[16]||(c[16]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)])))],2),c[18]||(c[18]=t("span",{class:"text-sm text-gray-700"},"论坛",-1))]),t("div",{onClick:c[3]||(c[3]=g=>h("/personality-test",!0)),class:"flex flex-col items-center relative cursor-pointer"},[t("div",{class:Q(["w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mb-1",{"opacity-60":!r.value}])},[c[20]||(c[20]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})],-1)),r.value?D("",!0):(p(),v("div",_1,c[19]||(c[19]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)])))],2),c[21]||(c[21]=t("span",{class:"text-sm text-gray-700"},"二次元人格测试",-1))]),t("div",{onClick:c[4]||(c[4]=g=>h("/virtual-experience",!0)),class:"flex flex-col items-center relative cursor-pointer"},[t("div",{class:Q(["w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center mb-1",{"opacity-60":!r.value}])},[c[23]||(c[23]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),r.value?D("",!0):(p(),v("div",$1,c[22]||(c[22]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)])))],2),c[24]||(c[24]=t("span",{class:"text-sm text-gray-700"},"虚拟体验馆",-1))])]),t("div",C1,[t("div",j1,[c[25]||(c[25]=t("h2",{class:"text-lg font-bold"},"吧唧流浪计划",-1)),t("button",{onClick:c[5]||(c[5]=g=>h("/local-exchange")),class:"text-sm text-pink-500"}," 查看更多 ")]),t("div",I1,[t("div",M1,[c[28]||(c[28]=t("img",{src:X0,class:"w-24 h-24 rounded-md object-cover mr-4",alt:"吧唧流浪计划"},null,-1)),t("div",S1,[c[26]||(c[26]=t("h3",{class:"font-medium text-gray-800 mb-1"},"闲置吧唧交换，寻找新主人",-1)),c[27]||(c[27]=t("p",{class:"text-sm text-gray-500 line-clamp-2"}," 吧唧流浪计划致力于为闲置的吧唧产品寻找新主人，通过同城交换让每个吧唧都能继续发挥价值，减少浪费，传递温暖。 ",-1)),t("button",{onClick:c[6]||(c[6]=g=>h("/local-exchange")),class:"mt-2 px-3 py-1 bg-pink-500 text-white rounded-full text-sm"}," 参与交换 ")])])])]),t("div",A1,[t("div",T1,[c[29]||(c[29]=t("h2",{class:"text-lg font-bold"},"爱心接力计划",-1)),t("button",{onClick:c[7]||(c[7]=g=>h("/charity")),class:"text-sm text-pink-500"})]),t("div",P1,[t("div",B1,[c[32]||(c[32]=t("img",{src:e1,class:"w-24 h-24 rounded-md object-cover mr-4",alt:"爱心接力计划"},null,-1)),t("div",L1,[c[30]||(c[30]=t("h3",{class:"font-medium text-gray-800 mb-1"},"传递爱心，接力温暖",-1)),c[31]||(c[31]=t("p",{class:"text-sm text-gray-500 line-clamp-2"}," 爱心接力计划通过募集善款、组织志愿服务等方式，帮助有需要的人群，共同建设更加美好的社会。 ",-1)),t("button",{onClick:c[8]||(c[8]=g=>h("/charity")),class:"mt-2 px-3 py-1 bg-pink-500 text-white rounded-full text-sm"}," 参与公益 ")])])])])]))}},D1=Ee(E1,[["__scopeId","data-v-25d6afba"]]),R1={class:"min-h-screen flex flex-col px-4 py-10"},O1={class:"flex-1 flex flex-col items-center justify-center"},z1={class:"w-full max-w-md"},H1={class:"mb-4"},N1={class:"mb-4"},U1={class:"relative"},F1=["type"],V1={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},q1={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Z1={key:0,class:"mb-4 p-2 bg-red-100 text-red-700 rounded-md text-sm"},G1=["disabled"],W1={key:0},K1={key:1},J1={__name:"Login",setup(e){const s=ve(),o=ge(),n=P(""),i=P(""),r=P(!1),l=P(!1),a=P(""),d=async()=>{if(!n.value||!i.value){a.value="请输入用户名和密码";return}l.value=!0;try{o.login(n.value,i.value)?s.push("/"):a.value="用户名或密码错误"}catch(u){console.error("Login error:",u),a.value="登录失败，请稍后再试"}finally{l.value=!1}},m=()=>{s.push("/register")};return(u,f)=>(p(),v("div",R1,[t("div",O1,[f[10]||(f[10]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-3xl font-bold text-pink-600"},"挖谷挖谷"),t("p",{class:"text-gray-600 mt-2"},"登录您的账号")],-1)),t("div",z1,[t("div",H1,[f[3]||(f[3]=t("label",{for:"username",class:"block text-sm font-medium text-gray-700 mb-1"},"用户名",-1)),ue(t("input",{id:"username","onUpdate:modelValue":f[0]||(f[0]=h=>n.value=h),type:"text",placeholder:"请输入用户名",class:Q(["w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",{"border-red-500":a.value}])},null,2),[[ce,n.value]])]),t("div",N1,[f[6]||(f[6]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"},"密码",-1)),t("div",U1,[ue(t("input",{id:"password","onUpdate:modelValue":f[1]||(f[1]=h=>i.value=h),type:r.value?"text":"password",placeholder:"请输入密码",class:Q(["w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",{"border-red-500":a.value}])},null,10,F1),[[il,i.value]]),t("button",{type:"button",onClick:f[2]||(f[2]=h=>r.value=!r.value),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500"},[r.value?(p(),v("svg",V1,f[4]||(f[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(p(),v("svg",q1,f[5]||(f[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])])]),f[9]||(f[9]=t("div",{class:"flex justify-end mb-4"},[t("a",{href:"#",class:"text-sm text-pink-600 hover:underline"},"忘记密码？")],-1)),a.value?(p(),v("div",Z1,x(a.value),1)):D("",!0),t("button",{onClick:d,class:"w-full py-2 px-4 bg-pink-600 text-white font-medium rounded-md hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 transition-colors",disabled:l.value},[l.value?(p(),v("span",W1,f[7]||(f[7]=[t("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),we(" 登录中... ")]))):(p(),v("span",K1,"登录"))],8,G1),t("div",{class:"mt-6 text-center"},[t("p",{class:"text-gray-600"},[f[8]||(f[8]=we(" 还没有账号？ ")),t("button",{onClick:m,class:"text-pink-600 font-medium hover:underline"}," 立即注册 ")])])])]),f[11]||(f[11]=Me('<div class="mt-8 p-4 bg-gray-50 rounded-lg"><h3 class="text-sm font-bold text-gray-700 mb-2">测试账号：</h3><div class="grid grid-cols-2 gap-2 text-xs text-gray-600"><div><p><span class="font-medium">用户名:</span> sakura_chan</p><p><span class="font-medium">密码:</span> password123</p></div><div><p><span class="font-medium">用户名:</span> naruto_uzumaki</p><p><span class="font-medium">密码:</span> password123</p></div></div></div>',1))]))}},Y1={class:"min-h-screen flex flex-col px-4 py-10"},Q1={class:"flex-1 flex flex-col items-center justify-center"},X1={class:"w-full max-w-md"},ef={class:"mb-4"},tf={class:"mb-4"},sf={class:"mb-4"},of={class:"mb-4"},nf={class:"relative"},rf=["type"],lf={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},af={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},df={class:"mb-4"},uf={key:0,class:"mb-4 p-2 bg-red-100 text-red-700 rounded-md text-sm"},cf=["disabled"],ff={key:0},pf={key:1},vf={__name:"Register",setup(e){const s=ve(),o=ge(),n=P(""),i=P(""),r=P(""),l=P(""),a=P(""),d=P(!1),m=P(!1),u=P(""),f=async()=>{if(!n.value||!i.value||!r.value||!l.value){u.value="请填写所有必填字段";return}if(i.value!==r.value){u.value="两次输入的密码不一致";return}if(i.value.length<6){u.value="密码长度至少6位";return}if(!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(l.value)){u.value="请输入有效的邮箱地址";return}m.value=!0;try{o.register({username:n.value,password:i.value,email:l.value,nickname:a.value||n.value})?(o.login(n.value,i.value),s.push("/")):u.value="注册失败，用户名可能已存在"}catch(w){console.error("Registration error:",w),u.value="注册失败，请稍后再试"}finally{m.value=!1}},h=()=>{s.push("/login")};return(w,b)=>(p(),v("div",Y1,[t("div",Q1,[b[15]||(b[15]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-3xl font-bold text-pink-600"},"挖谷挖谷"),t("p",{class:"text-gray-600 mt-2"},"创建您的账号")],-1)),t("div",X1,[t("div",ef,[b[6]||(b[6]=t("label",{for:"username",class:"block text-sm font-medium text-gray-700 mb-1"},[we("用户名 "),t("span",{class:"text-red-500"},"*")],-1)),ue(t("input",{id:"username","onUpdate:modelValue":b[0]||(b[0]=c=>n.value=c),type:"text",placeholder:"请输入用户名",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent"},null,512),[[ce,n.value]])]),t("div",tf,[b[7]||(b[7]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},[we("邮箱 "),t("span",{class:"text-red-500"},"*")],-1)),ue(t("input",{id:"email","onUpdate:modelValue":b[1]||(b[1]=c=>l.value=c),type:"email",placeholder:"请输入邮箱",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent"},null,512),[[ce,l.value]])]),t("div",sf,[b[8]||(b[8]=t("label",{for:"nickname",class:"block text-sm font-medium text-gray-700 mb-1"},"昵称",-1)),ue(t("input",{id:"nickname","onUpdate:modelValue":b[2]||(b[2]=c=>a.value=c),type:"text",placeholder:"请输入昵称（选填）",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent"},null,512),[[ce,a.value]])]),t("div",of,[b[11]||(b[11]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"},[we("密码 "),t("span",{class:"text-red-500"},"*")],-1)),t("div",nf,[ue(t("input",{id:"password","onUpdate:modelValue":b[3]||(b[3]=c=>i.value=c),type:d.value?"text":"password",placeholder:"请输入密码（至少6位）",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent"},null,8,rf),[[il,i.value]]),t("button",{type:"button",onClick:b[4]||(b[4]=c=>d.value=!d.value),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500"},[d.value?(p(),v("svg",lf,b[9]||(b[9]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(p(),v("svg",af,b[10]||(b[10]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])])]),t("div",df,[b[12]||(b[12]=t("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700 mb-1"},[we("确认密码 "),t("span",{class:"text-red-500"},"*")],-1)),ue(t("input",{id:"confirmPassword","onUpdate:modelValue":b[5]||(b[5]=c=>r.value=c),type:"password",placeholder:"请再次输入密码",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent"},null,512),[[ce,r.value]])]),u.value?(p(),v("div",uf,x(u.value),1)):D("",!0),t("button",{onClick:f,class:"w-full py-2 px-4 bg-pink-600 text-white font-medium rounded-md hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 transition-colors",disabled:m.value},[m.value?(p(),v("span",ff,b[13]||(b[13]=[t("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),we(" 注册中... ")]))):(p(),v("span",pf,"注册"))],8,cf),t("div",{class:"mt-6 text-center"},[t("p",{class:"text-gray-600"},[b[14]||(b[14]=we(" 已有账号？ ")),t("button",{onClick:h,class:"text-pink-600 font-medium hover:underline"}," 立即登录 ")])])])])]))}},mf=[{id:1,question:"你更喜欢哪种类型的动漫？",options:[{id:"A",text:"热血战斗类",score:{extrovert:2,intuitive:0,thinking:1,judging:0}},{id:"B",text:"校园恋爱类",score:{extrovert:1,sensing:1,feeling:1,perceiving:0}},{id:"C",text:"悬疑推理类",score:{introvert:1,intuitive:2,thinking:2,judging:1}},{id:"D",text:"日常治愈类",score:{introvert:1,sensing:1,feeling:2,perceiving:1}}]},{id:2,question:"如果你穿越到动漫世界，你更希望拥有什么样的能力？",options:[{id:"A",text:"超强的战斗能力",score:{extrovert:1,sensing:1,thinking:1,judging:1}},{id:"B",text:"治愈和帮助他人的能力",score:{extrovert:0,sensing:0,feeling:2,perceiving:0}},{id:"C",text:"超强的智力和分析能力",score:{introvert:1,intuitive:1,thinking:2,judging:1}},{id:"D",text:"变身或改变外表的能力",score:{extrovert:1,intuitive:1,feeling:0,perceiving:2}}]},{id:3,question:"在动漫社团中，你更喜欢担任什么角色？",options:[{id:"A",text:"社长，带领大家一起活动",score:{extrovert:2,intuitive:0,thinking:0,judging:2}},{id:"B",text:"创作者，画同人作品",score:{introvert:1,intuitive:2,feeling:1,perceiving:1}},{id:"C",text:"资料收集者，了解各种细节和背景",score:{introvert:1,sensing:2,thinking:1,judging:1}},{id:"D",text:"活动参与者，享受氛围",score:{extrovert:1,sensing:1,feeling:1,perceiving:1}}]},{id:4,question:"你更喜欢哪种类型的动漫主角？",options:[{id:"A",text:"热血努力型",score:{extrovert:1,sensing:1,feeling:0,judging:2}},{id:"B",text:"天才冷酷型",score:{introvert:2,intuitive:1,thinking:2,judging:0}},{id:"C",text:"温柔治愈型",score:{introvert:0,sensing:0,feeling:2,perceiving:1}},{id:"D",text:"搞笑活泼型",score:{extrovert:2,sensing:0,feeling:1,perceiving:2}}]},{id:5,question:"在动漫展上，你通常会做什么？",options:[{id:"A",text:"参加所有可能的活动和签名会",score:{extrovert:2,sensing:1,feeling:0,perceiving:0}},{id:"B",text:"专注于购买特定的周边和限定商品",score:{introvert:0,sensing:2,thinking:0,judging:2}},{id:"C",text:"拍照和社交，结交新朋友",score:{extrovert:2,intuitive:0,feeling:1,perceiving:1}},{id:"D",text:"安静地欣赏展品和cosplay",score:{introvert:2,intuitive:1,thinking:1,perceiving:0}}]},{id:6,question:"你更关注动漫的哪个方面？",options:[{id:"A",text:"剧情发展和故事深度",score:{introvert:1,intuitive:2,thinking:1,judging:0}},{id:"B",text:"角色设计和人物成长",score:{extrovert:0,intuitive:1,feeling:2,perceiving:0}},{id:"C",text:"画面质量和动画特效",score:{extrovert:0,sensing:2,thinking:1,judging:1}},{id:"D",text:"音乐和声优表现",score:{extrovert:1,sensing:1,feeling:1,perceiving:1}}]},{id:7,question:"当你看到一部新动漫时，你会优先考虑什么？",options:[{id:"A",text:"是否有朋友推荐或评价很高",score:{extrovert:1,sensing:1,feeling:1,perceiving:0}},{id:"B",text:"是否属于我喜欢的类型和风格",score:{introvert:1,sensing:2,thinking:0,judging:1}},{id:"C",text:"是否有创新的故事和独特设定",score:{introvert:0,intuitive:2,thinking:1,perceiving:1}},{id:"D",text:"先看几集再决定是否继续",score:{extrovert:0,sensing:0,thinking:1,perceiving:2}}]},{id:8,question:"你更喜欢哪种结局方式？",options:[{id:"A",text:"圆满大团圆结局",score:{extrovert:0,sensing:1,feeling:2,judging:1}},{id:"B",text:"开放式结局留下想象空间",score:{introvert:1,intuitive:2,thinking:0,perceiving:2}},{id:"C",text:"悲剧结局但有深刻含义",score:{introvert:1,intuitive:1,thinking:2,judging:0}},{id:"D",text:"主角历经磨难后成功",score:{extrovert:1,sensing:1,feeling:1,judging:1}}]},{id:9,question:"当你了解到一部动漫有漫画原作时，你会怎么做？",options:[{id:"A",text:"立刻去看漫画了解更多剧情",score:{extrovert:1,intuitive:1,thinking:1,judging:2}},{id:"B",text:"先看完动画再决定是否看漫画",score:{introvert:0,sensing:1,feeling:0,perceiving:2}},{id:"C",text:"查看漫画和动画的区别与评价",score:{introvert:1,intuitive:1,thinking:2,judging:0}},{id:"D",text:"只看动画，不看漫画",score:{extrovert:0,sensing:2,feeling:1,perceiving:0}}]},{id:10,question:"在挖谷挖谷讨论中，你更倾向于？",options:[{id:"A",text:"积极发表自己的看法和理论",score:{extrovert:2,intuitive:1,thinking:1,judging:0}},{id:"B",text:"主要阅读别人的讨论和分析",score:{introvert:2,sensing:0,thinking:1,perceiving:1}},{id:"C",text:"分享自己收集的资料和细节",score:{extrovert:1,sensing:2,thinking:1,judging:1}},{id:"D",text:"发布和分享自己的同人创作",score:{extrovert:1,intuitive:2,feeling:1,perceiving:1}}]}],gf={INTJ:{name:"建筑师",animeCharacter:"夜神月（死亡笔记）",description:"你是一个战略思考者，喜欢复杂的故事和深刻的主题。你欣赏那些有深度的动漫，尤其是涉及策略、智力对决或哲学思考的作品。在挖谷挖谷中，你可能更喜欢分析剧情和角色发展，而不是单纯为了娱乐而看动漫。",recommendedAnime:["死亡笔记","攻壳机动队","命运石之门","心理测量者","怪物"],imageUrl:"/personality/intj.jpg"},INTP:{name:"逻辑学家",animeCharacter:"L（死亡笔记）",description:"你是一个创新思考者，喜欢解谜和探索复杂的设定。你欣赏那些具有独特世界观和深层次逻辑的动漫，尤其是科幻、悬疑或包含复杂系统的作品。你往往会思考故事背后的原理和设定的合理性。",recommendedAnime:["死亡笔记","冰菓","命运石之门","进击的巨人","四月是你的谎言"],imageUrl:"/personality/intp.jpg"},ENTJ:{name:"指挥官",animeCharacter:"利威尔兵长（进击的巨人）",description:"你有着强烈的领导意识和决断力，喜欢有明确目标和战略的故事。你欣赏那些展现领导力、团队协作或战略决策的动漫，尤其是宏大叙事的作品。你可能对角色的成长和实现目标的过程特别感兴趣。",recommendedAnime:["进击的巨人","火影忍者","钢之炼金术师","叛逆的鲁路修","黑色五叶草"],imageUrl:"/personality/entj.jpg"},ENTP:{name:"辩论家",animeCharacter:"奇犽·揍敌客（猎人）",description:"你思维敏捷，喜欢挑战和创新，享受充满机智对决和出人意料转折的动漫。你欣赏那些有创意的故事构架和独特设定的作品，尤其是那些打破常规或提出有趣问题的动漫。",recommendedAnime:["猎人","王者天下","无头骑士异闻录","狼与香辛料","钢之炼金术师"],imageUrl:"/personality/entp.jpg"},INFJ:{name:"提倡者",animeCharacter:"宫崎骏电影中的角色们",description:"你富有理想主义和同理心，喜欢有深层含义和人文关怀的动漫。你欣赏那些探讨人性、关系和社会议题的作品，尤其是能引起情感共鸣或传递积极信息的动漫。你可能会深入思考角色的动机和故事的寓意。",recommendedAnime:["千与千寻","虫师","紫罗兰永恒花园","你的名字","只有我不存在的城市"],imageUrl:"/personality/infj.jpg"},INFP:{name:"调停者",animeCharacter:"宫园薰（四月是你的谎言）",description:"你富有想象力和同理心，喜欢情感丰富和有意义的故事。你欣赏那些深入探讨感情、自我发现或理想追求的动漫，尤其是能触动心灵的作品。你可能特别关注角色的内心世界和情感成长。",recommendedAnime:["四月是你的谎言","声之形","你的名字","安昙和平","紫罗兰永恒花园"],imageUrl:"/personality/infp.jpg"},ENFJ:{name:"主角",animeCharacter:"漩涡鸣人（火影忍者）",description:"你热情洋溢，富有感染力，喜欢关注人际关系和团队成长的动漫。你欣赏那些展现友情、团队协作或积极向上的作品，尤其是能激励人心或展现深厚羁绊的动漫。你可能特别关注角色之间的互动和成长。",recommendedAnime:["火影忍者","我的英雄学院","妖精的尾巴","强风吹拂","排球少年"],imageUrl:"/personality/enfj.jpg"},ENFP:{name:"活动家",animeCharacter:"路飞（海贼王）",description:"你充满热情和创造力，喜欢冒险和多样化的故事。你欣赏那些展现自由、冒险或充满可能性的动漫，尤其是那些有趣、刺激或充满惊喜的作品。你可能会被独特的角色和新奇的世界设定所吸引。",recommendedAnime:["海贼王","小林家的龙女仆","齐木楠雄的灾难","工作细胞","鬼灭之刃"],imageUrl:"/personality/enfp.jpg"},ISTJ:{name:"物流师",animeCharacter:"秋山澪（轻音少女）",description:"你注重细节和稳定，喜欢有条理和逻辑性的故事。你欣赏那些制作精良、情节连贯或遵循明确规则的动漫，尤其是现实主义的作品。你可能会注意到故事中的一致性和细节。",recommendedAnime:["名侦探柯南","冰菓","食戟之灵","工作细胞","银魂"],imageUrl:"/personality/istj.jpg"},ISFJ:{name:"守卫者",animeCharacter:"本间芽衣子（未闻花名）",description:"你温暖体贴，重视传统和关系，喜欢温馨感人的故事。你欣赏那些展现友情、家庭或日常生活温暖一面的动漫，尤其是能引起情感共鸣的作品。你可能会被角色间真挚的情感所感动。",recommendedAnime:["未闻花名","夏目友人帐","轻音少女","学园孤岛","白箱"],imageUrl:"/personality/isfj.jpg"},ESTJ:{name:"总经理",animeCharacter:"宗像礼司（K）",description:"你实际高效，喜欢有明确结构和目标的故事。你欣赏那些情节紧凑、规则明确或展现组织运作的动漫，尤其是那些关注实际问题解决的作品。你可能会欣赏角色的效率和决断力。",recommendedAnime:["K","刀剑神域","食戟之灵","钻石王牌","黑执事"],imageUrl:"/personality/estj.jpg"},ESFJ:{name:"执政官",animeCharacter:"平泽唯（轻音少女）",description:"你热情友好，重视和谐与合作，喜欢温暖和积极的故事。你欣赏那些展现友情、团队合作或社会联系的动漫，尤其是那些充满正能量或关注人际关系的作品。你可能特别喜欢校园类或团体类动漫。",recommendedAnime:["轻音少女","月刊少女野崎君","吹响吧！上低音号","齐木楠雄的灾难","小林家的龙女仆"],imageUrl:"/personality/esfj.jpg"},ISTP:{name:"鉴赏家",animeCharacter:"赤井秀一（名侦探柯南）",description:"你机智灵活，喜欢动作和技术细节，欣赏那些有精彩战斗场景或展示专业技能的动漫。你可能会被精心设计的战斗系统、机械设定或技术元素所吸引，尤其是那些注重实际操作的作品。",recommendedAnime:["刀剑神域","进击的巨人","钢之炼金术师","寄生兽","一拳超人"],imageUrl:"/personality/istp.jpg"},ISFP:{name:"探险家",animeCharacter:"宫水三叶（你的名字）",description:"你敏感艺术，喜欢美学和情感体验，欣赏视觉上精美或情感上共鸣的动漫。你可能会被唯美的画风、动人的音乐或感人的情节所吸引，尤其是那些能触动心灵的艺术作品。",recommendedAnime:["你的名字","言叶之庭","声之形","紫罗兰永恒花园","凉宫春日的忧郁"],imageUrl:"/personality/isfp.jpg"},ESTP:{name:"企业家",animeCharacter:"桐谷和人（刀剑神域）",description:"你充满活力和冒险精神，喜欢刺激和行动导向的故事。你欣赏那些有精彩战斗、冒险元素或紧张刺激情节的动漫，尤其是节奏快、娱乐性强的作品。你可能会被大场面和惊险情节所吸引。",recommendedAnime:["刀剑神域","鬼灭之刃","东京喰种","我的英雄学院","一拳超人"],imageUrl:"/personality/estp.jpg"},ESFP:{name:"表演者",animeCharacter:"波多野咲（辉夜大小姐想让我告白）",description:"你活泼开朗，喜欢欢乐和社交，欣赏那些有趣、轻松或充满活力的动漫。你可能会被搞笑元素、愉快的气氛或活力四射的角色所吸引，尤其是那些能带来欢笑或正能量的作品。",recommendedAnime:["辉夜大小姐想让我告白","日常","小林家的龙女仆","齐木楠雄的灾难","擅长捉弄的高木同学"],imageUrl:"/personality/esfp.jpg"}},hf=[{id:1,userId:1,type:"INFP",date:"2025-04-20T14:35:22Z"},{id:2,userId:2,type:"ENFP",date:"2025-04-18T09:12:45Z"},{id:3,userId:3,type:"ISTJ",date:"2025-04-25T18:42:31Z"},{id:4,userId:4,type:"INTJ",date:"2025-04-15T11:28:17Z"}],jn=Qt("personality",{state:()=>({questions:mf,types:gf,userResults:hf,testData:null,currentResult:null,currentTest:{answers:{},scores:{introvert:0,extrovert:0,sensing:0,intuitive:0,thinking:0,feeling:0,judging:0,perceiving:0}}}),getters:{getResultById:e=>s=>e.userResults.find(o=>o.id===parseInt(s)),getResultsByUserId:e=>s=>e.userResults.filter(o=>o.userId===s),getCurrentResult:e=>{const s=e.currentTest.scores,o=[s.introvert>s.extrovert?"I":"E",s.intuitive>s.sensing?"N":"S",s.thinking>s.feeling?"T":"F",s.judging>s.perceiving?"J":"P"].join("");return{type:o,details:e.types[o]||null}},isTestComplete:e=>Object.keys(e.currentTest.answers).length===e.questions.length},actions:{loadTestData(){return this.testData={questions:this.questions.map(e=>({id:e.id,text:e.question,answers:e.options.map(s=>({id:s.id,text:s.text}))}))},Promise.resolve(this.testData)},answerQuestion(e,s){const o=this.questions.find(r=>r.id===e);if(!o)return!1;const n=o.options.find(r=>r.id===s);if(!n)return!1;this.currentTest.answers[e]=s;const i=n.score;return Object.keys(i).forEach(r=>{this.currentTest.scores[r]+=i[r]}),!0},resetTest(){this.currentTest={answers:{},scores:{introvert:0,extrovert:0,sensing:0,intuitive:0,thinking:0,feeling:0,judging:0,perceiving:0}}},saveResult(e){const s=this.getCurrentResult;if(s.type){const o=Math.max(...this.userResults.map(i=>i.id))+1,n={id:o,userId:e,type:s.type,date:new Date().toISOString()};return this.userResults.push(n),o}return null},submitTest(e){var d;this.resetTest(),e.forEach(m=>{const u=this.questions.find(f=>f.id.toString()===m.questionId.toString());if(u){const f=u.options.find(h=>h.id===m.answerId);f&&f.score&&Object.entries(f.score).forEach(([h,w])=>{this.currentTest.scores[h]+=w})}});const s=this.getCurrentResult,o=this.types[s.type],n=Date.now().toString();Object.values(this.currentTest.scores).reduce((m,u)=>m+u,0);const i=20,r=[{name:"内向 vs 外向",percentage:Math.round(this.currentTest.scores.extrovert/i*100)},{name:"实感 vs 直觉",percentage:Math.round(this.currentTest.scores.intuitive/i*100)},{name:"思考 vs 情感",percentage:Math.round(this.currentTest.scores.feeling/i*100)},{name:"判断 vs 认知",percentage:Math.round(this.currentTest.scores.perceiving/i*100)}],l=Object.entries(this.types).filter(([m])=>m!==s.type).sort(()=>.5-Math.random()).slice(0,4).map(([m,u])=>{var f;return{name:u.animeCharacter.split("（")[0],anime:((f=u.animeCharacter.split("（")[1])==null?void 0:f.replace("）",""))||"",image:`/personality/${m.toLowerCase()}.jpg`,similarity:Math.floor(Math.random()*20)+70}});return this.currentResult={id:n,type:s.type,characterName:o.animeCharacter.split("（")[0],animeTitle:((d=o.animeCharacter.split("（")[1])==null?void 0:d.replace("）",""))||"",characterImage:`/personality/${s.type.toLowerCase()}.jpg`,description:o.description,personalityTraits:r,similarCharacters:l,recommendedAnime:o.recommendedAnime},this.saveResult(1),Promise.resolve(n)},loadResult(e){var r;if(this.currentResult&&this.currentResult.id===e)return Promise.resolve(this.currentResult);const s=Object.keys(this.types)[Math.floor(Math.random()*Object.keys(this.types).length)],o=this.types[s],n=[{name:"内向 vs 外向",percentage:Math.floor(Math.random()*70)+30},{name:"实感 vs 直觉",percentage:Math.floor(Math.random()*70)+30},{name:"思考 vs 情感",percentage:Math.floor(Math.random()*70)+30},{name:"判断 vs 认知",percentage:Math.floor(Math.random()*70)+30}],i=Object.entries(this.types).filter(([l])=>l!==s).sort(()=>.5-Math.random()).slice(0,4).map(([l,a])=>{var d;return{name:a.animeCharacter.split("（")[0],anime:((d=a.animeCharacter.split("（")[1])==null?void 0:d.replace("）",""))||"",image:`/personality/${l.toLowerCase()}.jpg`,similarity:Math.floor(Math.random()*20)+70}});return this.currentResult={id:e,type:s,characterName:o.animeCharacter.split("（")[0],animeTitle:((r=o.animeCharacter.split("（")[1])==null?void 0:r.replace("）",""))||"",characterImage:`/personality/${s.toLowerCase()}.jpg`,description:o.description,personalityTraits:n,similarCharacters:i,recommendedAnime:o.recommendedAnime},Promise.resolve(this.currentResult)}}}),xf={key:0,class:"pb-16 bg-gray-50"},yf={class:"bg-white py-6 px-4 shadow-sm flex items-center"},wf={class:"w-16 h-16 rounded-full overflow-hidden border-4 border-pink-100"},bf=["src"],kf={class:"ml-4 flex-1"},_f={class:"text-xl font-medium"},$f={class:"text-gray-500 text-sm mt-1"},Cf={class:"bg-white mt-2 p-5 grid grid-cols-3 gap-3 shadow-sm"},jf={class:"text-center border border-gray-100 rounded-lg p-4 bg-pink-50"},If={class:"text-xs text-pink-500 mt-1"},Mf={class:"text-center border border-gray-100 rounded-lg p-4 bg-pink-50"},Sf={class:"text-xs text-pink-500 mt-1"},Af={class:"bg-white mt-2 px-6 py-5 shadow-sm"},Tf={class:"text-center relative"},Pf={class:"text-pink-500 mt-3 text-2xl font-semibold"},Bf={class:"bg-white mt-2 p-5 grid grid-cols-3 gap-3 shadow-sm"},Lf={class:"bg-white mt-2 px-4 py-5 shadow-sm"},Ef={class:"flex justify-between items-center mb-4 px-2"},Df={class:"grid grid-cols-5 gap-2"},Rf={class:"bg-white mt-2 shadow-sm"},Of={class:"grid grid-cols-1 divide-y divide-gray-100"},zf={class:"flex items-center"},Hf={key:0,class:"text-xs py-1 px-2 bg-red-500 text-white rounded-full mr-2"},Nf={key:1,class:"flex justify-center items-center h-screen"},Uf={__name:"Profile",setup(e){const s=ve(),o=nt(),n=ge(),i=ms(),r=Cn(),l=jn(),a=U(()=>o.params.id?parseInt(o.params.id):null),d=U(()=>{var B;return!a.value||a.value===((B=n.currentUser)==null?void 0:B.id)}),m=P("posts");P(!1),P(!1),P(!1),P(!1),P(!1);const u=mt({});mt({oldPassword:"",newPassword:"",confirmPassword:"",error:null});const f=U(()=>n.currentUserFull),h=U(()=>d.value?f.value:n.getUserById(a.value)),w=U(()=>n.isLoggedIn);U(()=>n.avatarOptions);const b=U(()=>h.value?i.posts.filter(B=>B.authorId===h.value.id):[]),c=U(()=>d.value?r.userOrders:[]);U(()=>d.value?r.orderStats:{});const g=U(()=>h.value?l.getResultsByUserId(h.value.id):[]);me(()=>{w.value?(M(),y()):s.push("/login")}),pt(h,B=>{B&&M()}),pt(()=>o.params.id,()=>{y()});function y(){b.value&&b.value.length>0?m.value="posts":d.value&&g.value&&g.value.length>0?m.value="personality":d.value&&c.value&&c.value.length>0?m.value="orders":d.value?m.value="settings":m.value="posts"}function M(){if(h.value){const{username:B="",nickname:S="",email:A="",bio:$="",avatar:k=""}=h.value;Object.assign(u,{username:B,nickname:S,email:A,bio:$,avatar:k})}}function E(){n.logout(),s.push("/login")}function I(B){s.push(B)}return(B,S)=>h.value?(p(),v("div",xf,[t("div",yf,[t("div",wf,[t("img",{src:h.value.avatar||"/avatars/default-avatar.jpg",class:"w-full h-full object-cover",alt:"Profile Picture"},null,8,bf)]),t("div",kf,[t("h2",_f,x(h.value.nickname||h.value.username),1),t("p",$f,"会员等级: Lv."+x(h.value.level||1),1)]),t("div",null,[t("button",{class:"text-pink-500",onClick:S[0]||(S[0]=A=>I("/edit-profile"))},S[13]||(S[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]))])]),t("div",Cf,[t("div",jf,[S[14]||(S[14]=t("div",{class:"flex justify-center mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})])],-1)),S[15]||(S[15]=t("div",{class:"text-sm font-medium"},"优惠券",-1)),t("div",If,x(h.value.coupons||0)+"张",1)]),t("div",Mf,[S[16]||(S[16]=t("div",{class:"flex justify-center mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),S[17]||(S[17]=t("div",{class:"text-sm font-medium"},"红包",-1)),t("div",Sf,x(h.value.redPackets||0)+"个",1)]),S[18]||(S[18]=Me('<div class="text-center border border-gray-100 rounded-lg p-4 bg-pink-50" data-v-363b8ddc><div class="flex justify-center mb-2" data-v-363b8ddc><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-pink-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-363b8ddc><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" data-v-363b8ddc></path></svg></div><div class="text-sm font-medium" data-v-363b8ddc>会员积分</div><div class="text-xs text-pink-500 mt-1" data-v-363b8ddc>去使用</div></div>',1))]),t("div",Af,[t("div",Tf,[S[19]||(S[19]=t("div",{class:"absolute left-0 top-1/2 transform -translate-y-1/2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),S[20]||(S[20]=t("h3",{class:"text-lg font-medium"},"会员积分",-1)),t("p",Pf,x(h.value.points||0),1)])]),t("div",Bf,[t("div",{class:"text-center cursor-pointer",onClick:S[1]||(S[1]=A=>I("/user-collections?tab=favorites"))},S[21]||(S[21]=[t("div",{class:"flex justify-center mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})])],-1),t("div",{class:"text-sm font-medium"},"收藏",-1)])),t("div",{class:"text-center cursor-pointer",onClick:S[2]||(S[2]=A=>I("/user-collections?tab=history"))},S[22]||(S[22]=[t("div",{class:"flex justify-center mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),t("div",{class:"text-sm font-medium"},"足迹",-1)])),t("div",{class:"text-center cursor-pointer",onClick:S[3]||(S[3]=A=>I("/user-collections?tab=following"))},S[23]||(S[23]=[t("div",{class:"flex justify-center mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1),t("div",{class:"text-sm font-medium"},"关注",-1)]))]),t("div",Lf,[t("div",Ef,[S[25]||(S[25]=t("h3",{class:"font-medium"},"我的订单",-1)),t("div",{class:"text-xs text-gray-500 flex items-center",onClick:S[4]||(S[4]=A=>I("/orders"))},S[24]||(S[24]=[we(" 查看全部 "),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),t("div",Df,[t("div",{class:"text-center cursor-pointer",onClick:S[5]||(S[5]=A=>I("/orders?status=pending"))},S[26]||(S[26]=[t("div",{class:"flex justify-center mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])],-1),t("div",{class:"text-xs font-medium"},"待付款",-1)])),t("div",{class:"text-center cursor-pointer",onClick:S[6]||(S[6]=A=>I("/orders?status=shipping"))},S[27]||(S[27]=[t("div",{class:"flex justify-center mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})])],-1),t("div",{class:"text-xs font-medium"},"待收货",-1)])),t("div",{class:"text-center cursor-pointer",onClick:S[7]||(S[7]=A=>I("/orders?status=review"))},S[28]||(S[28]=[t("div",{class:"flex justify-center mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})])],-1),t("div",{class:"text-xs font-medium"},"待评价",-1)])),t("div",{class:"text-center cursor-pointer",onClick:S[8]||(S[8]=A=>I("/refunds"))},S[29]||(S[29]=[t("div",{class:"flex justify-center mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})])],-1),t("div",{class:"text-xs font-medium"},"退款售后",-1)])),t("div",{class:"text-center cursor-pointer",onClick:S[9]||(S[9]=A=>I("/orders"))},S[30]||(S[30]=[t("div",{class:"flex justify-center mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1),t("div",{class:"text-xs font-medium"},"全部订单",-1)]))])]),t("div",Rf,[t("div",Of,[t("div",{class:"p-4 flex justify-between items-center cursor-pointer",onClick:S[10]||(S[10]=A=>I("/address"))},S[31]||(S[31]=[Me('<div class="flex items-center" data-v-363b8ddc><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-pink-500 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-363b8ddc><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" data-v-363b8ddc></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" data-v-363b8ddc></path></svg><span class="font-medium" data-v-363b8ddc>收货地址</span></div><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-363b8ddc><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-363b8ddc></path></svg>',2)])),t("div",{class:"p-4 flex justify-between items-center cursor-pointer",onClick:S[11]||(S[11]=A=>I("/messages"))},[S[33]||(S[33]=t("div",{class:"flex items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-pink-500 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})]),t("span",{class:"font-medium"},"消息")],-1)),t("div",zf,[h.value.unreadMessages?(p(),v("span",Hf,x(h.value.unreadMessages),1)):D("",!0),S[32]||(S[32]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])]),t("div",{class:"p-4 flex justify-between items-center cursor-pointer",onClick:S[12]||(S[12]=A=>I("/customer-service"))},S[34]||(S[34]=[Me('<div class="flex items-center" data-v-363b8ddc><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-pink-500 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-363b8ddc><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z" data-v-363b8ddc></path></svg><span class="font-medium" data-v-363b8ddc>官方客服</span></div><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-363b8ddc><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-363b8ddc></path></svg>',2)]))])]),t("div",{class:"p-5"},[t("button",{onClick:E,class:"w-full py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg font-medium shadow-md hover:shadow-lg transition duration-300"}," 退出登录 ")])])):(p(),v("div",Nf,S[35]||(S[35]=[t("div",{class:"flex flex-col items-center"},[t("div",{class:"w-12 h-12 border-4 border-pink-500 border-t-transparent rounded-full animate-spin"}),t("p",{class:"mt-4 text-gray-500"},"加载中...")],-1)])))}},Hr=Ee(Uf,[["__scopeId","data-v-363b8ddc"]]),Ff={class:"pb-20"},Vf={class:"bg-white shadow-sm p-4"},qf={class:"mt-3 relative"},Zf={class:"mt-2 px-4 overflow-x-auto"},Gf={class:"flex space-x-2 py-2"},Wf=["onClick"],Kf={class:"mt-2 px-4 border-b border-gray-200"},Jf={class:"flex justify-between items-center pb-2"},Yf={class:"flex space-x-4"},Qf=["onClick"],Xf={class:"text-sm text-gray-500"},ep={key:0,class:"p-8 flex justify-center"},tp={key:1,class:"p-8 text-center"},sp={key:2,class:"divide-y divide-gray-100"},op=["onClick"],np={class:"flex"},rp={class:"mr-3"},ip={class:"w-10 h-10 rounded-full overflow-hidden"},lp=["src"],ap={class:"flex-1"},dp={class:"flex items-center"},up={class:"font-medium text-gray-900"},cp={class:"text-xs text-gray-500"},fp={class:"mt-1 font-medium text-gray-900"},pp={class:"mt-1 text-sm text-gray-600 line-clamp-2"},vp={key:0,class:"mt-2 rounded-lg overflow-hidden"},mp=["src"],gp={class:"mt-3 flex items-center text-xs text-gray-500"},hp={class:"px-2 py-1 bg-gray-100 rounded-full"},xp={class:"ml-auto flex space-x-4"},yp={class:"flex items-center"},wp={class:"flex items-center"},bp={class:"flex items-center"},kp={__name:"Forum",setup(e){const s=ve(),o=ms(),n=ge(),i=P(""),r=P("all"),l=P("recent"),a=P(!1),d=U(()=>[{id:"all",name:"全部"},...o.categories.map(g=>({id:g.name,name:g.name}))]),m=[{id:"recent",name:"最新"},{id:"popular",name:"热门"},{id:"comments",name:"评论"}],u=U(()=>n.isLoggedIn),f=U(()=>{let g=[...o.posts];if(r.value!=="all"&&(g=g.filter(y=>y.category===r.value)),i.value.trim()){const y=i.value.toLowerCase().trim();g=g.filter(M=>M.title.toLowerCase().includes(y)||M.content.toLowerCase().includes(y))}switch(l.value){case"recent":g.sort((y,M)=>new Date(M.date)-new Date(y.date));break;case"popular":g.sort((y,M)=>M.views-y.views);break;case"comments":g.sort((y,M)=>M.comments-y.comments);break}return g}),h=g=>{r.value=g},w=g=>{l.value=g},b=g=>{s.push(`/forum/${g}`)},c=()=>{u.value?s.push("/create-post"):s.push("/login")};return me(()=>{a.value=!1}),(g,y)=>(p(),v("div",Ff,[t("div",Vf,[t("div",{class:"flex justify-between items-center"},[y[2]||(y[2]=t("h1",{class:"text-xl font-bold"},"二次元论坛",-1)),t("button",{onClick:c,class:"px-3 py-1 text-sm bg-pink-600 text-white rounded-full flex items-center"},y[1]||(y[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),we(" 发帖 ")]))]),t("div",qf,[ue(t("input",{"onUpdate:modelValue":y[0]||(y[0]=M=>i.value=M),type:"text",placeholder:"搜索帖子...",class:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-full bg-gray-50 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent"},null,512),[[ce,i.value]]),y[3]||(y[3]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),t("div",Zf,[t("div",Gf,[(p(!0),v(G,null,ee(d.value,M=>(p(),v("button",{key:M.id,onClick:E=>h(M.id),class:Q(["px-3 py-1 text-sm rounded-full whitespace-nowrap",r.value===M.id?"bg-pink-600 text-white":"bg-gray-100 text-gray-700"])},x(M.name),11,Wf))),128))])]),t("div",Kf,[t("div",Jf,[t("div",Yf,[(p(),v(G,null,ee(m,M=>t("button",{key:M.id,onClick:E=>w(M.id),class:Q(["text-sm font-medium",l.value===M.id?"text-pink-600":"text-gray-500"])},x(M.name),11,Qf)),64))]),t("div",Xf,x(f.value.length)+" 个帖子 ",1)])]),a.value?(p(),v("div",ep,y[4]||(y[4]=[Me('<div class="flex flex-col items-center" data-v-2c7d4942><svg class="animate-spin h-8 w-8 text-pink-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" data-v-2c7d4942><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" data-v-2c7d4942></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" data-v-2c7d4942></path></svg><p class="mt-2 text-gray-500" data-v-2c7d4942>加载中...</p></div>',1)]))):f.value.length===0?(p(),v("div",tp,[t("div",{class:"text-gray-500"},[y[5]||(y[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 mx-auto text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),y[6]||(y[6]=t("p",{class:"mt-4"},"没有找到相关帖子",-1)),t("button",{onClick:c,class:"mt-4 px-4 py-2 bg-pink-600 text-white rounded-md"}," 发布新帖子 ")])])):(p(),v("div",sp,[(p(!0),v(G,null,ee(f.value,M=>(p(),v("div",{key:M.id,onClick:E=>b(M.id),class:"p-4 bg-white cursor-pointer"},[t("div",np,[t("div",rp,[t("div",ip,[t("img",{src:M.authorAvatar||"/avatars/default-avatar.jpg",class:"w-full h-full object-cover",alt:"Avatar"},null,8,lp)])]),t("div",ap,[t("div",dp,[t("span",up,x(M.authorName),1),y[7]||(y[7]=t("span",{class:"mx-2 text-gray-300"},"•",-1)),t("span",cp,x(new Date(M.date).toLocaleDateString()),1)]),t("h3",fp,x(M.title),1),t("p",pp,x(M.content),1),M.imageUrl?(p(),v("div",vp,[t("img",{src:M.imageUrl,class:"w-full h-32 object-cover",alt:"Post Image"},null,8,mp)])):D("",!0),t("div",gp,[t("span",hp,x(M.category),1),t("div",xp,[t("div",yp,[y[8]||(y[8]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),t("span",null,x(M.views),1)]),t("div",wp,[y[9]||(y[9]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)),t("span",null,x(M.likes),1)]),t("div",bp,[y[10]||(y[10]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),t("span",null,x(M.comments),1)])])])])])],8,op))),128))]))]))}},_p=Ee(kp,[["__scopeId","data-v-2c7d4942"]]),$p={class:"pb-20"},Cp={key:0,class:"h-screen flex justify-center pt-20"},jp={key:1,class:"bg-white"},Ip={class:"sticky top-0 z-10 bg-white border-b border-gray-200"},Mp={class:"px-4 py-2 flex items-center"},Sp={class:"text-lg font-bold truncate"},Ap={class:"p-4 flex items-center border-b border-gray-100"},Tp={class:"w-10 h-10 rounded-full overflow-hidden"},Pp=["src"],Bp={class:"ml-3"},Lp={class:"font-medium"},Ep={class:"text-xs text-gray-500"},Dp={class:"p-4"},Rp={class:"text-xl font-bold text-gray-900"},Op={class:"mt-2 px-2 py-1 inline-block bg-gray-100 rounded-full text-xs text-gray-700"},zp={class:"mt-4 text-gray-800 whitespace-pre-line"},Hp={key:0,class:"mt-4"},Np=["src"],Up={class:"mt-6 flex items-center text-sm text-gray-500"},Fp={class:"flex items-center"},Vp={class:"flex items-center"},qp={class:"px-4 py-3 border-t border-gray-100 flex justify-around"},Zp=["fill"],Gp=["fill"],Wp={class:"bg-gray-50 mt-2 p-4"},Kp={class:"font-bold text-gray-700"},Jp={class:"mt-4 bg-white rounded-lg shadow-sm overflow-hidden"},Yp={class:"bg-gray-50 px-3 py-2 text-right"},Qp=["disabled"],Xp={key:0},ev={key:1},tv={key:0,class:"mt-4 space-y-4"},sv={class:"flex"},ov={class:"w-8 h-8 rounded-full overflow-hidden"},nv=["src"],rv={class:"ml-2 flex-1"},iv={class:"flex justify-between items-center"},lv={class:"font-medium text-sm"},av={class:"text-xs text-gray-500"},dv={class:"mt-1 text-sm text-gray-800"},uv={class:"mt-2 flex items-center"},cv={class:"text-xs text-gray-500 flex items-center"},fv=["onClick"],pv={key:0,class:"mt-3 bg-gray-50 rounded-lg p-2"},vv={class:"mt-1 flex justify-end"},mv=["onClick","disabled"],gv={key:1,class:"mt-3 space-y-3 pl-3 border-l-2 border-gray-100"},hv={class:"flex"},xv={class:"w-6 h-6 rounded-full overflow-hidden"},yv=["src"],wv={class:"ml-2 flex-1"},bv={class:"flex justify-between items-center"},kv={class:"font-medium text-xs"},_v={class:"text-xs text-gray-500"},$v={class:"mt-1 text-xs text-gray-800"},Cv={key:1,class:"mt-4 py-6 text-center text-gray-500"},jv={__name:"ForumPost",setup(e){const s=nt(),o=ve(),n=ms(),i=ge(),r=P(null),l=P(""),a=P(!0),d=P(!1),m=P(null),u=P(""),f=U(()=>s.params.id),h=U(()=>i.isLoggedIn),w=U(()=>i.currentUser),b=U(()=>r.value?new Date(r.value.date).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""),c=async()=>{a.value=!0;try{setTimeout(()=>{const A=n.getPostById(f.value);A?(r.value=A,n.incrementPostViews(f.value)):o.push("/forum"),a.value=!1},500)}catch(A){console.error("Error loading post:",A),a.value=!1}},g=async()=>{if(!h.value){o.push("/login");return}if(l.value.trim()){d.value=!0;try{await n.addComment({postId:f.value,userId:w.value.id,content:l.value,date:new Date().toISOString()}),l.value=""}catch(A){console.error("Error submitting comment:",A)}finally{d.value=!1}}},y=async A=>{if(!h.value){o.push("/login");return}if(u.value.trim())try{await n.addReply({postId:f.value,commentId:A,userId:w.value.id,content:u.value,date:new Date().toISOString()}),u.value="",m.value=null}catch($){console.error("Error submitting reply:",$)}},M=()=>{if(!h.value){o.push("/login");return}n.togglePostLike(f.value,w.value.id)},E=()=>{if(!h.value){o.push("/login");return}n.togglePostFavorite(f.value,w.value.id)},I=A=>{m.value===A?m.value=null:(m.value=A,u.value="")},B=U(()=>!r.value||!w.value?!1:r.value.likedBy&&r.value.likedBy.includes(w.value.id)),S=U(()=>!r.value||!w.value?!1:r.value.favoritedBy&&r.value.favoritedBy.includes(w.value.id));return me(()=>{c()}),(A,$)=>(p(),v("div",$p,[a.value?(p(),v("div",Cp,$[4]||($[4]=[Me('<div class="flex flex-col items-center"><svg class="animate-spin h-8 w-8 text-pink-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="mt-2 text-gray-500">加载中...</p></div>',1)]))):r.value?(p(),v("div",jp,[t("div",Ip,[t("div",Mp,[t("button",{onClick:$[0]||($[0]=k=>de(o).go(-1)),class:"mr-4 p-1"},$[5]||($[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),t("h1",Sp,x(r.value.title),1)])]),t("div",Ap,[t("div",Tp,[t("img",{src:r.value.authorAvatar||"/avatars/default-avatar.jpg",class:"w-full h-full object-cover",alt:"Avatar"},null,8,Pp)]),t("div",Bp,[t("div",Lp,x(r.value.authorName),1),t("div",Ep,x(b.value),1)])]),t("div",Dp,[t("h2",Rp,x(r.value.title),1),t("div",Op,x(r.value.category),1),t("div",zp,x(r.value.content),1),r.value.imageUrl?(p(),v("div",Hp,[t("img",{src:r.value.imageUrl,class:"rounded-lg w-full",alt:"Post Image"},null,8,Np)])):D("",!0),t("div",Up,[t("div",Fp,[$[6]||($[6]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),t("span",null,x(r.value.views),1)]),$[8]||($[8]=t("div",{class:"mx-4"},"•",-1)),t("div",Vp,[$[7]||($[7]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),t("span",null,x(r.value.comments||0),1)])])]),t("div",qp,[t("button",{onClick:M,class:Q(["flex items-center justify-center w-24 py-2 rounded-full text-sm",B.value?"bg-pink-100 text-pink-600":"bg-gray-100 text-gray-600"])},[(p(),v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:B.value?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor"},$[9]||($[9]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)]),8,Zp)),t("span",null,x(r.value.likes),1)],2),$[12]||($[12]=t("button",{class:"flex items-center justify-center w-24 py-2 bg-gray-100 rounded-full text-sm text-gray-600"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})]),we(" 分享 ")],-1)),t("button",{onClick:E,class:Q(["flex items-center justify-center w-24 py-2 rounded-full text-sm",S.value?"bg-pink-100 text-pink-600":"bg-gray-100 text-gray-600"])},[(p(),v("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1",fill:S.value?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor"},$[10]||($[10]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"},null,-1)]),8,Gp)),$[11]||($[11]=we(" 收藏 "))],2)]),t("div",Wp,[t("h3",Kp,"评论 ("+x(r.value.commentList?r.value.commentList.length:0)+")",1),t("div",Jp,[ue(t("textarea",{"onUpdate:modelValue":$[1]||($[1]=k=>l.value=k),rows:"3",placeholder:"说点什么...",class:"w-full p-3 border-0 focus:outline-none focus:ring-0"},null,512),[[ce,l.value]]),t("div",Yp,[t("button",{onClick:g,disabled:!l.value.trim()||d.value,class:"px-4 py-1 bg-pink-600 text-white rounded-full text-sm disabled:opacity-50"},[d.value?(p(),v("span",Xp,"发送中...")):(p(),v("span",ev,"发送"))],8,Qp)])]),r.value.commentList&&r.value.commentList.length>0?(p(),v("div",tv,[(p(!0),v(G,null,ee(r.value.commentList,k=>(p(),v("div",{key:k.id,class:"bg-white p-3 rounded-lg shadow-sm"},[t("div",sv,[t("div",ov,[t("img",{src:k.userAvatar||"/avatars/default-avatar.jpg",class:"w-full h-full object-cover",alt:"Avatar"},null,8,nv)]),t("div",rv,[t("div",iv,[t("div",lv,x(k.userName),1),t("div",av,x(new Date(k.date).toLocaleDateString()),1)]),t("div",dv,x(k.content),1),t("div",uv,[t("button",cv,[$[13]||($[13]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)),we(" "+x(k.likes||0),1)]),t("button",{onClick:L=>I(k.id),class:"ml-3 text-xs text-gray-500"}," 回复 ",8,fv)]),m.value===k.id?(p(),v("div",pv,[ue(t("textarea",{"onUpdate:modelValue":$[2]||($[2]=L=>u.value=L),rows:"2",placeholder:"回复...",class:"w-full p-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-1 focus:ring-pink-500"},null,512),[[ce,u.value]]),t("div",vv,[t("button",{onClick:$[3]||($[3]=L=>m.value=null),class:"mr-2 px-3 py-1 text-xs text-gray-600 border border-gray-300 rounded-full"}," 取消 "),t("button",{onClick:L=>y(k.id),disabled:!u.value.trim(),class:"px-3 py-1 bg-pink-600 text-white text-xs rounded-full disabled:opacity-50"}," 发送 ",8,mv)])])):D("",!0),k.replies&&k.replies.length>0?(p(),v("div",gv,[(p(!0),v(G,null,ee(k.replies,L=>(p(),v("div",{key:L.id,class:"bg-gray-50 p-2 rounded-lg"},[t("div",hv,[t("div",xv,[t("img",{src:L.userAvatar||"/avatars/default-avatar.jpg",class:"w-full h-full object-cover",alt:"Avatar"},null,8,yv)]),t("div",wv,[t("div",bv,[t("div",kv,x(L.userName),1),t("div",_v,x(new Date(L.date).toLocaleDateString()),1)]),t("div",$v,x(L.content),1)])])]))),128))])):D("",!0)])])]))),128))])):r.value.commentList&&r.value.commentList.length===0?(p(),v("div",Cv,$[14]||($[14]=[t("p",null,"暂无评论，来发表第一条评论吧！",-1)]))):D("",!0)])])):D("",!0)]))}},Iv={class:"min-h-screen bg-white pb-20"},Mv={class:"sticky top-0 z-10 bg-white border-b border-gray-200"},Sv={class:"px-4 py-2 flex justify-between items-center"},Av=["disabled"],Tv={key:0},Pv={key:1},Bv={class:"p-4"},Lv={key:0,class:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm"},Ev={class:"mb-4"},Dv={key:0,class:"mt-1 text-xs text-red-500"},Rv={class:"mb-4"},Ov={class:"flex flex-wrap gap-2"},zv=["onClick"],Hv={key:0,class:"mt-1 text-xs text-red-500"},Nv={class:"mb-4"},Uv={class:"mb-4"},Fv={key:0,class:"mt-1 text-xs text-red-500"},Vv={class:"mb-4"},qv={class:"flex items-center justify-between mb-2"},Zv={key:0,class:"relative mt-2"},Gv=["src"],Wv={key:1,class:"mt-6 flex items-center text-sm text-gray-600"},Kv={class:"w-8 h-8 rounded-full overflow-hidden"},Jv=["src"],Yv={class:"ml-2"},Qv={__name:"CreatePost",setup(e){const s=ve(),o=ms(),n=ge(),i=P(""),r=P(""),l=P(""),a=P(""),d=P(!1),m=P(null),u=P(null),f=P(""),h=U(()=>o.categories.map(S=>({id:S.name,name:S.name}))),w=U(()=>n.isLoggedIn),b=U(()=>n.currentUser),c=U(()=>i.value.trim().length>=5),g=U(()=>r.value.trim().length>=10),y=U(()=>l.value!==""),M=U(()=>c.value&&g.value&&y.value),E=async()=>{if(!(!M.value||d.value)){if(!w.value||!b.value){f.value="请先登录后再发布",s.push("/login");return}d.value=!0,f.value="";try{const S=a.value.trim()?a.value.split(",").map(k=>k.trim()).filter(k=>k.length>0):[],A={title:i.value,content:r.value,category:l.value,tags:S,authorId:b.value.id,authorName:b.value.username,authorAvatar:b.value.avatar||`/avatars/avatar${b.value.id%5+1}.jpg`,imageUrl:u.value},$=await o.createPost(A);s.push(`/forum/${$}`)}catch(S){console.error("Error creating post:",S),f.value="发布失败，请稍后再试"}finally{d.value=!1}}},I=S=>{const A=S.target.files[0];if(!A)return;if(A.size>5*1024*1024){f.value="图片大小不能超过 5MB",B();return}if(!A.type.startsWith("image/")){f.value="只能上传图片文件",B();return}m.value=A,f.value="";const $=new FileReader;$.onload=k=>{u.value=k.target.result},$.readAsDataURL(A)},B=()=>{m.value=null,u.value=null;const S=document.getElementById("image-upload");S&&(S.value="")};return me(()=>{w.value||s.push("/login")}),(S,A)=>(p(),v("div",Iv,[t("div",Mv,[t("div",Sv,[t("button",{onClick:A[0]||(A[0]=$=>de(s).go(-1)),class:"p-1"},A[4]||(A[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),A[5]||(A[5]=t("h1",{class:"text-lg font-bold"},"发布新帖子",-1)),t("button",{onClick:E,disabled:!M.value||d.value,class:"px-4 py-1 bg-pink-600 text-white rounded-full text-sm disabled:opacity-50"},[d.value?(p(),v("span",Tv,"发布中...")):(p(),v("span",Pv,"发布"))],8,Av)])]),t("div",Bv,[f.value?(p(),v("div",Lv,x(f.value),1)):D("",!0),t("div",Ev,[ue(t("input",{"onUpdate:modelValue":A[1]||(A[1]=$=>i.value=$),type:"text",placeholder:"标题 (5-50字)",maxlength:"50",class:Q(["w-full p-2 text-lg border-0 border-b border-gray-200 focus:outline-none focus:border-pink-500 focus:ring-0",{"border-red-500":i.value.trim()&&!c.value}])},null,2),[[ce,i.value]]),i.value.trim()&&!c.value?(p(),v("p",Dv," 标题至少需要5个字符 ")):D("",!0)]),t("div",Rv,[A[6]||(A[6]=t("div",{class:"text-sm text-gray-700 mb-2"},"选择分类:",-1)),t("div",Ov,[(p(!0),v(G,null,ee(h.value,$=>(p(),v("button",{key:$.id,onClick:k=>l.value=$.id,class:Q(["px-3 py-1 text-sm rounded-full",l.value===$.id?"bg-pink-600 text-white":"bg-gray-100 text-gray-700"])},x($.name),11,zv))),128))]),!y.value&&l.value!==""?(p(),v("p",Hv," 请选择一个分类 ")):D("",!0)]),t("div",Nv,[ue(t("input",{"onUpdate:modelValue":A[2]||(A[2]=$=>a.value=$),type:"text",placeholder:"标签 (可选，用英文逗号分隔，如: 动画,推荐,新番)",class:"w-full p-2 text-sm border border-gray-200 rounded-md focus:outline-none focus:border-pink-500 focus:ring-0"},null,512),[[ce,a.value]])]),t("div",Uv,[ue(t("textarea",{"onUpdate:modelValue":A[3]||(A[3]=$=>r.value=$),rows:"8",placeholder:"内容 (至少10个字符)",class:Q(["w-full p-2 border border-gray-200 rounded-md focus:outline-none focus:border-pink-500 focus:ring-0",{"border-red-500":r.value.trim()&&!g.value}])},null,2),[[ce,r.value]]),r.value.trim()&&!g.value?(p(),v("p",Fv," 内容至少需要10个字符 ")):D("",!0)]),t("div",Vv,[t("div",qv,[A[7]||(A[7]=t("div",{class:"text-sm text-gray-700"},"添加图片 (可选):",-1)),A[8]||(A[8]=t("label",{for:"image-upload",class:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm cursor-pointer hover:bg-gray-200"}," 选择图片 ",-1)),t("input",{id:"image-upload",type:"file",accept:"image/*",class:"hidden",onChange:I},null,32)]),u.value?(p(),v("div",Zv,[t("img",{src:u.value,class:"w-full rounded-lg max-h-64 object-contain",alt:"Preview"},null,8,Gv),t("button",{onClick:B,class:"absolute top-2 right-2 p-1 bg-black/50 rounded-full text-white"},A[9]||(A[9]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])):D("",!0)]),b.value?(p(),v("div",Wv,[t("div",Kv,[t("img",{src:b.value.avatar||`/avatars/avatar${b.value.id%5+1}.jpg`,class:"w-full h-full object-cover",alt:"Avatar"},null,8,Jv)]),t("div",Yv," 发布者: "+x(b.value.username),1)])):D("",!0)])]))}},Xv={class:"pb-20"},em={class:"bg-white shadow-sm p-4"},tm={class:"flex justify-between items-center"},sm={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center"},om={class:"mt-3 relative"},nm={class:"mt-2 px-4 overflow-x-auto"},rm={class:"flex space-x-2 py-2"},im=["onClick"],lm={class:"mt-2 px-4 border-b border-gray-200"},am={class:"flex justify-between items-center pb-2"},dm={class:"flex space-x-4"},um=["onClick"],cm={class:"text-sm text-gray-500"},fm={key:0,class:"p-8 flex justify-center"},pm={key:1,class:"p-8 text-center"},vm={key:2,class:"p-4 grid grid-cols-2 gap-3"},mm=["onClick"],gm={class:"w-full h-40 overflow-hidden"},hm=["src"],xm={class:"p-2"},ym={class:"font-medium text-gray-800 line-clamp-1 text-sm"},wm={class:"text-xs text-gray-500 line-clamp-2 mt-1"},bm={class:"flex items-center justify-between mt-2"},km={class:"text-pink-500 font-bold"},_m={class:"text-xs text-gray-500"},$m={__name:"Shop",setup(e){const s=ve(),o=Nt(),n=ge(),i=P(""),r=P("all"),l=P(!1),a=P("popular"),d=[{id:"all",name:"全部"},{id:"figure",name:"手办"},{id:"clothing",name:"服装"},{id:"accessory",name:"配饰"},{id:"poster",name:"海报"},{id:"plush",name:"毛绒玩具"},{id:"stationery",name:"文具"}],m=[{id:"popular",name:"热门"},{id:"newest",name:"最新"},{id:"priceAsc",name:"价格 ↑"},{id:"priceDesc",name:"价格 ↓"}];U(()=>n.isLoggedIn);const u=U(()=>o.cartCount),f=U(()=>{let g=[...o.products];if(r.value!=="all"&&(g=g.filter(y=>y.category===r.value)),i.value.trim()){const y=i.value.toLowerCase().trim();g=g.filter(M=>M.name.toLowerCase().includes(y)||M.description.toLowerCase().includes(y))}switch(a.value){case"popular":g.sort((y,M)=>M.sold-y.sold);break;case"newest":g.sort((y,M)=>new Date(M.createdAt)-new Date(y.createdAt));break;case"priceAsc":g.sort((y,M)=>y.price-M.price);break;case"priceDesc":g.sort((y,M)=>M.price-y.price);break}return g}),h=g=>{s.push(`/product/${g}`)},w=()=>{s.push("/cart")},b=g=>{r.value=g},c=g=>{a.value=g};return me(()=>{o.products.length===0&&(l.value=!0,setTimeout(()=>{o.loadProducts(),l.value=!1},500))}),(g,y)=>(p(),v("div",Xv,[t("div",em,[t("div",tm,[y[2]||(y[2]=t("h1",{class:"text-xl font-bold"},"二次元周边",-1)),t("button",{onClick:w,class:"relative"},[y[1]||(y[1]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1)),u.value>0?(p(),v("span",sm,x(u.value>9?"9+":u.value),1)):D("",!0)])]),t("div",om,[ue(t("input",{"onUpdate:modelValue":y[0]||(y[0]=M=>i.value=M),type:"text",placeholder:"搜索商品...",class:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-full bg-gray-50 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent"},null,512),[[ce,i.value]]),y[3]||(y[3]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),t("div",nm,[t("div",rm,[(p(),v(G,null,ee(d,M=>t("button",{key:M.id,onClick:E=>b(M.id),class:Q(["px-3 py-1 text-sm rounded-full whitespace-nowrap",r.value===M.id?"bg-pink-600 text-white":"bg-gray-100 text-gray-700"])},x(M.name),11,im)),64))])]),t("div",lm,[t("div",am,[t("div",dm,[(p(),v(G,null,ee(m,M=>t("button",{key:M.id,onClick:E=>c(M.id),class:Q(["text-sm font-medium",a.value===M.id?"text-pink-600":"text-gray-500"])},x(M.name),11,um)),64))]),t("div",cm,x(f.value.length)+" 个商品 ",1)])]),l.value?(p(),v("div",fm,y[4]||(y[4]=[Me('<div class="flex flex-col items-center" data-v-b50f895d><svg class="animate-spin h-8 w-8 text-pink-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" data-v-b50f895d><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" data-v-b50f895d></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" data-v-b50f895d></path></svg><p class="mt-2 text-gray-500" data-v-b50f895d>加载中...</p></div>',1)]))):f.value.length===0?(p(),v("div",pm,y[5]||(y[5]=[t("div",{class:"text-gray-500"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 mx-auto text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("p",{class:"mt-4"},"没有找到相关商品")],-1)]))):(p(),v("div",vm,[(p(!0),v(G,null,ee(f.value,M=>(p(),v("div",{key:M.id,onClick:E=>h(M.id),class:"bg-white rounded-lg shadow-sm overflow-hidden cursor-pointer"},[t("div",gm,[t("img",{src:M.images[0]||"/products/default-product.jpg",class:"w-full h-full object-cover",alt:"Product Image"},null,8,hm)]),t("div",xm,[t("h3",ym,x(M.name),1),t("p",wm,x(M.description),1),t("div",bm,[t("div",km,"¥"+x(M.price.toFixed(2)),1),t("div",_m,"已售 "+x(M.sold),1)])])],8,mm))),128))]))]))}},Cm=Ee($m,[["__scopeId","data-v-b50f895d"]]),jm={class:"min-h-screen bg-gray-50 pb-20"},Im={key:0,class:"h-screen flex justify-center pt-20"},Mm={key:1,class:"pb-24"},Sm={class:"sticky top-0 z-20 bg-white border-b border-gray-200"},Am={class:"px-4 py-2 flex items-center"},Tm={class:"ml-auto flex"},Pm={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center"},Bm={class:"relative bg-white"},Lm={class:"aspect-square relative overflow-hidden"},Em=["src"],Dm={key:0,class:"absolute top-2 left-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded"},Rm={class:"absolute bottom-2 left-0 right-0 flex justify-center gap-1"},Om=["onClick"],zm={key:0,class:"px-4 py-2 overflow-x-auto flex gap-2 scrollbar-hide"},Hm=["onClick"],Nm=["src"],Um={class:"px-4 py-3 bg-white mt-2"},Fm={class:"flex items-baseline"},Vm={class:"text-2xl text-pink-600 font-bold"},qm={key:0,class:"ml-2 text-sm text-gray-500 line-through"},Zm={class:"mt-2 text-xl font-bold text-gray-900"},Gm={class:"mt-2 flex items-center text-sm text-gray-500"},Wm={class:"flex items-center"},Km={class:"ml-1"},Jm={class:"text-pink-600"},Ym={key:0,class:"mt-2 flex flex-wrap gap-1"},Qm={class:"mt-2 px-4 py-3 bg-white"},Xm={class:"flex justify-between items-center"},eg={class:"flex items-center"},tg={class:"w-10 h-8 flex items-center justify-center border-t border-b border-gray-300 bg-gray-50"},sg={class:"mt-2 bg-white"},og={class:"border-b border-gray-200"},ng={class:"flex"},rg={class:"p-4"},ig={key:0,class:"text-gray-700 whitespace-pre-line"},lg={key:0,class:"mt-4 space-y-4"},ag=["src"],dg={key:1},ug={class:"text-sm"},cg={class:"w-1/3 text-gray-500"},fg={class:"w-2/3 text-gray-700"},pg={key:0,class:"py-2 text-gray-500 text-center"},vg={key:0,class:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 px-4 py-2 bg-black/70 text-white rounded-md z-50 flex items-center"},mg={class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-2 flex items-center z-10 h-[65px]"},gg={class:"flex items-center mr-3 space-x-4"},hg={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center"},xg={class:"flex-1 flex"},yg=["disabled"],wg={key:0},bg={key:1},kg={key:2},_g=["disabled"],$g={key:0},Cg={key:1},jg={key:2},Ig={key:2,class:"h-screen flex justify-center items-center"},Mg={class:"text-center"},Sg={__name:"ProductDetail",setup(e){const s=nt(),o=ve(),n=Nt(),i=ge();as("hideNavigation",!0);const r=P(null),l=P(0),a=P(1),d=P(!0),m=P(!1),u=P(!1),f=P("description"),h=U(()=>s.params.id),w=U(()=>i.isLoggedIn),b=U(()=>r.value?Math.min(r.value.stock,10):1),c=U(()=>r.value&&r.value.originalPrice>r.value.price?Math.round((1-r.value.price/r.value.originalPrice)*100):0),g=async()=>{d.value=!0;try{const $=localStorage.getItem("current_product");if($){const k=JSON.parse($);if(k.id.toString()===h.value.toString()){r.value={...k,rating:4.8,sold:Math.floor(Math.random()*200)+50,tags:["二次元","吧唧",k.description.split("，")[0]],images:[k.image,k.image],specifications:[{name:"品牌",value:"ACG萌物"},{name:"型号",value:k.id+"-BJ"},{name:"颜色",value:k.colors.join("、")},{name:"功能",value:k.features.join("、")},{name:"保修期",value:"12个月"}]},d.value=!1;return}}setTimeout(()=>{var L;const k=(L=n.getProductById)==null?void 0:L.call(n,h.value);k?r.value=k:o.push("/categories"),d.value=!1},500)}catch($){console.error("Error loading product:",$),d.value=!1}},y=()=>{a.value<b.value&&a.value++},M=()=>{a.value>1&&a.value--},E=()=>{r.value&&r.value.images.length>0&&(l.value=(l.value+1)%r.value.images.length)},I=()=>{r.value&&r.value.images.length>0&&(l.value=(l.value-1+r.value.images.length)%r.value.images.length)},B=$=>{l.value=$},S=async()=>{if(!w.value){o.push("/login");return}if(r.value){m.value=!0;try{await n.addToCart({productId:r.value.id,quantity:a.value}),u.value=!0,setTimeout(()=>{u.value=!1},2e3)}catch($){console.error("Error adding to cart:",$),alert($.message||"添加购物车失败，请稍后再试")}finally{m.value=!1}}},A=async()=>{if(!w.value){o.push("/login");return}if(r.value){m.value=!0;try{await n.addToCart({productId:r.value.id,quantity:a.value}),o.push("/cart")}catch($){console.error("Error buying now:",$),alert($.message||"购买失败，请稍后再试")}finally{m.value=!1}}};return pt(()=>r.value,()=>{a.value=1}),me(()=>{g()}),($,k)=>(p(),v("div",jm,[d.value?(p(),v("div",Im,k[8]||(k[8]=[Me('<div class="flex flex-col items-center" data-v-38c6613b><svg class="animate-spin h-8 w-8 text-pink-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" data-v-38c6613b><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" data-v-38c6613b></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" data-v-38c6613b></path></svg><p class="mt-2 text-gray-500" data-v-38c6613b>加载中...</p></div>',1)]))):r.value?(p(),v("div",Mm,[t("div",Sm,[t("div",Am,[t("button",{onClick:k[0]||(k[0]=L=>de(o).go(-1)),class:"mr-4 p-1"},k[9]||(k[9]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),k[11]||(k[11]=t("h1",{class:"text-lg font-bold truncate"},"商品详情",-1)),t("div",Tm,[t("button",{onClick:k[1]||(k[1]=L=>de(o).push("/cart")),class:"relative p-1"},[k[10]||(k[10]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),de(n).cartCount>0?(p(),v("span",Pm,x(de(n).cartCount>9?"9+":de(n).cartCount),1)):D("",!0)])])])]),t("div",Bm,[t("div",Lm,[t("div",{class:"w-full h-full flex transition-transform duration-500 ease-in-out",style:Te({transform:`translateX(-${l.value*100}%)`})},[(p(!0),v(G,null,ee(r.value.images,(L,j)=>(p(),v("div",{key:j,class:"w-full h-full flex-shrink-0 relative bg-white"},[t("img",{src:L||"/products/default-product.jpg",class:"w-full h-full object-contain",alt:"Product Image"},null,8,Em)]))),128))],4),c.value>0?(p(),v("div",Dm,x(c.value)+"% OFF ",1)):D("",!0),t("div",Rm,[(p(!0),v(G,null,ee(r.value.images,(L,j)=>(p(),v("button",{key:j,onClick:R=>B(j),class:Q(["w-2 h-2 rounded-full transition-all",l.value===j?"bg-pink-600 scale-125":"bg-gray-300"])},null,10,Om))),128))]),r.value.images.length>1?(p(),v("button",{key:1,onClick:I,class:"absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center rounded-full bg-black/30 text-white z-10"},k[12]||(k[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]))):D("",!0),r.value.images.length>1?(p(),v("button",{key:2,onClick:E,class:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center rounded-full bg-black/30 text-white z-10"},k[13]||(k[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))):D("",!0)]),r.value.images&&r.value.images.length>1?(p(),v("div",zm,[(p(!0),v(G,null,ee(r.value.images,(L,j)=>(p(),v("button",{key:j,onClick:R=>B(j),class:Q(["w-16 h-16 border rounded-md overflow-hidden flex-shrink-0 transition-all",l.value===j?"border-pink-600":"border-gray-200"])},[t("img",{src:L,class:"w-full h-full object-cover",alt:"Thumbnail"},null,8,Nm)],10,Hm))),128))])):D("",!0)]),t("div",Um,[t("div",Fm,[t("span",Vm,"¥"+x(r.value.price.toFixed(2)),1),r.value.originalPrice>r.value.price?(p(),v("span",qm,"¥"+x(r.value.originalPrice.toFixed(2)),1)):D("",!0)]),t("h1",Zm,x(r.value.name),1),t("div",Gm,[t("div",Wm,[k[14]||(k[14]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),t("span",Km,x(r.value.rating.toFixed(1)),1)]),k[15]||(k[15]=t("span",{class:"mx-2"},"•",-1)),t("span",null,x(r.value.sold)+"人已购买",1),k[16]||(k[16]=t("span",{class:"mx-2"},"•",-1)),t("span",Jm,x(r.value.stock>0?`库存${r.value.stock}件`:"已售罄"),1)]),r.value.tags&&r.value.tags.length>0?(p(),v("div",Ym,[(p(!0),v(G,null,ee(r.value.tags,L=>(p(),v("span",{key:L,class:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full"},x(L),1))),128))])):D("",!0)]),t("div",Qm,[t("div",Xm,[k[19]||(k[19]=t("span",{class:"text-gray-700"},"数量",-1)),t("div",eg,[t("button",{onClick:M,class:Q(["w-8 h-8 flex items-center justify-center border border-gray-300 rounded-l-md",{"opacity-50":a.value<=1}])},k[17]||(k[17]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),2),t("div",tg,x(a.value),1),t("button",{onClick:y,class:Q(["w-8 h-8 flex items-center justify-center border border-gray-300 rounded-r-md",{"opacity-50":a.value>=b.value}])},k[18]||(k[18]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]),2)])])]),t("div",sg,[t("div",og,[t("div",ng,[t("button",{onClick:k[2]||(k[2]=L=>f.value="description"),class:Q(["flex-1 py-3 text-center text-sm font-medium border-b-2 transition-colors",f.value==="description"?"border-pink-600 text-pink-600":"border-transparent text-gray-500"])}," 商品详情 ",2),t("button",{onClick:k[3]||(k[3]=L=>f.value="specifications"),class:Q(["flex-1 py-3 text-center text-sm font-medium border-b-2 transition-colors",f.value==="specifications"?"border-pink-600 text-pink-600":"border-transparent text-gray-500"])}," 规格参数 ",2)])]),t("div",rg,[f.value==="description"?(p(),v("div",ig,[t("p",null,x(r.value.description),1),r.value.descriptionImages&&r.value.descriptionImages.length>0?(p(),v("div",lg,[(p(!0),v(G,null,ee(r.value.descriptionImages,(L,j)=>(p(),v("img",{key:j,src:L,class:"w-full rounded-lg",alt:"Product Description"},null,8,ag))),128))])):D("",!0)])):D("",!0),f.value==="specifications"?(p(),v("div",dg,[t("dl",ug,[(p(!0),v(G,null,ee(r.value.specifications,(L,j)=>(p(),v("div",{key:j,class:"py-2 flex border-b border-gray-100 last:border-b-0"},[t("dt",cg,x(L.name),1),t("dd",fg,x(L.value),1)]))),128)),!r.value.specifications||r.value.specifications.length===0?(p(),v("div",pg," 暂无规格信息 ")):D("",!0)])])):D("",!0)])]),u.value?(p(),v("div",vg,k[20]||(k[20]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-green-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),we(" 已添加到购物车 ")]))):D("",!0),t("div",mg,[t("div",gg,[t("button",{onClick:k[4]||(k[4]=L=>de(o).push("/")),class:"flex flex-col items-center"},k[21]||(k[21]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),t("span",{class:"text-xs text-gray-600"},"首页",-1)])),t("button",{onClick:k[5]||(k[5]=L=>w.value?de(o).push("/categories"):de(o).push("/login")),class:"flex flex-col items-center"},k[22]||(k[22]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16m-7 6h7"})],-1),t("span",{class:"text-xs text-gray-600"},"分类",-1)])),t("button",{onClick:k[6]||(k[6]=L=>w.value?de(o).push("/cart"):de(o).push("/login")),class:"flex flex-col items-center relative"},[k[23]||(k[23]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),de(n).cartCount>0?(p(),v("span",hg,x(de(n).cartCount>9?"9+":de(n).cartCount),1)):D("",!0),k[24]||(k[24]=t("span",{class:"text-xs text-gray-600"},"购物车",-1))])]),t("div",xg,[t("button",{onClick:S,disabled:m.value||r.value.stock<=0,class:"flex-1 mr-2 py-2 bg-pink-100 text-pink-600 rounded-full font-medium text-sm disabled:opacity-50"},[m.value?(p(),v("span",wg,"添加中...")):r.value.stock<=0?(p(),v("span",bg,"已售罄")):(p(),v("span",kg,"加入购物车"))],8,yg),t("button",{onClick:A,disabled:m.value||r.value.stock<=0,class:"flex-1 py-2 bg-pink-600 text-white rounded-full font-medium text-sm disabled:opacity-50"},[m.value?(p(),v("span",$g,"处理中...")):r.value.stock<=0?(p(),v("span",Cg,"已售罄")):(p(),v("span",jg,"立即购买"))],8,_g)])])])):(p(),v("div",Ig,[t("div",Mg,[k[25]||(k[25]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 mx-auto text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),k[26]||(k[26]=t("p",{class:"mt-4 text-gray-500"},"商品不存在或已下架",-1)),t("button",{onClick:k[7]||(k[7]=L=>de(o).push("/shop")),class:"mt-4 px-4 py-2 bg-pink-600 text-white rounded-full text-sm"}," 返回商城 ")])]))]))}},Ag=Ee(Sg,[["__scopeId","data-v-38c6613b"]]),Tg=""+new URL("../products/default-product.jpg",import.meta.url).href,Pg={class:"min-h-screen bg-gray-50 pb-20"},Bg={class:"sticky top-0 z-10 bg-white border-b border-gray-200"},Lg={class:"px-4 py-2 flex justify-between items-center"},Eg={class:"flex items-center"},Dg={key:0,class:"p-8 flex justify-center"},Rg={key:1,class:"p-8 flex flex-col items-center justify-center"},Og={key:2,class:"pb-24"},zg={class:"bg-white"},Hg={class:"mr-3"},Ng=["onClick"],Ug={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 text-white",viewBox:"0 0 20 20",fill:"currentColor"},Fg={class:"w-20 h-20 rounded-md overflow-hidden border border-gray-100"},Vg=["src"],qg={class:"ml-3 flex-1"},Zg={class:"font-medium text-gray-800 text-sm line-clamp-1"},Gg={key:0,class:"mt-1 text-xs text-gray-500"},Wg={class:"mt-2 flex justify-between items-center"},Kg={class:"text-pink-600 font-bold"},Jg={key:0,class:"flex items-center"},Yg=["onClick"],Qg={class:"w-8 h-6 flex items-center justify-center border-t border-b border-gray-300 bg-gray-50 text-xs"},Xg=["onClick"],e2=["onClick"],t2={class:"mt-6 px-4"},s2={class:"mt-2 grid grid-cols-2 gap-3"},o2=["onClick"],n2={class:"p-2"},r2={class:"font-medium text-gray-800 line-clamp-1 text-xs"},i2={class:"mt-1 text-pink-500 font-bold text-sm"},l2={key:3,class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-2 flex items-center z-10 h-[65px]"},a2={class:"flex items-center"},d2={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 text-white",viewBox:"0 0 20 20",fill:"currentColor"},u2={key:0,class:"flex-1 flex items-center justify-end"},c2={class:"mr-3"},f2={class:"text-sm"},p2={class:"text-pink-600 font-bold"},v2={class:"text-xs text-gray-500"},m2=["disabled"],g2={key:0},h2={key:1},x2={key:1,class:"flex-1 flex items-center justify-end"},y2=["disabled"],w2={key:0},b2={key:1},k2={__name:"ShoppingCart",setup(e){const s=ve(),o=Nt(),n=ge(),i=P(!0),r=P(!1),l=P([]),a=P(!1),d=U(()=>o.cartItems),m=U(()=>n.isLoggedIn),u=U(()=>d.value.length===0),f=U(()=>l.value.reduce((A,$)=>{const k=d.value.find(L=>L.id===$);return k?A+k.price*k.quantity:A},0)),h=U(()=>l.value.length===d.value.length&&d.value.length>0),w=U(()=>l.value.length),b=()=>{h.value?l.value=[]:l.value=d.value.map(A=>A.id)},c=A=>{const $=l.value.indexOf(A);$===-1?l.value.push(A):l.value.splice($,1)},g=A=>l.value.includes(A),y=A=>{A.quantity<Math.min(A.stock,10)&&o.updateCartItemQuantity({id:A.id,quantity:A.quantity+1})},M=A=>{A.quantity>1&&o.updateCartItemQuantity({id:A.id,quantity:A.quantity-1})},E=A=>{const $=l.value.indexOf(A);$!==-1&&l.value.splice($,1),o.removeFromCart(A)},I=()=>{a.value=!a.value,a.value||(l.value=[])},B=async()=>{if(l.value.length!==0){r.value=!0;try{await o.checkout(l.value)&&(l.value=[],s.push("/profile?tab=orders"))}catch(A){console.error("Error during checkout:",A)}finally{r.value=!1}}},S=async()=>{if(l.value.length!==0){r.value=!0;try{for(const A of l.value)o.removeFromCart(A);l.value=[],a.value=!1}catch(A){console.error("Error removing items:",A)}finally{r.value=!1}}};return me(async()=>{if(!m.value){s.push("/login");return}i.value=!0;try{await o.loadCartItems()}catch(A){console.error("Error loading cart:",A)}finally{i.value=!1}}),(A,$)=>(p(),v("div",Pg,[t("div",Bg,[t("div",Lg,[t("div",Eg,[t("button",{onClick:$[0]||($[0]=k=>de(s).go(-1)),class:"mr-4 p-1"},$[2]||($[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),$[3]||($[3]=t("h1",{class:"text-lg font-bold"},"购物车",-1))]),u.value?D("",!0):(p(),v("button",{key:0,onClick:I,class:"text-sm text-pink-600"},x(a.value?"完成":"编辑"),1))])]),i.value?(p(),v("div",Dg,$[4]||($[4]=[Me('<div class="flex flex-col items-center" data-v-87966591><svg class="animate-spin h-8 w-8 text-pink-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" data-v-87966591><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" data-v-87966591></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" data-v-87966591></path></svg><p class="mt-2 text-gray-500" data-v-87966591>加载中...</p></div>',1)]))):u.value?(p(),v("div",Rg,[$[5]||($[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),$[6]||($[6]=t("p",{class:"mt-4 text-gray-500"},"购物车还是空的",-1)),t("button",{onClick:$[1]||($[1]=k=>de(s).push("/shop")),class:"mt-4 px-6 py-2 bg-pink-600 text-white rounded-full"}," 去购物 ")])):(p(),v("div",Og,[t("div",zg,[(p(!0),v(G,null,ee(d.value,k=>(p(),v("div",{key:k.id,class:"p-4 border-b border-gray-100 flex items-center"},[t("div",Hg,[t("button",{onClick:L=>c(k.id),class:Q(["w-5 h-5 rounded-full border flex items-center justify-center",g(k.id)?"bg-pink-600 border-pink-600":"border-gray-300"])},[g(k.id)?(p(),v("svg",Ug,$[7]||($[7]=[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):D("",!0)],10,Ng)]),t("div",Fg,[t("img",{src:k.image||"/products/default-product.jpg",class:"w-full h-full object-cover",alt:"Product Image"},null,8,Vg)]),t("div",qg,[t("h3",Zg,x(k.name),1),k.options?(p(),v("div",Gg,x(Object.values(k.options).join(" / ")),1)):D("",!0),t("div",Wg,[t("div",Kg,"¥"+x(k.price.toFixed(2)),1),a.value?(p(),v("button",{key:1,onClick:L=>E(k.id),class:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs"}," 删除 ",8,e2)):(p(),v("div",Jg,[t("button",{onClick:L=>M(k),class:Q(["w-6 h-6 flex items-center justify-center border border-gray-300 rounded-l-md",{"opacity-50":k.quantity<=1}])},$[8]||($[8]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),10,Yg),t("div",Qg,x(k.quantity),1),t("button",{onClick:L=>y(k),class:Q(["w-6 h-6 flex items-center justify-center border border-gray-300 rounded-r-md",{"opacity-50":k.quantity>=Math.min(k.stock,10)}])},$[9]||($[9]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]),10,Xg)]))])])]))),128))]),t("div",t2,[$[11]||($[11]=t("h2",{class:"text-lg font-bold"},"猜你喜欢",-1)),t("div",s2,[(p(),v(G,null,ee(4,k=>t("div",{key:k,onClick:L=>de(s).push(`/product/${k}`),class:"bg-white rounded-lg shadow-sm overflow-hidden cursor-pointer"},[$[10]||($[10]=t("div",{class:"w-full h-28 overflow-hidden"},[t("img",{src:Tg,class:"w-full h-full object-cover",alt:"Product Image"})],-1)),t("div",n2,[t("h3",r2,"推荐商品 "+x(k),1),t("div",i2,"¥"+x((Math.random()*100+50).toFixed(2)),1)])],8,o2)),64))])])])),!u.value&&!i.value?(p(),v("div",l2,[t("div",a2,[t("button",{onClick:b,class:Q(["w-5 h-5 rounded-full border flex items-center justify-center mr-2",h.value?"bg-pink-600 border-pink-600":"border-gray-300"])},[h.value?(p(),v("svg",d2,$[12]||($[12]=[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):D("",!0)],2),$[13]||($[13]=t("span",{class:"text-sm"},"全选",-1))]),a.value?(p(),v("div",x2,[t("button",{onClick:S,disabled:l.value.length===0||r.value,class:"px-6 py-2 bg-pink-600 text-white rounded-full text-sm disabled:opacity-50"},[r.value?(p(),v("span",w2,"处理中...")):(p(),v("span",b2,"删除("+x(w.value)+")",1))],8,y2)])):(p(),v("div",u2,[t("div",c2,[t("div",f2,[$[14]||($[14]=we(" 合计: ")),t("span",p2,"¥"+x(f.value.toFixed(2)),1)]),t("div",v2," 已选 "+x(w.value)+" 件 ",1)]),t("button",{onClick:B,disabled:l.value.length===0||r.value,class:"px-6 py-2 bg-pink-600 text-white rounded-full text-sm disabled:opacity-50"},[r.value?(p(),v("span",g2,"处理中...")):(p(),v("span",h2,"结算"))],8,m2)]))])):D("",!0)]))}},_2=Ee(k2,[["__scopeId","data-v-87966591"]]),$2={class:"min-h-screen bg-white pb-20"},C2={class:"sticky top-0 z-10 bg-white border-b border-gray-200"},j2={class:"px-4 py-2 flex items-center"},I2={class:"h-1 bg-gray-200"},M2={key:0,class:"h-screen flex justify-center pt-20"},S2={key:1,class:"p-4 text-center"},A2={class:"py-6"},T2={class:"mt-6 text-sm text-gray-500"},P2={key:2,class:"p-4"},B2={class:"py-4"},L2={class:"text-xl font-bold text-gray-900"},E2={class:"mt-6 space-y-4"},D2=["onClick"],R2={class:"flex items-center"},O2={key:0,class:"w-3 h-3 bg-pink-600 rounded-full"},z2={class:"mt-8 flex justify-between"},H2={key:1,class:"w-24"},N2=["disabled"],U2=["disabled"],F2={key:0},V2={key:1},q2={__name:"PersonalityTest",setup(e){const s=ve(),o=jn(),n=ge(),i=P(!0),r=P(0),l=P({}),a=P(!1),d=U(()=>o.testData),m=U(()=>d.value?d.value.questions:[]);U(()=>n.isLoggedIn);const u=U(()=>m.value&&m.value.length>r.value?m.value[r.value]:null),f=U(()=>!m.value||m.value.length===0?0:r.value/m.value.length*100),h=U(()=>r.value===m.value.length-1),w=U(()=>{const E=u.value?u.value.id:null;return E!==null&&l.value[E]!==void 0}),b=(E,I)=>{l.value[E]=I},c=(E,I)=>l.value[E]===I,g=()=>{r.value>0&&r.value--},y=()=>{w.value&&r.value<m.value.length-1&&r.value++},M=async()=>{if(!(!w.value||a.value)){a.value=!0;try{const E=Object.entries(l.value).map(([B,S])=>({questionId:B,answerId:S})),I=await o.submitTest(E);s.push(`/personality-result/${I}`)}catch(E){console.error("Error submitting test:",E)}finally{a.value=!1}}};return me(async()=>{i.value=!0;try{await o.loadTestData()}catch(E){console.error("Error loading test data:",E)}finally{i.value=!1}}),(E,I)=>(p(),v("div",$2,[t("div",C2,[t("div",j2,[t("button",{onClick:I[0]||(I[0]=B=>de(s).go(-1)),class:"mr-4 p-1"},I[2]||(I[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),I[3]||(I[3]=t("h1",{class:"text-lg font-bold"},"二次元人格测试",-1))]),t("div",I2,[t("div",{class:"h-full bg-pink-600 transition-all duration-300",style:Te({width:`${f.value}%`})},null,4)])]),i.value?(p(),v("div",M2,I[4]||(I[4]=[Me('<div class="flex flex-col items-center"><svg class="animate-spin h-8 w-8 text-pink-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="mt-2 text-gray-500">加载中...</p></div>',1)]))):r.value===0&&Object.keys(l.value).length===0?(p(),v("div",S2,[t("div",A2,[I[5]||(I[5]=Me('<h1 class="text-2xl font-bold text-pink-600">二次元人格测试</h1><p class="mt-4 text-gray-600"> 通过回答一系列问题，发现你的二次元人格类型！ 了解你最像哪位动漫角色，以及你的性格特点。 </p><div class="mt-6 w-32 h-32 mx-auto rounded-full bg-pink-100 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-pink-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div>',3)),t("p",T2," 共 "+x(m.value.length)+" 个问题，大约需要 5 分钟完成 ",1),t("button",{onClick:I[1]||(I[1]=B=>l.value.start=!0),class:"mt-8 px-8 py-3 bg-pink-600 text-white rounded-full"}," 开始测试 ")])])):u.value?(p(),v("div",P2,[t("div",B2,[t("h2",L2,x(r.value+1)+". "+x(u.value.text),1),t("div",E2,[(p(!0),v(G,null,ee(u.value.answers,B=>(p(),v("button",{key:B.id,onClick:S=>b(u.value.id,B.id),class:Q(["w-full py-3 px-4 border rounded-lg text-left text-gray-700",c(u.value.id,B.id)?"border-pink-600 bg-pink-50":"border-gray-200"])},[t("div",R2,[t("div",{class:Q(["w-5 h-5 rounded-full border flex-shrink-0 flex items-center justify-center mr-3",c(u.value.id,B.id)?"border-pink-600":"border-gray-300"])},[c(u.value.id,B.id)?(p(),v("div",O2)):D("",!0)],2),t("span",null,x(B.text),1)])],10,D2))),128))]),t("div",z2,[r.value>0?(p(),v("button",{key:0,onClick:g,class:"px-6 py-2 border border-gray-300 rounded-full text-gray-700"}," 上一题 ")):(p(),v("div",H2)),h.value?(p(),v("button",{key:3,onClick:M,disabled:!w.value||a.value,class:"px-6 py-2 bg-pink-600 text-white rounded-full disabled:opacity-50"},[a.value?(p(),v("span",F2,"提交中...")):(p(),v("span",V2,"查看结果"))],8,U2)):(p(),v("button",{key:2,onClick:y,disabled:!w.value,class:"px-6 py-2 bg-pink-600 text-white rounded-full disabled:opacity-50"}," 下一题 ",8,N2))])])])):D("",!0)]))}},Z2={class:"min-h-screen bg-white pb-20"},G2={class:"sticky top-0 z-10 bg-white border-b border-gray-200"},W2={class:"px-4 py-2 flex items-center"},K2={key:0,class:"h-screen flex justify-center pt-20"},J2={key:1,class:"p-4"},Y2={class:"w-full aspect-square bg-gray-100 flex items-center justify-center overflow-hidden rounded-lg"},Q2=["src"],X2={class:"mt-4 text-center"},eh={class:"text-2xl font-bold text-gray-900"},th={class:"mt-1 text-sm font-medium text-pink-600"},sh={class:"mt-1 text-md font-bold"},oh={class:"mt-6 p-4 bg-pink-50 rounded-lg"},nh={class:"mt-2 text-gray-700 whitespace-pre-line"},rh={class:"mt-6"},ih={class:"mt-2 space-y-3"},lh={class:"flex justify-between items-center"},ah={class:"font-medium text-gray-800"},dh={class:"text-sm text-gray-500"},uh={class:"mt-2 w-full h-2 bg-gray-200 rounded-full overflow-hidden"},ch={key:0,class:"mt-6"},fh={class:"mt-2 flex gap-2 overflow-x-auto pb-2"},ph={class:"text-center text-sm font-medium text-gray-800"},vh={class:"mt-6"},mh={class:"mt-2 grid grid-cols-2 gap-3"},gh={class:"aspect-square overflow-hidden"},hh=["src"],xh={class:"p-2 text-center"},yh={class:"font-medium text-gray-800 text-sm"},wh={class:"text-xs text-gray-500"},bh={class:"mt-1 text-xs text-pink-600"},kh={key:2,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},_h={class:"bg-white rounded-lg w-4/5 max-w-md p-4"},$h={class:"mt-4"},Ch={class:"flex"},jh=["value"],Ih={__name:"PersonalityResult",setup(e){const s=nt(),o=ve(),n=jn(),i=ge(),r=P(!0),l=P(!1),a=U(()=>s.params.id),d=U(()=>n.currentResult),m=U(()=>i.isLoggedIn),u=U(()=>d.value?`${window.location.origin}/personality-result/${d.value.id}`:""),f=async()=>{r.value=!0;try{await n.loadResult(a.value)}catch(c){console.error("Error loading result:",c),o.push("/personality-test")}finally{r.value=!1}},h=()=>{o.push("/personality-test")},w=()=>{l.value=!l.value},b=async()=>{if(!m.value){o.push("/login");return}try{n.saveResult(1),alert("测试结果已保存！")}catch(c){console.error("Error saving result:",c)}};return me(()=>{f()}),(c,g)=>(p(),v("div",Z2,[t("div",G2,[t("div",W2,[t("button",{onClick:g[0]||(g[0]=y=>de(o).push("/")),class:"mr-4 p-1"},g[4]||(g[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),g[5]||(g[5]=t("h1",{class:"text-lg font-bold"},"测试结果",-1))])]),r.value?(p(),v("div",K2,g[6]||(g[6]=[Me('<div class="flex flex-col items-center"><svg class="animate-spin h-8 w-8 text-pink-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="mt-2 text-gray-500">加载中...</p></div>',1)]))):d.value?(p(),v("div",J2,[t("div",Y2,[t("img",{src:d.value.characterImage||"/personality/default-character.jpg",class:"w-full h-full object-cover",onError:g[1]||(g[1]=y=>y.target.src="/personality/default-character.jpg"),alt:"Character Image"},null,40,Q2)]),t("div",X2,[t("h2",eh,"你是: "+x(d.value.characterName),1),t("div",th,x(d.value.animeTitle),1),t("div",sh,"人格类型: "+x(d.value.type),1)]),t("div",oh,[g[7]||(g[7]=t("h3",{class:"font-bold text-gray-900"},"性格特点",-1)),t("p",nh,x(d.value.description),1)]),t("div",rh,[g[8]||(g[8]=t("h3",{class:"font-bold text-gray-900"},"性格分析",-1)),t("div",ih,[(p(!0),v(G,null,ee(d.value.personalityTraits,(y,M)=>(p(),v("div",{key:M,class:"bg-white border border-gray-200 rounded-lg p-3"},[t("div",lh,[t("div",ah,x(y.name),1),t("div",dh,x(y.percentage)+"%",1)]),t("div",uh,[t("div",{class:"h-full bg-pink-600 rounded-full",style:Te({width:`${y.percentage}%`})},null,4)])]))),128))])]),d.value.recommendedAnime&&d.value.recommendedAnime.length?(p(),v("div",ch,[g[9]||(g[9]=t("h3",{class:"font-bold text-gray-900"},"推荐动漫",-1)),t("div",fh,[(p(!0),v(G,null,ee(d.value.recommendedAnime,(y,M)=>(p(),v("div",{key:M,class:"flex-shrink-0 bg-white border border-gray-200 rounded-lg p-2 w-32"},[t("div",ph,x(y),1)]))),128))])])):D("",!0),t("div",vh,[g[10]||(g[10]=t("h3",{class:"font-bold text-gray-900"},"相似角色",-1)),t("div",mh,[(p(!0),v(G,null,ee(d.value.similarCharacters,(y,M)=>(p(),v("div",{key:M,class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},[t("div",gh,[t("img",{src:y.image||"/personality/default-character.jpg",onError:g[2]||(g[2]=E=>E.target.src="/personality/default-character.jpg"),class:"w-full h-full object-cover",alt:"Character Image"},null,40,hh)]),t("div",xh,[t("div",yh,x(y.name),1),t("div",wh,x(y.anime),1),t("div",bh,"相似度: "+x(y.similarity)+"%",1)])]))),128))])]),t("div",{class:"mt-8 space-y-3"},[t("button",{onClick:h,class:"w-full py-3 bg-pink-600 text-white rounded-full font-medium"}," 重新测试 "),t("div",{class:"flex space-x-3"},[t("button",{onClick:b,class:"flex-1 py-3 bg-white border border-pink-600 text-pink-600 rounded-full font-medium"}," 保存结果 "),t("button",{onClick:w,class:"flex-1 py-3 bg-white border border-gray-300 text-gray-700 rounded-full font-medium"}," 分享 ")])])])):D("",!0),l.value?(p(),v("div",kh,[t("div",_h,[t("div",{class:"flex justify-between items-center"},[g[12]||(g[12]=t("h3",{class:"font-bold text-lg"},"分享结果",-1)),t("button",{onClick:w,class:"p-1"},g[11]||(g[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",$h,[g[13]||(g[13]=t("div",{class:"text-sm text-gray-700 mb-2"},"分享链接:",-1)),t("div",Ch,[t("input",{type:"text",value:u.value,readonly:"",class:"flex-1 p-2 border border-gray-300 rounded-l-md bg-gray-50 text-sm"},null,8,jh),t("button",{class:"px-3 py-2 bg-pink-600 text-white rounded-r-md",onClick:g[3]||(g[3]=y=>c.navigator.clipboard.writeText(u.value))}," 复制 ")])]),g[14]||(g[14]=Me('<div class="mt-4 grid grid-cols-4 gap-2"><button class="p-2 bg-blue-500 text-white rounded-md flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></button><button class="p-2 bg-blue-400 text-white rounded-md flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723 10.028 10.028 0 01-3.127 1.195 4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg></button><button class="p-2 bg-green-500 text-white rounded-md flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.587-3.849-1.587-5.946.001-6.592 5.367-11.958 11.958-11.958 3.199 0 6.2 1.248 8.458 3.506 2.258 2.258 3.506 5.259 3.506 8.458 0 6.592-5.366 11.958-11.958 11.958-2.025 0-4.012-.519-5.76-1.503L.057 24zm11.888-19.12c-5.427 0-9.841 4.414-9.841 9.841 0 2.159.71 4.19 1.937 5.857l-1.27 4.632 4.745-1.249c1.603 1.047 3.494 1.6 5.428 1.6 5.427 0 9.841-4.414 9.841-9.841 0-2.631-1.025-5.108-2.884-6.967s-4.337-2.883-6.968-2.883z"></path></svg></button><button class="p-2 bg-red-500 text-white rounded-md flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm4.441 16.892c-2.102.144-6.784.144-8.883 0C5.282 16.735 5.017 15.8 5 12c.017-3.801.282-4.736 2.558-4.892 2.099-.144 6.782-.144 8.883 0C18.718 7.265 18.982 8.2 19 12c-.018 3.801-.283 4.736-2.559 4.892zm-6.53-7.124l4.917 2.699-4.917 2.7V9.768z"></path></svg></button></div>',1)),t("button",{onClick:w,class:"mt-4 w-full py-2 bg-gray-100 text-gray-700 rounded-md"}," 取消 ")])])):D("",!0)]))}},Mh=[{id:1,name:"二次元艺术教育计划",description:"通过动漫和二次元文化推广艺术教育，为贫困地区儿童提供绘画课程和艺术用品，帮助他们发现艺术才能，开拓视野。",goal:5e4,raised:32415,donors:256,daysLeft:23,images:["/charity/art-education.jpg"],organizer:"动漫艺术协会",tags:["教育","艺术","儿童"]},{id:2,name:"动漫角色医院探访",description:"组织Cosplay爱好者打扮成知名动漫角色，定期探访儿童医院，为生病的孩子带去欢乐和鼓励，同时为医院捐赠医疗设备。",goal:3e4,raised:24680,donors:189,daysLeft:15,images:["/charity/hospital-visit.jpg"],organizer:"Cosplay公益团",tags:["医疗","儿童","探访"]},{id:3,name:"二次元文化保护基金",description:"致力于保护和数字化珍贵的动漫历史资料，包括早期手稿、老旧动画胶片和相关文献，为后代保存这些宝贵的文化遗产。",goal:1e5,raised:68750,donors:412,daysLeft:45,images:["/charity/preservation.jpg"],organizer:"动漫文化保护协会",tags:["文化","保护","历史"]},{id:4,name:"漫画家创作支持计划",description:"为有潜力但经济条件有限的年轻漫画家提供创作经费、专业指导和出版机会，帮助他们实现创作梦想。",goal:8e4,raised:35280,donors:321,daysLeft:60,images:["/charity/manga-support.jpg"],organizer:"新星漫画基金会",tags:["创作","支持","青年"]},{id:5,name:"动漫治疗计划",description:"利用动漫和互动游戏帮助有心理障碍的青少年表达情感和建立社交能力，通过二次元文化创造安全的表达空间。",goal:6e4,raised:42390,donors:275,daysLeft:30,images:["/charity/therapy.jpg"],organizer:"心灵动漫协会",tags:["心理健康","青少年","治疗"]},{id:6,name:"灾区动漫书库建设",description:"为自然灾害地区的学校重建图书馆，并捐赠动漫书籍和相关教育资源，帮助孩子们恢复正常学习生活。",goal:4e4,raised:28760,donors:196,daysLeft:20,images:["/charity/library.jpg"],organizer:"动漫阅读联盟",tags:["灾区","教育","阅读"]}],Sh=[{id:1,userId:1,projectId:2,amount:500,date:"2025-04-25T14:32:18Z",message:"希望能给孩子们带来更多笑容！"},{id:2,userId:1,projectId:5,amount:300,date:"2025-03-12T09:45:22Z",message:"支持这个有意义的项目"},{id:3,userId:3,projectId:1,amount:1e3,date:"2025-04-18T16:20:45Z",message:"艺术教育很重要，希望更多孩子能受益"},{id:4,userId:4,projectId:3,amount:2e3,date:"2025-04-05T11:15:30Z",message:"保存动漫文化历史是非常有意义的事业"}],Ah=Qt("charity",{state:()=>({projects:[],donations:Sh,selectedTag:null,searchQuery:"",sortBy:"popularity"}),getters:{getProjectById:e=>s=>e.projects.find(o=>o.id===parseInt(s)),getDonationsByUserId:e=>s=>e.donations.filter(o=>o.userId===s),getDonationsByProjectId:e=>s=>e.donations.filter(o=>o.projectId===parseInt(s)),filteredProjects:e=>{let s=[...e.projects];if(e.selectedTag&&(s=s.filter(o=>o.tags.includes(e.selectedTag))),e.searchQuery){const o=e.searchQuery.toLowerCase();s=s.filter(n=>n.name.toLowerCase().includes(o)||n.description.toLowerCase().includes(o)||n.organizer.toLowerCase().includes(o)||n.tags.some(i=>i.toLowerCase().includes(o)))}switch(e.sortBy){case"popularity":s.sort((o,n)=>n.donors-o.donors);break;case"mostFunded":s.sort((o,n)=>n.raised/n.goal-o.raised/o.goal);break;case"mostRecent":s.sort((o,n)=>o.id-n.id);break;case"endingSoon":s.sort((o,n)=>o.daysLeft-n.daysLeft);break}return s},getAllTags:e=>{const s=new Set;return e.projects.forEach(o=>{o.tags.forEach(n=>s.add(n))}),Array.from(s)},totalDonationsAmount:e=>e.donations.reduce((s,o)=>s+o.amount,0),totalProjectsCount:e=>e.projects.length},actions:{loadProjects(){return this.projects=Mh.map(e=>({id:e.id,title:e.name,description:e.description,currentAmount:e.raised,goalAmount:e.goal,organization:e.organizer,donors:e.donors,daysLeft:e.daysLeft,coverImage:e.images&&e.images.length>0?e.images[0]:null,tags:e.tags,recentDonations:this.getDonationsByProjectId(e.id).slice(0,5).map(s=>({userId:s.userId,userName:`用户${s.userId}`,amount:s.amount,message:s.message,userAvatar:`/avatars/avatar${s.userId%5+1}.jpg`}))})),Promise.resolve(this.projects)},setSelectedTag(e){this.selectedTag=e},setSearchQuery(e){this.searchQuery=e},setSortBy(e){this.sortBy=e},donate(e){const{projectId:s,amount:o,message:n,userId:i,userName:r}=e,l=Math.max(...this.donations.map(m=>m.id),0)+1,a={id:l,userId:i,projectId:s,amount:o,message:n,date:new Date().toISOString()};this.donations.push(a);const d=this.projects.findIndex(m=>m.id===s);return d!==-1&&(this.projects[d].currentAmount+=o,this.projects[d].donors+=1,this.projects[d].recentDonations||(this.projects[d].recentDonations=[]),this.projects[d].recentDonations.unshift({userId:i,userName:r,amount:o,message:n,userAvatar:`/avatars/avatar${i%5+1}.jpg`})),Promise.resolve(l)}}}),Th={class:"min-h-screen bg-gray-50 pb-20"},Ph={class:"sticky top-0 z-10 bg-white border-b border-gray-200"},Bh={class:"px-4 py-2 flex items-center"},Lh={key:0,class:"p-8 flex justify-center"},Eh={key:1,class:"bg-white"},Dh={key:0,class:"mb-4"},Rh={class:"aspect-video relative overflow-hidden"},Oh=["src"],zh={class:"absolute bottom-0 left-0 p-4 text-white"},Hh={class:"text-2xl font-bold"},Nh={class:"mt-1"},Uh={class:"px-4 py-3 border-b border-gray-100"},Fh={class:"flex justify-between text-sm mb-1"},Vh={class:"font-medium"},qh={class:"text-gray-500"},Zh={class:"w-full h-2 bg-gray-200 rounded-full overflow-hidden"},Gh={class:"flex justify-between text-xs text-gray-500 mt-1"},Wh={class:"px-4 py-3 border-b border-gray-100"},Kh={class:"mt-2 text-gray-700 whitespace-pre-line"},Jh={class:"px-4 py-3"},Yh={key:0,class:"space-y-3"},Qh={class:"w-10 h-10 rounded-full overflow-hidden bg-gray-200"},Xh=["src"],ex={class:"ml-3 flex-1"},tx={class:"flex justify-between"},sx={class:"font-medium"},ox={class:"text-pink-600 font-bold"},nx={class:"text-sm text-gray-500 mt-1"},rx={key:0},ix={key:1},lx={key:1,class:"py-4 text-center text-gray-500"},ax={class:"px-4 py-3 border-t border-gray-100 sticky bottom-0 bg-white"},dx={class:"px-4 py-3"},ux={class:"space-y-4"},cx=["onClick"],fx={class:"h-32 relative overflow-hidden"},px=["src"],vx={class:"absolute bottom-0 left-0 p-2 text-white"},mx={class:"font-bold"},gx={class:"text-xs"},hx={class:"p-3"},xx={class:"flex justify-between text-xs mb-1"},yx={class:"font-medium"},wx={class:"text-gray-500"},bx={class:"w-full h-2 bg-gray-200 rounded-full overflow-hidden"},kx={class:"mt-2 flex justify-between items-center"},_x={class:"text-xs text-gray-500"},$x=["onClick"],Cx={key:2,class:"p-8 text-center"},jx={key:3,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},Ix={class:"bg-white rounded-lg w-4/5 max-w-md p-4 max-h-[90vh] overflow-y-auto"},Mx={class:"mt-4"},Sx={class:"text-center py-2"},Ax={class:"text-lg font-medium"},Tx={class:"text-sm text-gray-500"},Px={class:"mt-4"},Bx={class:"grid grid-cols-3 gap-2"},Lx=["onClick"],Ex={key:0,class:"mt-3"},Dx={class:"flex items-center border border-gray-300 rounded-md overflow-hidden"},Rx={class:"mt-4"},Ox=["disabled"],zx={key:0},Hx={key:1},Nx={key:4,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},Ux={__name:"Charity",setup(e){const s=ve(),o=Ah(),n=ge(),i=P(!0),r=P(null),l=P(50),a=P(""),d=P(""),m=P(!1),u=P(!1),f=P(!1),h=U(()=>o.projects),w=U(()=>n.isLoggedIn),b=U(()=>n.currentUser),c=U(()=>r.value?h.value.find(L=>L.id===r.value):null),g=[{value:10,label:"¥10"},{value:20,label:"¥20"},{value:50,label:"¥50"},{value:100,label:"¥100"},{value:"custom",label:"自定义"}],y=U(()=>c.value?c.value.currentAmount:0),M=U(()=>c.value?Math.min(100,y.value/c.value.goalAmount*100):0),E=L=>{r.value=L,s.push(`/charity?project=${L}`)},I=L=>Math.min(100,L.currentAmount/L.goalAmount*100),B=L=>{L==="custom"?l.value=null:(l.value=L,a.value="")},S=L=>{if(!w.value){s.push("/login");return}r.value=L,m.value=!0},A=()=>{m.value=!1},$=()=>{m.value=!1,f.value=!0,setTimeout(()=>{f.value=!1},3e3)},k=async()=>{if(!c.value)return;const L=l.value!==null?l.value:parseFloat(a.value)||0;if(!(L<=0)){u.value=!0;try{await o.donate({projectId:c.value.id,amount:L,message:d.value,userId:b.value.id,userName:b.value.nickname||b.value.username}),l.value=50,a.value="",d.value="",$()}catch(j){console.error("Error making donation:",j)}finally{u.value=!1}}};return me(async()=>{i.value=!0;try{await o.loadProjects();const j=new URLSearchParams(window.location.search).get("project");j&&h.value.some(R=>R.id===j)?r.value=j:h.value.length>0&&(r.value=h.value[0].id)}catch(L){console.error("Error loading charity projects:",L)}finally{i.value=!1}}),(L,j)=>(p(),v("div",Th,[t("div",Ph,[t("div",Bh,[t("button",{onClick:j[0]||(j[0]=R=>de(s).go(-1)),class:"mr-4 p-1"},j[4]||(j[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),j[5]||(j[5]=t("h1",{class:"text-lg font-bold"},"二次元公益",-1))])]),i.value?(p(),v("div",Lh,j[6]||(j[6]=[Me('<div class="flex flex-col items-center"><svg class="animate-spin h-8 w-8 text-pink-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="mt-2 text-gray-500">加载中...</p></div>',1)]))):h.value.length>0?(p(),v("div",Eh,[c.value?(p(),v("div",Dh,[t("div",Rh,[t("img",{src:c.value.coverImage||"/charity/default-cover.jpg",class:"w-full h-full object-cover",alt:"Project Cover"},null,8,Oh),j[7]||(j[7]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"},null,-1)),t("div",zh,[t("h2",Hh,x(c.value.title),1),t("p",Nh,x(c.value.organization),1)])]),t("div",Uh,[t("div",Fh,[t("div",Vh,"已筹 ¥"+x(y.value.toLocaleString()),1),t("div",qh,"目标 ¥"+x(c.value.goalAmount.toLocaleString()),1)]),t("div",Zh,[t("div",{class:"h-full bg-pink-600 rounded-full",style:Te({width:`${M.value}%`})},null,4)]),t("div",Gh,[t("div",null,x(Math.round(M.value))+"%",1),t("div",null,x(c.value.donors)+" 人已捐助",1)])]),t("div",Wh,[j[8]||(j[8]=t("h3",{class:"font-bold text-gray-900"},"项目介绍",-1)),t("p",Kh,x(c.value.description),1)]),t("div",Jh,[j[9]||(j[9]=t("h3",{class:"font-bold text-gray-900 mb-2"},"最近捐款",-1)),c.value.recentDonations&&c.value.recentDonations.length>0?(p(),v("div",Yh,[(p(!0),v(G,null,ee(c.value.recentDonations,(R,V)=>(p(),v("div",{key:V,class:"flex items-center py-2 border-b border-gray-100 last:border-b-0"},[t("div",Qh,[t("img",{src:R.userAvatar||"/avatars/default-avatar.jpg",class:"w-full h-full object-cover",alt:"Avatar"},null,8,Xh)]),t("div",ex,[t("div",tx,[t("div",sx,x(R.userName),1),t("div",ox,"¥"+x(R.amount),1)]),t("div",nx,[R.message?(p(),v("span",rx,x(R.message),1)):(p(),v("span",ix,"为爱心助力！"))])])]))),128))])):(p(),v("div",lx," 还没有人捐款，成为第一个吧！ "))]),t("div",ax,[t("button",{onClick:j[1]||(j[1]=R=>S(c.value.id)),class:"w-full py-3 bg-pink-600 text-white rounded-full font-medium"}," 立即捐款 ")])])):D("",!0),t("div",dx,[j[11]||(j[11]=t("h3",{class:"font-bold text-gray-900 mb-2"},"全部公益项目",-1)),t("div",ux,[(p(!0),v(G,null,ee(h.value,R=>(p(),v("div",{key:R.id,onClick:V=>E(R.id),class:Q(["bg-white border border-gray-200 rounded-lg overflow-hidden cursor-pointer",{"border-pink-600":r.value===R.id}])},[t("div",fx,[t("img",{src:R.coverImage||"/charity/default-cover.jpg",class:"w-full h-full object-cover",alt:"Project Cover"},null,8,px),j[10]||(j[10]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"},null,-1)),t("div",vx,[t("h3",mx,x(R.title),1),t("p",gx,x(R.organization),1)])]),t("div",hx,[t("div",xx,[t("div",yx,"已筹 ¥"+x(R.currentAmount.toLocaleString()),1),t("div",wx,"目标 ¥"+x(R.goalAmount.toLocaleString()),1)]),t("div",bx,[t("div",{class:"h-full bg-pink-600 rounded-full",style:Te({width:`${I(R)}%`})},null,4)]),t("div",kx,[t("div",_x,x(R.donors)+" 人已捐助",1),t("button",{onClick:us(V=>S(R.id),["stop"]),class:"px-3 py-1 bg-pink-600 text-white rounded-full text-xs"}," 捐助 ",8,$x)])])],10,cx))),128))])])])):i.value?D("",!0):(p(),v("div",Cx,j[12]||(j[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 mx-auto text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1),t("p",{class:"mt-4 text-gray-500"},"暂无公益项目",-1)]))),m.value&&c.value?(p(),v("div",jx,[t("div",Ix,[t("div",{class:"flex justify-between items-center"},[j[14]||(j[14]=t("h3",{class:"font-bold text-lg"},"爱心捐款",-1)),t("button",{onClick:A,class:"p-1"},j[13]||(j[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",Mx,[t("div",Sx,[t("h4",Ax,x(c.value.title),1),t("p",Tx,x(c.value.organization),1)]),t("div",Px,[j[16]||(j[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"选择金额",-1)),t("div",Bx,[(p(),v(G,null,ee(g,R=>t("button",{key:R.value,onClick:V=>B(R.value),class:Q(["py-2 border rounded-md text-center",l.value===R.value||R.value==="custom"&&l.value===null?"border-pink-600 bg-pink-50 text-pink-600":"border-gray-300 text-gray-700"])},x(R.label),11,Lx)),64))]),l.value===null?(p(),v("div",Ex,[t("div",Dx,[j[15]||(j[15]=t("div",{class:"pl-3 text-gray-500"},"¥",-1)),ue(t("input",{"onUpdate:modelValue":j[2]||(j[2]=R=>a.value=R),type:"number",min:"1",placeholder:"输入金额",class:"flex-1 p-2 border-0 focus:outline-none focus:ring-0"},null,512),[[ce,a.value]])])])):D("",!0)]),t("div",Rx,[j[17]||(j[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"留言 (可选)",-1)),ue(t("textarea",{"onUpdate:modelValue":j[3]||(j[3]=R=>d.value=R),rows:"3",placeholder:"说点什么吧...",class:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:border-pink-500 focus:ring-0"},null,512),[[ce,d.value]])]),t("button",{onClick:k,disabled:l.value===null&&!a.value||u.value,class:"mt-4 w-full py-3 bg-pink-600 text-white rounded-lg font-medium disabled:opacity-50"},[u.value?(p(),v("span",zx,"处理中...")):(p(),v("span",Hx,"确认捐款 "+x(l.value!==null?`¥${l.value}`:a.value?`¥${a.value}`:""),1))],8,Ox)])])])):D("",!0),f.value?(p(),v("div",Nx,j[18]||(j[18]=[Me('<div class="bg-white rounded-lg w-4/5 max-w-sm p-6 text-center"><div class="w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div><h3 class="mt-4 text-xl font-bold">感谢您的爱心捐助！</h3><p class="mt-2 text-gray-600">您的支持将帮助更多人，让爱传递下去。</p></div>',1)]))):D("",!0)]))}},Fx={class:"min-h-screen bg-white"},Vx={class:"sticky top-0 z-10 bg-white border-b border-gray-200"},qx={class:"px-4 py-2 flex items-center"},Zx={class:"p-4"},Gx={key:0,class:"text-center py-8"},Wx={key:1},Kx={key:0,class:"text-center py-8"},Jx={key:1},Yx={class:"mt-4"},Qx={key:0,class:"space-y-2"},Xx=["onClick"],ey={class:"flex items-center"},ty={class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},sy={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},oy={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"},ny={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},ry={key:2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"},iy={class:"ml-3"},ly={class:"font-medium"},ay={class:"text-xs text-gray-500"},dy={key:1,class:"text-center py-4 text-gray-500"},uy=["disabled"],cy={key:0},fy={key:1},py={key:2},vy={class:"p-3 border border-gray-200 rounded-lg mb-4"},my={class:"flex items-center"},gy={class:"ml-3"},hy={class:"font-medium"},xy={key:0,class:"mt-4"},yy={class:"block w-full py-3 px-4 border-2 border-dashed border-gray-300 rounded-lg text-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors"},wy={key:0,class:"mt-4"},by={class:"border border-gray-200 rounded-lg divide-y"},ky={class:"flex items-center"},_y={class:"ml-2"},$y={class:"text-sm font-medium text-gray-800 truncate max-w-[200px]"},Cy={class:"text-xs text-gray-500"},jy={key:1,class:"mt-4"},Iy={class:"p-4 border border-gray-200 rounded-lg"},My={class:"mb-2 flex justify-between text-sm"},Sy={class:"w-full h-2 bg-gray-200 rounded-full overflow-hidden"},Ay={class:"mt-2 text-sm text-gray-500"},Ty={key:2,class:"mt-6 text-center text-sm text-gray-600"},Py={__name:"BluetoothTransfer",setup(e){const s=ve(),o=ge(),n=U(()=>o.isLoggedIn),i=P(!1),r=P(!1),l=P(!1),a=P(!1),d=P([]),m=P(null),u=P(0),f=P(""),h=P([]),w=P([]),b=()=>{i.value=navigator&&"bluetooth"in navigator,i.value||(f.value="您的设备不支持蓝牙传输功能")},c=async()=>{if(i.value){f.value="请求蓝牙权限...";try{await new Promise(A=>setTimeout(A,1e3)),r.value=!0,f.value="蓝牙已启用"}catch(A){console.error("Error requesting Bluetooth access:",A),f.value="无法启用蓝牙，请检查设备设置"}}},g=async()=>{if(!(!r.value&&(await c(),!r.value))){l.value=!0,f.value="正在扫描设备...",d.value=[];try{await new Promise(A=>setTimeout(A,2e3)),d.value=[{id:"1",name:"iPhone 13",type:"phone"},{id:"2",name:"MacBook Pro",type:"laptop"},{id:"3",name:"Galaxy S21",type:"phone"},{id:"4",name:"iPad Air",type:"tablet"}],f.value=`发现 ${d.value.length} 个设备`}catch(A){console.error("Error scanning for devices:",A),f.value="扫描设备失败"}finally{l.value=!1}}},y=A=>{m.value=A,f.value=`已选择设备: ${A.name}`},M=A=>{const $=A.target.files;!$||$.length===0||(h.value=$,w.value=Array.from($).map(k=>({name:k.name,size:E(k.size),type:k.type})))},E=A=>{if(A===0)return"0 Bytes";const $=1024,k=["Bytes","KB","MB","GB"],L=Math.floor(Math.log(A)/Math.log($));return parseFloat((A/Math.pow($,L)).toFixed(2))+" "+k[L]},I=async()=>{if(!(!m.value||!h.value.length)){a.value=!0,u.value=0,f.value="准备传输文件...";try{const A=Array.from(h.value).reduce((R,V)=>R+V.size,0),$=100,L=100/(5e3/$),j=setInterval(()=>{if(u.value+=L,u.value>=100)clearInterval(j),u.value=100,f.value="文件传输完成",setTimeout(()=>{a.value=!1},1500);else{const R=Math.floor(A*(u.value/100));f.value=`传输中... ${E(R)} / ${E(A)}`}},$)}catch(A){console.error("Error during file transfer:",A),f.value="传输失败，请重试",a.value=!1}}},B=()=>{a.value&&(a.value=!1,u.value=0,f.value="传输已取消")},S=()=>{m.value=null,h.value=[],w.value=[],u.value=0,f.value=""};return me(()=>{if(!n.value){s.push("/login");return}b()}),gn(()=>{a.value&&B()}),(A,$)=>(p(),v("div",Fx,[t("div",Vx,[t("div",qx,[t("button",{onClick:$[0]||($[0]=k=>de(s).go(-1)),class:"mr-4 p-1"},$[1]||($[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),$[2]||($[2]=t("h1",{class:"text-lg font-bold"},"蓝牙传输",-1))])]),t("div",Zx,[i.value?(p(),v("div",Wx,[r.value?r.value&&!m.value?(p(),v("div",Jx,[$[7]||($[7]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"选择设备",-1)),t("div",Yx,[d.value.length>0?(p(),v("div",Qx,[(p(!0),v(G,null,ee(d.value,k=>(p(),v("div",{key:k.id,onClick:L=>y(k),class:"p-3 border border-gray-200 rounded-lg flex justify-between items-center cursor-pointer hover:bg-gray-50"},[t("div",ey,[t("div",ty,[(p(),v("svg",sy,[k.type==="phone"?(p(),v("path",oy)):k.type==="laptop"?(p(),v("path",ny)):(p(),v("path",ry))]))]),t("div",iy,[t("div",ly,x(k.name),1),t("div",ay,x(k.type),1)])]),$[5]||($[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))],8,Xx))),128))])):(p(),v("div",dy,x(l.value?"正在扫描...":"未发现设备"),1))]),t("button",{onClick:g,disabled:l.value,class:"mt-4 w-full py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50"},[l.value?(p(),v("span",cy,$[6]||($[6]=[t("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),we(" 扫描中... ")]))):(p(),v("span",fy,x(d.value.length>0?"重新扫描":"扫描设备"),1))],8,uy)])):m.value?(p(),v("div",py,[t("div",{class:"flex justify-between items-center mb-4"},[$[8]||($[8]=t("h2",{class:"text-lg font-bold text-gray-900"},"传输文件",-1)),t("button",{onClick:S,class:"text-sm text-blue-600"}," 重新选择设备 ")]),t("div",vy,[t("div",my,[$[10]||($[10]=t("div",{class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1)),t("div",gy,[t("div",hy,x(m.value.name),1),$[9]||($[9]=t("div",{class:"flex items-center text-xs text-green-600"},[t("span",{class:"w-2 h-2 bg-green-600 rounded-full inline-block mr-1"}),we(" 已连接 ")],-1))])])]),a.value?(p(),v("div",jy,[$[17]||($[17]=t("h3",{class:"font-medium text-gray-900 mb-2"},"文件传输中",-1)),t("div",Iy,[t("div",My,[$[16]||($[16]=t("span",null,"进度",-1)),t("span",null,x(Math.round(u.value))+"%",1)]),t("div",Sy,[t("div",{class:"h-full bg-blue-600 rounded-full transition-all duration-300",style:Te({width:`${u.value}%`})},null,4)]),t("div",Ay,x(f.value),1),t("button",{onClick:B,class:"mt-4 w-full py-2 border border-red-600 text-red-600 rounded-lg"}," 取消传输 ")])])):(p(),v("div",xy,[$[15]||($[15]=t("h3",{class:"font-medium text-gray-900 mb-2"},"选择文件",-1)),t("label",yy,[t("input",{type:"file",multiple:"",class:"hidden",onChange:M},null,32),$[11]||($[11]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),$[12]||($[12]=t("span",{class:"mt-2 block text-sm text-gray-500"}," 点击选择文件或将文件拖到这里 ",-1))]),w.value.length>0?(p(),v("div",wy,[$[14]||($[14]=t("h3",{class:"font-medium text-gray-900 mb-2"},"已选择文件",-1)),t("div",by,[(p(!0),v(G,null,ee(w.value,(k,L)=>(p(),v("div",{key:L,class:"p-3 flex justify-between items-center"},[t("div",ky,[$[13]||($[13]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("div",_y,[t("div",$y,x(k.name),1),t("div",Cy,x(k.size),1)])])]))),128))]),t("button",{onClick:I,class:"mt-4 w-full py-2 bg-blue-600 text-white rounded-lg"}," 开始传输 ")])):D("",!0)]))])):D("",!0):(p(),v("div",Kx,[$[4]||($[4]=Me('<div class="w-20 h-20 mx-auto bg-blue-100 rounded-full flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg></div><h2 class="mt-4 text-lg font-bold text-gray-900">启用蓝牙</h2><p class="mt-2 text-gray-600"> 请启用设备蓝牙以开始传输文件 </p>',3)),t("button",{onClick:c,class:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-full"}," 启用蓝牙 ")]))])):(p(),v("div",Gx,$[3]||($[3]=[Me('<div class="w-20 h-20 mx-auto bg-red-100 rounded-full flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div><h2 class="mt-4 text-lg font-bold text-gray-900">蓝牙功能不可用</h2><p class="mt-2 text-gray-600"> 您的设备或浏览器不支持蓝牙传输功能。请使用其他方式传输文件。 </p>',3)]))),f.value&&i.value?(p(),v("div",Ty,x(f.value),1)):D("",!0)])]))}},By={class:"pb-16 bg-gray-50 min-h-screen"},Ly={key:0,class:"flex justify-center items-center py-16"},Ey={key:1,class:"flex flex-col items-center justify-center py-16"},Dy={class:"text-gray-500"},Ry={key:2,class:"p-4 space-y-4"},Oy={class:"bg-white rounded-lg shadow p-4"},zy={class:"flex justify-between items-center"},Hy={class:"flex flex-col"},Ny={class:"text-gray-500 text-xs"},Uy={class:"text-gray-500 text-xs mt-1"},Fy={class:"mt-4 pt-4 border-t border-gray-100"},Vy={class:"relative"},qy={class:"flex mb-4"},Zy={class:"text-xs text-gray-500"},Gy={key:0,class:"flex mb-4"},Wy={class:"text-xs text-gray-500"},Ky={key:1,class:"flex mb-4"},Jy={class:"text-xs text-gray-500"},Yy={key:0},Qy={key:1},Xy={key:2,class:"flex mb-4"},e4={class:"text-xs text-gray-500"},t4={key:3,class:"flex mb-4"},s4={class:"text-xs text-gray-500"},o4={key:4,class:"flex mb-4"},n4={class:"text-xs text-gray-500"},r4={class:"text-xs text-gray-500"},i4={class:"text-xs text-gray-500"},l4={key:5,class:"flex mb-4"},a4={class:"text-xs text-gray-500"},d4={class:"text-xs text-gray-500"},u4={class:"bg-white rounded-lg shadow p-4"},c4={class:"w-16 h-16 rounded-md overflow-hidden bg-gray-100 flex-shrink-0"},f4=["src","alt"],p4={class:"ml-3 flex-1"},v4={class:"text-sm font-medium"},m4={class:"flex justify-between mt-1"},g4={class:"text-xs text-gray-500"},h4={class:"text-sm font-medium"},x4={class:"mt-3 pt-3 space-y-2"},y4={class:"flex justify-between text-sm"},w4={class:"flex justify-between text-sm"},b4={class:"flex justify-between text-base font-medium pt-2 border-t border-gray-100"},k4={class:"text-pink-500"},_4={class:"bg-white rounded-lg shadow p-4"},$4={class:"space-y-2 text-sm"},C4={class:"flex"},j4={class:"flex"},I4={class:"flex"},M4={class:"flex"},S4={key:0,class:"flex"},A4={class:"bg-white rounded-lg shadow p-4"},T4={class:"space-y-2 text-sm"},P4={class:"flex"},B4={key:0,class:"flex"},L4={key:1,class:"flex"},E4={class:"mt-4 flex justify-center space-x-4"},D4={key:0,class:"px-8 py-2.5 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full"},R4={key:1,class:"px-8 py-2.5 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full"},O4={key:2,class:"px-8 py-2.5 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full"},z4={key:3,class:"px-8 py-2.5 border border-gray-300 text-gray-600 rounded-full"},H4={key:4,class:"px-8 py-2.5 border border-gray-300 text-gray-600 rounded-full"},N4={class:"text-center text-xs text-gray-400 mt-6"},U4={__name:"OrderDetail",setup(e){const s=nt(),o=ve();Cn();const n=P(!0),i=P(null),r=P(null),l=U(()=>s.params.id),a={pending:{text:"待付款",class:"text-red-600 bg-red-50",icon:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"},shipping:{text:"待收货",class:"text-yellow-600 bg-yellow-50",icon:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"},review:{text:"待评价",class:"text-blue-600 bg-blue-50",icon:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},completed:{text:"已完成",class:"text-green-600 bg-green-50",icon:"M5 13l4 4L19 7"},cancelled:{text:"已取消",class:"text-gray-500 bg-gray-50",icon:"M6 18L18 6M6 6l12 12"},refund:{text:"退款/售后",class:"text-pink-600 bg-pink-50",icon:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"}};me(()=>{d()});const d=async()=>{n.value=!0,i.value=null;try{await new Promise(g=>setTimeout(g,800));const c={ORD1001:{id:"ORD1001",date:"2023-05-10",status:"pending",total:12900,items:[{id:1,name:"初音未来 2023周年限定手办",image:"/orders/hospital-visit.jpg",price:12900,quantity:1}],shipping:{address:"北京市朝阳区三里屯SOHO 5号楼2单元801",name:"葛某某",phone:"135****6789",method:"顺丰速运",fee:0,trackingNumber:"",estimatedDelivery:"付款后3-5个工作日内发货"},payment:{method:"微信支付",total:12900,dueTime:"2023-05-10 23:59:59"}},ORD1002:{id:"ORD1002",date:"2023-05-05",status:"shipping",total:15800,items:[{id:2,name:"刀剑神域 亚丝娜 手办",image:"/orders/art-education.jpg",price:9800,quantity:1},{id:3,name:"EVA 明日香 T恤",image:"/orders/therapy.jpg",price:6e3,quantity:1}],shipping:{address:"上海市静安区南京西路1266号恒隆广场46楼",name:"葛某某",phone:"135****6789",method:"顺丰速运",fee:0,trackingNumber:"SF1234567890",carrier:"顺丰快递",estimatedDelivery:"预计2023-05-08送达"},payment:{method:"支付宝",total:15800,paidTime:"2023-05-05 15:30:45"}},ORD1003:{id:"ORD1003",date:"2023-04-20",status:"review",total:7900,items:[{id:4,name:"Re:从零开始的异世界生活 拉姆 蕾姆 抱枕套装",image:"/orders/manga-support.jpg",price:7900,quantity:1}],shipping:{address:"北京市海淀区中关村大街1号",name:"葛某某",phone:"135****6789",method:"韵达快递",fee:0,trackingNumber:"YD9876543210",carrier:"韵达快递",deliveredDate:"2023-04-25"},payment:{method:"微信支付",total:7900,paidTime:"2023-04-20 09:15:22"}},ORD1004:{id:"ORD1004",date:"2023-04-12",status:"completed",total:22500,items:[{id:5,name:"命运石之门 牧濑红莉栖 手办",image:"/orders/library.jpg",price:16800,quantity:1},{id:6,name:"动漫周边福袋",image:"/orders/preservation.jpg",price:5700,quantity:1}],shipping:{address:"广州市天河区天河路385号",name:"葛某某",phone:"135****6789",method:"圆通速递",fee:0,trackingNumber:"YT2468013579",carrier:"圆通速递",deliveredDate:"2023-04-15"},payment:{method:"支付宝",total:22500,paidTime:"2023-04-12 14:22:38"},reviewDate:"2023-04-20"},ORD1005:{id:"ORD1005",date:"2023-03-28",status:"refund",total:14500,items:[{id:7,name:"动漫人物系列钥匙扣套装",image:"/orders/therapy.jpg",price:4500,quantity:1},{id:8,name:"进击的巨人 调查兵团披风",image:"/orders/hospital-visit.jpg",price:1e4,quantity:1}],shipping:{address:"深圳市南山区科技园路1号",name:"葛某某",phone:"135****6789",method:"京东快递",fee:0,trackingNumber:"JD1357924680",carrier:"京东快递",deliveredDate:"2023-04-02"},payment:{method:"微信支付",total:14500,paidTime:"2023-03-28 10:05:17"},refund:{reason:"商品有缺陷",status:"退款处理中",amount:14500,appliedDate:"2023-04-05",evidence:["/orders/manga-support.jpg","/orders/library.jpg"]}},ORD1006:{id:"ORD1006",date:"2023-03-15",status:"cancelled",total:6900,items:[{id:9,name:"咒术回战 五条悟 明信片套装",image:"/orders/art-education.jpg",price:6900,quantity:1}],shipping:{address:"成都市武侯区人民南路四段",name:"葛某某",phone:"135****6789",method:"邮政快递",fee:0,trackingNumber:""},payment:{method:"微信支付",total:6900,paidTime:""},cancelReason:"用户取消",cancelTime:"2023-03-15 20:30:12"}}[l.value];c?r.value=c:i.value="订单不存在或已被删除"}catch(b){console.error("Error loading order:",b),i.value="加载订单时出错"}finally{n.value=!1}},m=b=>(b/100).toFixed(2),u=b=>new Date(b).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}),f=b=>b?new Date(b).toLocaleString("zh-CN",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}):"",h=b=>a[b]||{text:"未知状态",class:"text-gray-500 bg-gray-50",icon:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"};function w(){o.go(-1)}return(b,c)=>{var g,y,M;return p(),v("div",By,[t("div",{class:"bg-white p-4 border-b border-gray-200 flex items-center"},[t("button",{onClick:w,class:"mr-4"},c[1]||(c[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),c[2]||(c[2]=t("div",{class:"text-center flex-1 font-medium"},"订单详情",-1)),c[3]||(c[3]=t("div",{class:"w-5"},null,-1))]),n.value?(p(),v("div",Ly,c[4]||(c[4]=[t("div",{class:"w-10 h-10 border-4 border-pink-500 border-t-transparent rounded-full animate-spin"},null,-1)]))):i.value?(p(),v("div",Ey,[c[5]||(c[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-red-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("p",Dy,x(i.value),1),t("button",{onClick:w,class:"mt-4 px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full text-sm"}," 返回订单列表 ")])):r.value?(p(),v("div",Ry,[t("div",Oy,[t("div",zy,[t("div",Hy,[t("span",Ny,"订单号: "+x(r.value.id),1),t("span",Uy,x(u(r.value.date)),1)]),t("span",{class:Q(["px-3 py-1 rounded-full text-sm",h(r.value.status).class])},x(h(r.value.status).text),3)]),t("div",Fy,[t("div",Vy,[t("div",qy,[c[7]||(c[7]=t("div",{class:"w-6 h-6 flex items-center justify-center rounded-full bg-pink-500 text-white mr-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})])],-1)),t("div",null,[c[6]||(c[6]=t("div",{class:"text-sm font-medium"},"订单创建",-1)),t("div",Zy,x(f(r.value.date)),1)])]),r.value.status!=="pending"&&r.value.status!=="cancelled"?(p(),v("div",Gy,[c[9]||(c[9]=t("div",{class:"w-6 h-6 flex items-center justify-center rounded-full bg-pink-500 text-white mr-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",null,[c[8]||(c[8]=t("div",{class:"text-sm font-medium"},"付款成功",-1)),t("div",Wy,x(f(r.value.payment.paidTime)),1)])])):D("",!0),["shipping","review","completed","refund"].includes(r.value.status)?(p(),v("div",Ky,[c[11]||(c[11]=t("div",{class:"w-6 h-6 flex items-center justify-center rounded-full bg-pink-500 text-white mr-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})])],-1)),t("div",null,[c[10]||(c[10]=t("div",{class:"text-sm font-medium"},"商品发货",-1)),t("div",Jy,[r.value.shipping.trackingNumber?(p(),v("span",Yy,"运单号: "+x(r.value.shipping.trackingNumber),1)):(p(),v("span",Qy,x(r.value.shipping.estimatedDelivery),1))])])])):D("",!0),["review","completed","refund"].includes(r.value.status)?(p(),v("div",Xy,[c[13]||(c[13]=t("div",{class:"w-6 h-6 flex items-center justify-center rounded-full bg-pink-500 text-white mr-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),t("div",null,[c[12]||(c[12]=t("div",{class:"text-sm font-medium"},"确认收货",-1)),t("div",e4,x(f(r.value.shipping.deliveredDate)),1)])])):D("",!0),["completed"].includes(r.value.status)?(p(),v("div",t4,[c[15]||(c[15]=t("div",{class:"w-6 h-6 flex items-center justify-center rounded-full bg-pink-500 text-white mr-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})])],-1)),t("div",null,[c[14]||(c[14]=t("div",{class:"text-sm font-medium"},"评价完成",-1)),t("div",s4,x(f(r.value.reviewDate)),1)])])):D("",!0),["refund"].includes(r.value.status)?(p(),v("div",o4,[c[17]||(c[17]=t("div",{class:"w-6 h-6 flex items-center justify-center rounded-full bg-pink-500 text-white mr-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3"})])],-1)),t("div",null,[c[16]||(c[16]=t("div",{class:"text-sm font-medium"},"申请退款",-1)),t("div",n4,x(f((g=r.value.refund)==null?void 0:g.appliedDate)),1),t("div",r4,"原因: "+x((y=r.value.refund)==null?void 0:y.reason),1),t("div",i4,"状态: "+x((M=r.value.refund)==null?void 0:M.status),1)])])):D("",!0),["cancelled"].includes(r.value.status)?(p(),v("div",l4,[c[19]||(c[19]=t("div",{class:"w-6 h-6 flex items-center justify-center rounded-full bg-pink-500 text-white mr-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),t("div",null,[c[18]||(c[18]=t("div",{class:"text-sm font-medium"},"订单取消",-1)),t("div",a4,x(f(r.value.cancelTime)),1),t("div",d4,"原因: "+x(r.value.cancelReason),1)])])):D("",!0)])])]),t("div",u4,[c[23]||(c[23]=t("h3",{class:"text-base font-medium mb-3"},"商品信息",-1)),(p(!0),v(G,null,ee(r.value.items,E=>(p(),v("div",{key:E.id,class:"flex py-2 border-b border-gray-100 last:border-0"},[t("div",c4,[t("img",{src:E.image||"/placeholder.jpg",alt:E.name,class:"w-full h-full object-cover",onError:c[0]||(c[0]=I=>I.target.src="/placeholder.jpg")},null,40,f4)]),t("div",p4,[t("div",v4,x(E.name),1),t("div",m4,[t("div",g4,"¥"+x(m(E.price))+" × "+x(E.quantity),1),t("div",h4,"¥"+x(m(E.price*E.quantity)),1)])])]))),128)),t("div",x4,[t("div",y4,[c[20]||(c[20]=t("span",{class:"text-gray-500"},"商品金额",-1)),t("span",null,"¥"+x(m(r.value.items.reduce((E,I)=>E+I.price*I.quantity,0))),1)]),t("div",w4,[c[21]||(c[21]=t("span",{class:"text-gray-500"},"运费",-1)),t("span",null,"¥"+x(m(r.value.shipping.fee)),1)]),t("div",b4,[c[22]||(c[22]=t("span",null,"实付款",-1)),t("span",k4,"¥"+x(m(r.value.total)),1)])])]),t("div",_4,[c[29]||(c[29]=t("h3",{class:"text-base font-medium mb-3"},"收货信息",-1)),t("div",$4,[t("div",C4,[c[24]||(c[24]=t("span",{class:"text-gray-500 w-16"},"收货人: ",-1)),t("span",null,x(r.value.shipping.name),1)]),t("div",j4,[c[25]||(c[25]=t("span",{class:"text-gray-500 w-16"},"联系电话: ",-1)),t("span",null,x(r.value.shipping.phone),1)]),t("div",I4,[c[26]||(c[26]=t("span",{class:"text-gray-500 w-16 flex-shrink-0"},"收货地址: ",-1)),t("span",null,x(r.value.shipping.address),1)]),t("div",M4,[c[27]||(c[27]=t("span",{class:"text-gray-500 w-16 flex-shrink-0"},"配送方式: ",-1)),t("span",null,x(r.value.shipping.method),1)]),r.value.shipping.trackingNumber?(p(),v("div",S4,[c[28]||(c[28]=t("span",{class:"text-gray-500 w-16 flex-shrink-0"},"物流单号: ",-1)),t("span",null,x(r.value.shipping.trackingNumber),1)])):D("",!0)])]),t("div",A4,[c[33]||(c[33]=t("h3",{class:"text-base font-medium mb-3"},"付款信息",-1)),t("div",T4,[t("div",P4,[c[30]||(c[30]=t("span",{class:"text-gray-500 w-16"},"付款方式: ",-1)),t("span",null,x(r.value.payment.method),1)]),r.value.payment.paidTime?(p(),v("div",B4,[c[31]||(c[31]=t("span",{class:"text-gray-500 w-16"},"付款时间: ",-1)),t("span",null,x(f(r.value.payment.paidTime)),1)])):D("",!0),r.value.status==="pending"?(p(),v("div",L4,[c[32]||(c[32]=t("span",{class:"text-gray-500 w-16"},"付款期限: ",-1)),t("span",null,x(f(r.value.payment.dueTime)),1)])):D("",!0)])]),t("div",E4,[r.value.status==="pending"?(p(),v("button",D4," 去付款 ")):D("",!0),r.value.status==="shipping"?(p(),v("button",R4," 确认收货 ")):D("",!0),r.value.status==="review"?(p(),v("button",O4," 去评价 ")):D("",!0),["completed","review"].includes(r.value.status)?(p(),v("button",z4," 再次购买 ")):D("",!0),r.value.status==="pending"?(p(),v("button",H4," 取消订单 ")):D("",!0)]),t("div",N4,"订单创建时间: "+x(f(r.value.date)),1)])):D("",!0)])}}},F4={class:"pb-16 bg-gray-50 min-h-screen"},V4={class:"bg-white overflow-x-auto whitespace-nowrap shadow-sm"},q4={class:"flex p-2 pl-4 border-b border-gray-100"},Z4={key:0,class:"flex justify-center items-center py-16"},G4={key:1,class:"flex flex-col items-center justify-center py-16"},W4={key:2,class:"p-4 space-y-4"},K4=["onClick"],J4={class:"p-4 flex justify-between items-center border-b border-gray-100"},Y4={class:"flex items-center"},Q4={class:"text-sm"},X4={class:"p-4"},ew={class:"w-16 h-16 rounded-md overflow-hidden bg-gray-100 flex-shrink-0"},tw=["src","alt"],sw={class:"ml-3 flex-1"},ow={class:"text-sm font-medium"},nw={class:"text-xs text-gray-500 mt-1"},rw={key:0,class:"flex justify-between mt-2 text-xs text-gray-500"},iw={class:"text-pink-500 font-medium text-sm"},lw={key:1,class:"flex justify-end mt-2 text-xs text-gray-500"},aw={class:"text-pink-500 font-medium text-sm"},dw={class:"flex justify-end p-4 pt-2 border-t border-gray-100"},uw={key:0,class:"space-x-3"},cw={key:1,class:"space-x-3"},fw={key:2,class:"space-x-3"},pw={key:3,class:"space-x-3"},vw={key:4,class:"space-x-3"},mw={key:5,class:"space-x-3"},gw={__name:"Orders",setup(e){const s=ve(),o=nt();ge();const n=P(!0),i=P(""),r=P("all"),l=P([]);U(()=>o.query.status||"all");const a=U(()=>r.value==="all"?l.value:l.value.filter(b=>b.status===r.value)),d={pending:{text:"待付款",class:"text-red-600",icon:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"},shipping:{text:"待收货",class:"text-yellow-600",icon:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"},review:{text:"待评价",class:"text-blue-600",icon:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},completed:{text:"已完成",class:"text-green-600",icon:"M5 13l4 4L19 7"},cancelled:{text:"已取消",class:"text-gray-500",icon:"M6 18L18 6M6 6l12 12"},refund:{text:"退款/售后",class:"text-pink-600",icon:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"}};me(()=>{o.query.status&&(r.value=o.query.status),m()}),pt(r,b=>{s.replace({query:b==="all"?{}:{status:b}})});const m=async()=>{n.value=!0;try{await new Promise(b=>setTimeout(b,800)),l.value=[{id:"ORD1001",date:"2023-05-10",status:"pending",total:12900,items:[{id:1,name:"初音未来 2023周年限定手办",image:"/orders/hospital-visit.jpg",price:12900,quantity:1}]},{id:"ORD1002",date:"2023-05-05",status:"shipping",total:15800,items:[{id:2,name:"刀剑神域 亚丝娜 手办",image:"/orders/art-education.jpg",price:9800,quantity:1},{id:3,name:"EVA 明日香 T恤",image:"/orders/therapy.jpg",price:6e3,quantity:1}],trackingNumber:"SF1234567890",carrier:"顺丰快递"},{id:"ORD1003",date:"2023-04-20",status:"review",total:7900,items:[{id:4,name:"Re:从零开始的异世界生活 拉姆 蕾姆 抱枕套装",image:"/orders/manga-support.jpg",price:7900,quantity:1}],deliveredDate:"2023-04-25"},{id:"ORD1004",date:"2023-04-12",status:"completed",total:22500,items:[{id:5,name:"命运石之门 牧濑红莉栖 手办",image:"/orders/library.jpg",price:16800,quantity:1},{id:6,name:"动漫周边福袋",image:"/orders/preservation.jpg",price:5700,quantity:1}],reviewDate:"2023-04-20"},{id:"ORD1005",date:"2023-03-28",status:"refund",total:14500,items:[{id:7,name:"动漫人物系列钥匙扣套装",image:"/orders/therapy.jpg",price:4500,quantity:1},{id:8,name:"进击的巨人 调查兵团披风",image:"/orders/hospital-visit.jpg",price:1e4,quantity:1}],refundReason:"商品有缺陷",refundStatus:"退款处理中"},{id:"ORD1006",date:"2023-03-15",status:"cancelled",total:6900,items:[{id:9,name:"咒术回战 五条悟 明信片套装",image:"/orders/art-education.jpg",price:6900,quantity:1}],cancelReason:"用户取消"}]}catch(b){console.error("Failed to load orders:",b),i.value="加载订单失败，请重试"}finally{n.value=!1}},u=b=>{s.push(`/order/${b}`)},f=b=>(b/100).toFixed(2),h=b=>d[b]||{text:"未知状态",class:"text-gray-500",icon:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},w=()=>{s.go(-1)};return(b,c)=>(p(),v("div",F4,[t("div",{class:"bg-white p-4 border-b border-gray-200 flex items-center"},[t("button",{onClick:w,class:"mr-4"},c[7]||(c[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),c[8]||(c[8]=t("div",{class:"text-center flex-1 font-medium"},"我的订单",-1)),c[9]||(c[9]=t("div",{class:"w-5"},null,-1))]),t("div",V4,[t("div",q4,[t("button",{onClick:c[0]||(c[0]=g=>r.value="all"),class:Q(["px-3 py-2 mr-3 text-sm rounded-full",r.value==="all"?"bg-pink-100 text-pink-500":"text-gray-500"])}," 全部 ",2),t("button",{onClick:c[1]||(c[1]=g=>r.value="pending"),class:Q(["px-3 py-2 mr-3 text-sm rounded-full",r.value==="pending"?"bg-pink-100 text-pink-500":"text-gray-500"])}," 待付款 ",2),t("button",{onClick:c[2]||(c[2]=g=>r.value="shipping"),class:Q(["px-3 py-2 mr-3 text-sm rounded-full",r.value==="shipping"?"bg-pink-100 text-pink-500":"text-gray-500"])}," 待收货 ",2),t("button",{onClick:c[3]||(c[3]=g=>r.value="review"),class:Q(["px-3 py-2 mr-3 text-sm rounded-full",r.value==="review"?"bg-pink-100 text-pink-500":"text-gray-500"])}," 待评价 ",2),t("button",{onClick:c[4]||(c[4]=g=>r.value="refund"),class:Q(["px-3 py-2 mr-3 text-sm rounded-full",r.value==="refund"?"bg-pink-100 text-pink-500":"text-gray-500"])}," 退款/售后 ",2)])]),n.value?(p(),v("div",Z4,c[10]||(c[10]=[t("div",{class:"w-10 h-10 border-4 border-pink-500 border-t-transparent rounded-full animate-spin"},null,-1)]))):a.value.length===0?(p(),v("div",G4,[c[11]||(c[11]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1)),c[12]||(c[12]=t("p",{class:"text-gray-500"},"暂无订单",-1)),t("button",{onClick:c[5]||(c[5]=g=>de(s).push("/shop")),class:"mt-4 px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full text-sm"}," 去逛逛 ")])):(p(),v("div",W4,[(p(!0),v(G,null,ee(a.value,g=>(p(),v("div",{key:g.id,class:"bg-white rounded-lg shadow overflow-hidden",onClick:y=>u(g.id)},[t("div",J4,[t("div",Y4,[c[13]||(c[13]=t("div",{class:"text-xs text-gray-500 mr-2"},"订单号:",-1)),t("div",Q4,x(g.id),1)]),t("div",{class:Q(["text-sm font-medium",h(g.status).class])},x(h(g.status).text),3)]),t("div",X4,[(p(!0),v(G,null,ee(g.items,y=>(p(),v("div",{key:y.id,class:"flex py-2"},[t("div",ew,[t("img",{src:y.image||"/placeholder.jpg",alt:y.name,class:"w-full h-full object-cover",onError:c[6]||(c[6]=M=>M.target.src="/placeholder.jpg")},null,40,tw)]),t("div",sw,[t("div",ow,x(y.name),1),t("div",nw,"¥"+x(f(y.price))+" × "+x(y.quantity),1)])]))),128)),g.items.length>1?(p(),v("div",rw,[t("div",null,"共 "+x(g.items.length)+" 件商品",1),t("div",null,[c[14]||(c[14]=we("实付: ")),t("span",iw,"¥"+x(f(g.total)),1)])])):(p(),v("div",lw,[c[15]||(c[15]=we(" 实付: ")),t("span",aw,"¥"+x(f(g.total)),1)]))]),t("div",dw,[g.status==="pending"?(p(),v("div",uw,c[16]||(c[16]=[t("button",{class:"px-4 py-1.5 border border-gray-300 text-gray-500 rounded-full text-sm"},"取消订单",-1),t("button",{class:"px-4 py-1.5 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full text-sm"},"去付款",-1)]))):D("",!0),g.status==="shipping"?(p(),v("div",cw,c[17]||(c[17]=[t("button",{class:"px-4 py-1.5 border border-gray-300 text-gray-500 rounded-full text-sm"},"查看物流",-1),t("button",{class:"px-4 py-1.5 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full text-sm"},"确认收货",-1)]))):D("",!0),g.status==="review"?(p(),v("div",fw,c[18]||(c[18]=[t("button",{class:"px-4 py-1.5 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full text-sm"},"去评价",-1)]))):D("",!0),g.status==="completed"?(p(),v("div",pw,c[19]||(c[19]=[t("button",{class:"px-4 py-1.5 border border-gray-300 text-gray-500 rounded-full text-sm"},"再次购买",-1),t("button",{class:"px-4 py-1.5 border border-gray-300 text-gray-500 rounded-full text-sm"},"申请售后",-1)]))):D("",!0),g.status==="refund"?(p(),v("div",vw,c[20]||(c[20]=[t("button",{class:"px-4 py-1.5 border border-gray-300 text-gray-500 rounded-full text-sm"},"查看详情",-1)]))):D("",!0),g.status==="cancelled"?(p(),v("div",mw,c[21]||(c[21]=[t("button",{class:"px-4 py-1.5 border border-gray-300 text-gray-500 rounded-full text-sm"},"删除订单",-1),t("button",{class:"px-4 py-1.5 border border-gray-300 text-gray-500 rounded-full text-sm"},"再次购买",-1)]))):D("",!0)])],8,K4))),128))]))]))}},hw=""+new URL("../virtual/bucky-showcase.jpg",import.meta.url).href,xw={class:"pb-16"},yw={class:"bg-white shadow-sm sticky top-0 z-50"},ww={class:"overflow-x-auto scrollbar-hide"},bw={class:"flex py-3 px-2 space-x-2 min-w-min"},kw=["onClick"],_w={id:"products",class:"mt-6"},$w={class:"px-4 mb-4"},Cw={class:"text-xl font-bold"},jw={class:"space-y-4 px-4"},Iw={class:"aspect-video overflow-hidden bg-gray-100"},Mw=["src","alt"],Sw={class:"p-4"},Aw={class:"font-bold text-lg text-gray-800"},Tw={class:"mt-2 text-gray-600 text-sm leading-relaxed"},Pw={__name:"VirtualExperience",setup(e){const s=P([{id:1,name:"ACG歌曲向",title:"唱片吧唧",image:"/virtual/music-bucky.jpg",products:[{id:101,name:"随声听吧唧",description:'顾名思义，可随声携带，有正反两面之分，正面呈现传统二次元任务的形象，但又与传统吧唧不同的是，通过按压吧唧可随机切换音乐或语音条（角色对用户说的话），此外，不同款的吧唧可以切换不同系列的歌曲和语音条，且支持"蓝牙+外放"双模式；当然，反面也加入了独有的设计，反面嵌入TeslaTouch静电触控层，播放音乐的同时，可以显示MV，不仅如此，对于不同的风格的音乐，会产生不同的触感，如播放激动战斗曲时，可以感觉到酥麻震动感，而播放抒情曲时，可以感觉到羽毛轻抚触感。',image:"/virtual/portable-music-bucky.jpg"},{id:102,name:"悬浮幻音吧唧",description:"托盘，即磁悬浮盘，可以产生磁悬浮的功能，当在磁悬浮盘上放入吧唧，吧唧可被抬升至3mm处，边旋转边播放音乐，当然，通过按压吧唧，可以引发极光、星空等场景特效，此外，还可以链接小程序，播放经典片段，打造沉浸式体验。",image:"/virtual/floating-music-bucky.jpg"}]},{id:2,name:"情绪向",title:"心率吧唧",image:"/virtual/emotion-bucky.jpg",products:[{id:201,name:"情绪映画吧唧",description:"吧唧内含指尖传感器，通过指尖按压，吧唧自动感应用户的心率，通过智能识别，外化用户的情感显示在吧唧上；不仅如此，它还支持异地互动，一方难过时，吧唧智能显示哭泣画面，指尖触碰吧唧，自动亮起橙光，同步触发对方设备的灯光和震动提醒，让对方快速了解到你当时的状况，而且，它能感应体温并模拟拥抱的温暖脉动，实时传递安慰。",image:"/virtual/emotion-display-bucky.jpg"},{id:202,name:"微笑治愈吧唧",description:'主要通过"识别—转化—呈现"来调整用户的心情，如：当传感器捕捉到用户加速的心跳时，用户可能处于焦虑状态，它会自动亮起《夏目友人帐》中猫咪老师慵懒晒太阳的画面——那毛茸茸的肚皮仿佛在说："放轻松，没什么大不了"。而当它感应到难过情绪时，则会切换成《间谍过家家》中阿妮亚的招牌笑容，让人"忍不住跟着笑了出来"。',image:"/virtual/smile-healing-bucky.jpg"}]},{id:3,name:"日常向",title:"风扇吧唧",image:"/virtual/fan-bucky.jpg",products:[{id:301,name:"动画风扇吧唧",description:"待机状态下，呈现两枚叶片，每枚叶片印有二次元人物片段图案，当它高速旋转时，叶片图案便融合成了一幅画面，还可以显示时间状态，此外，加入了制冷和制热的功能，夏可降暑，冬可御寒，既能满足二次元群体对二次元的精神需求，还体验了实用性。",image:"/virtual/anime-fan-bucky.jpg"},{id:302,name:"回忆投影吧唧",description:"当风扇高速旋转时，在小程序上传图片，一键AI生成视频，通过全息投影技术，即可在风扇前呈现视频画面，如若上传儿时照片，你儿时的笑脸在流光中渐渐浮现，智能AI将珍贵记忆化作流动的画卷，让用户陷入儿时美好的回忆之中。",image:"/virtual/memory-projection-bucky.jpg"}]},{id:4,name:"陪伴向",title:"电宠游戏吧唧",image:"/virtual/companion-bucky.jpg",products:[{id:401,name:"电子伙伴吧唧",description:'嵌入电子屏幕，刚开机时，呈现游戏界面，当呼叫"小智，小智"时，可以唤醒二次元人物，自由与二次元人物进行对话，且能与用户一起玩游戏。二次元人物"小智"的出现，不仅可以满足用户的情感需求，还能为用户提供陪伴功能。',image:"/virtual/electronic-companion-bucky.jpg"},{id:402,name:"联机守护吧唧",description:'可通过蓝牙链接或NFC碰一碰实现多人联机玩游戏的功能，每日一游，伙伴之间可续火花，建立亲密关系，当然，呼叫二次元人物"小智"，说出你想要的东西，如好友的游戏进度，"小智"都能为你提供帮助；此外，对于一些用户的高风险行为，"小智"会启动守护模式，自动将位置共享发给亲密的人，保护用户的安全，当然，用户也可自由选择是否需要开启该功能。',image:"/virtual/multiplayer-guardian-bucky.jpg"}]}]),o=P(s.value[0]),n=r=>{o.value=r,window.scrollTo({top:document.getElementById("products").offsetTop-20,behavior:"smooth"})},i=r=>{r.target.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+CiAgPHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNmOGYwZmYiLz4KICA8dGV4dCB4PSIxMDAiIHk9IjEwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBhbGlnbm1lbnQtYmFzZWxpbmU9Im1pZGRsZSIgZmlsbD0iIzljNTJmZiI+5Zu+54mH5Yqg6L295LitPC90ZXh0PgogIDxjaXJjbGUgY3g9IjEwMCIgY3k9IjcwIiByPSIyMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOWM1MmZmIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBkPSJNNzAsOTAgTDEzMCw5MCBMMTUwLDEzMCBMNTAsMTMwIFoiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzljNTJmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg=="};return me(()=>{}),(r,l)=>(p(),v("div",xw,[l[2]||(l[2]=Me('<div class="relative h-[200px] bg-gradient-to-r from-purple-600 to-pink-500 flex items-center justify-center" data-v-1cd67647><div class="absolute inset-0 opacity-20 bg-pattern" data-v-1cd67647></div><div class="text-center text-white z-10 px-4" data-v-1cd67647><h1 class="text-2xl font-bold mb-2" data-v-1cd67647>虚拟体验馆</h1><p class="text-sm md:text-base max-w-md mx-auto" data-v-1cd67647> 探索二次元科技的无限可能，这里有最前沿的吧唧科技产品 </p></div></div>',1)),t("div",yw,[t("div",ww,[t("div",bw,[(p(!0),v(G,null,ee(s.value,a=>(p(),v("button",{key:a.id,onClick:d=>n(a),class:Q(["px-4 py-2 rounded-full text-sm whitespace-nowrap transition-colors",o.value.id===a.id?"bg-pink-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},x(a.name)+" · "+x(a.title),11,kw))),128))])])]),l[3]||(l[3]=Me('<div class="px-4 py-6 bg-white mt-4 rounded-lg shadow-sm" data-v-1cd67647><div class="prose max-w-none" data-v-1cd67647><h2 class="text-xl font-bold text-center mb-4" data-v-1cd67647>次元科技的未来：吧唧新世代</h2><div class="flex flex-col md:flex-row items-center gap-4 mb-4" data-v-1cd67647><img src="'+hw+'" alt="吧唧科技展示" class="w-full md:w-1/2 h-auto rounded-lg object-cover" data-v-1cd67647><div data-v-1cd67647><p class="text-gray-700" data-v-1cd67647> 随着科技的发展，二次元与现实的界限正在不断模糊。吧唧作为二次元爱好者的最爱，也在不断突破传统边界，融入更多先进科技，为用户带来全新的体验。 </p><p class="text-gray-700 mt-2" data-v-1cd67647> 在这个虚拟体验馆中，我们将向您展示四大类创新吧唧产品，从音乐体验到情感陪伴，让科技与二次元文化完美融合，打造更加丰富多彩的生活方式。 </p><p class="text-gray-700 mt-2" data-v-1cd67647> 新一代吧唧产品融合了人工智能、传感器技术、全息投影和磁悬浮等前沿科技，不仅保留了传统吧唧的收藏价值，更赋予了它们实用性和互动性，成为连接二次元与现实世界的桥梁。 </p></div></div></div></div>',1)),t("div",_w,[t("div",$w,[t("h2",Cw,x(o.value.name)+"："+x(o.value.title),1),l[0]||(l[0]=t("p",{class:"text-sm text-gray-500 mt-1"},"探索这一系列的创新产品",-1))]),t("div",jw,[(p(!0),v(G,null,ee(o.value.products,a=>(p(),v("div",{key:a.id,class:"bg-white rounded-lg shadow-sm overflow-hidden"},[t("div",Iw,[t("img",{src:a.image,alt:a.name,class:"w-full h-full object-cover",onError:i},null,40,Mw)]),t("div",Sw,[t("h3",Aw,x(a.name),1),t("p",Tw,x(a.description),1),l[1]||(l[1]=t("div",{class:"mt-4 flex justify-between items-center"},[t("button",{class:"px-4 py-2 bg-pink-500 text-white rounded-full text-sm"}," 了解更多 "),t("span",{class:"text-sm text-purple-600 font-medium"},"未来科技")],-1))])]))),128))])]),l[4]||(l[4]=Me('<div class="mt-8 px-4" data-v-1cd67647><div class="bg-white rounded-lg shadow-sm p-5" data-v-1cd67647><h2 class="text-xl font-bold mb-3" data-v-1cd67647>吧唧科技发展历程</h2><div class="space-y-4" data-v-1cd67647><div class="flex" data-v-1cd67647><div class="w-24 flex-shrink-0 flex flex-col items-center" data-v-1cd67647><div class="w-8 h-8 rounded-full bg-pink-500 text-white flex items-center justify-center text-sm" data-v-1cd67647>1</div><div class="w-0.5 h-full bg-gray-200 mt-2" data-v-1cd67647></div></div><div class="flex-1" data-v-1cd67647><h3 class="font-semibold text-gray-800" data-v-1cd67647>传统吧唧阶段</h3><p class="text-sm text-gray-600 mt-1" data-v-1cd67647> 最初的吧唧只是简单的卡片形象收藏品，通常采用PVC或亚克力等材质制作，主要用于展示或收藏，互动性较低。 </p></div></div><div class="flex" data-v-1cd67647><div class="w-24 flex-shrink-0 flex flex-col items-center" data-v-1cd67647><div class="w-8 h-8 rounded-full bg-purple-500 text-white flex items-center justify-center text-sm" data-v-1cd67647>2</div><div class="w-0.5 h-full bg-gray-200 mt-2" data-v-1cd67647></div></div><div class="flex-1" data-v-1cd67647><h3 class="font-semibold text-gray-800" data-v-1cd67647>智能交互阶段</h3><p class="text-sm text-gray-600 mt-1" data-v-1cd67647> 随着移动互联网的发展，吧唧开始加入NFC技术，可以通过手机扫描解锁数字内容，如语音、专属壁纸等，增加了互动体验。 </p></div></div><div class="flex" data-v-1cd67647><div class="w-24 flex-shrink-0 flex flex-col items-center" data-v-1cd67647><div class="w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center text-sm" data-v-1cd67647>3</div><div class="w-0.5 h-full bg-gray-200 mt-2" data-v-1cd67647></div></div><div class="flex-1" data-v-1cd67647><h3 class="font-semibold text-gray-800" data-v-1cd67647>功能实用阶段</h3><p class="text-sm text-gray-600 mt-1" data-v-1cd67647> 吧唧开始向实用功能方向发展，融合了蓝牙音箱、行动电源等功能，不再仅仅是装饰品，而是具有日常实用价值的随身物品。 </p></div></div><div class="flex" data-v-1cd67647><div class="w-24 flex-shrink-0 flex flex-col items-center" data-v-1cd67647><div class="w-8 h-8 rounded-full bg-pink-500 text-white flex items-center justify-center text-sm" data-v-1cd67647>4</div></div><div class="flex-1" data-v-1cd67647><h3 class="font-semibold text-gray-800" data-v-1cd67647>现在：超感体验阶段</h3><p class="text-sm text-gray-600 mt-1" data-v-1cd67647> 现在的吧唧产品已经融合了AI、传感器技术、全息投影等前沿科技，不仅能感知用户情绪，还能提供陪伴和互动，成为连接现实与虚拟世界的桥梁，为用户带来全方位的沉浸式体验。 </p></div></div></div></div></div>',1))]))}},Bw=Ee(Pw,[["__scopeId","data-v-1cd67647"]]),Lw={class:"pb-16"},Ew={class:"flex min-h-screen bg-gray-50 mt-6"},Dw={class:"w-[100px] flex-shrink-0 bg-white border-r border-gray-200"},Rw={class:"sticky top-0"},Ow=["onClick"],zw={class:"flex-1 p-2"},Hw={key:0,class:"grid grid-cols-1 gap-3"},Nw=["onClick"],Uw={class:"w-20 h-20 overflow-hidden flex-shrink-0"},Fw=["src"],Vw={class:"flex-1 px-3 py-2 flex flex-col justify-between"},qw={class:"font-medium text-gray-800 line-clamp-1"},Zw={class:"text-xs text-gray-500 mt-1 line-clamp-1"},Gw={class:"flex justify-between items-center"},Ww={class:"text-pink-500 font-medium"},Kw={key:0,class:"py-10 text-center text-gray-500"},Jw={key:1,class:"grid grid-cols-1 gap-3"},Yw=["onClick"],Qw={class:"text-lg font-medium text-gray-800"},Xw={class:"fixed bottom-20 right-4"},eb={class:"relative"},tb={key:0,class:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"},sb={__name:"Categories",setup(e){const s=ve(),o=Nt(),n=P([{id:1,name:"正品商城",active:!0},{id:2,name:"循环集市",active:!1}]),i=P([{id:101,name:"随身听吧唧",price:129,image:"/virtual/portable-music-bucky.jpg",category:1,description:"ACG歌曲向吧唧，可随身携带，支持无线蓝牙连接，内置高保真音质芯片。",features:["超长续航","蓝牙5.0","高保真音质","可爱外观"],colors:["粉色","蓝色","黄色"],stock:58},{id:102,name:"悬浮幻音吧唧",price:199,image:"/virtual/floating-music-bucky.jpg",category:1,description:"ACG歌曲向吧唧高级版，支持悬浮播放，360°环绕立体声，营造沉浸式听歌体验。",features:["磁悬浮技术","环绕立体声","多彩氛围灯","智能手势控制"],colors:["星空蓝","樱花粉","夜光白"],stock:32},{id:201,name:"情绪映画吧唧",price:149,image:"/virtual/emotion-display-bucky.jpg",category:1,description:"情绪向吧唧，能感知用户情绪变化，自动播放舒缓音乐和投影温馨画面。",features:["情绪识别","舒缓音乐库","星空投影","智能语音助手"],colors:["暖阳黄","治愈绿","安静蓝"],stock:45},{id:202,name:"微笑治愈吧唧",price:159,image:"/virtual/smile-healing-bucky.jpg",category:1,description:"情绪向吧唧，专为减压设计，会说暖心话语，提供治愈小游戏和放松训练。",features:["减压游戏","暖心对话","冥想指导","智能陪伴"],colors:["暖橙色","薰衣草紫","天空蓝"],stock:39},{id:301,name:"动画风扇吧唧",price:139,image:"/virtual/anime-fan-bucky.jpg",category:1,description:"日常向吧唧，集成动漫资讯、番剧提醒、周边上新通知等功能于一体。",features:["动漫资讯","番剧日历","新番提醒","周边收藏"],colors:["二次元粉","宅家蓝","元气橙"],stock:61},{id:302,name:"回忆投影吧唧",price:179,image:"/virtual/memory-projection-bucky.jpg",category:1,description:"日常向吧唧，能记录生活点滴，支持照片、视频录制，并可投影展示珍贵回忆。",features:["高清投影","智能相册","云端备份","语音记事"],colors:["回忆白","时光金","梦幻紫"],stock:37},{id:401,name:"电子伙伴吧唧",price:169,image:"/virtual/electronic-companion-bucky.jpg",category:1,description:"陪伴向吧唧，拥有AI聊天功能，能理解用户情绪，提供24小时不间断陪伴。",features:["AI对话","情感交流","个性化回应","睡前故事"],colors:["暖心粉","知心蓝","安心绿"],stock:42},{id:402,name:"联机守护吧唧",price:189,image:"/virtual/multiplayer-guardian-bucky.jpg",category:1,description:"陪伴向吧唧高级版，支持多人联机，能与朋友家的吧唧互动，共享生活乐趣。",features:["多设备联动","好友互动","语音通话","协同游戏"],colors:["社交橙","联机绿","互动紫"],stock:28},{id:501,name:"二手随身听吧唧",price:79,image:"/virtual/portable-music-bucky.jpg",category:2,description:"循环利用的ACG歌曲向吧唧，性能良好，已消毒杀菌，支持7天无理由退换。",features:["翻新保证","性能检测","七天保障","环保认证"],colors:["粉色","蓝色"],stock:15},{id:502,name:"二手悬浮幻音吧唧",price:119,image:"/virtual/floating-music-bucky.jpg",category:2,description:"二手悬浮型ACG歌曲向吧唧，悬浮功能完好，音质清晰，支持专业质检报告。",features:["官方检修","原厂配件","质保三个月","赠送收纳盒"],colors:["星空蓝","樱花粉"],stock:8}]),r=P(n.value[0]),l=[{id:1,name:"同城闲换",path:"/local-exchange"},{id:2,name:"藏品竞拍",path:"/collectibles-auction"}],a=U(()=>i.value.filter(b=>b.category===r.value.id)),d=U(()=>o.cartCount),m=b=>{n.value.forEach(c=>{c.active=c.id===b.id}),r.value=b},u=b=>{b.target.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+CiAgPHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNmOGYwZmYiLz4KICA8dGV4dCB4PSIxMDAiIHk9IjEwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBhbGlnbm1lbnQtYmFzZWxpbmU9Im1pZGRsZSIgZmlsbD0iIzljNTJmZiI+5Zu+54mH5Yqg6L295LitPC90ZXh0PgogIDxjaXJjbGUgY3g9IjEwMCIgY3k9IjcwIiByPSIyMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOWM1MmZmIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBkPSJNNzAsOTAgTDEzMCw5MCBMMTUwLDEzMCBMNTAsMTMwIFoiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzljNTJmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg=="},f=(b,c)=>{b.stopPropagation(),s.push({name:"ProductDetail",params:{id:c.id}}),localStorage.setItem("current_product",JSON.stringify(c))},h=b=>{s.push(b.path)},w=()=>{s.push("/cart")};return me(()=>{o.loadCartItems()}),(b,c)=>(p(),v("div",Lw,[t("div",Ew,[t("div",Dw,[t("div",Rw,[(p(!0),v(G,null,ee(n.value,g=>(p(),v("div",{key:g.id,onClick:y=>m(g),class:Q(["py-4 text-center cursor-pointer border-b border-gray-100",g.active?"bg-yellow-50 text-pink-500 font-medium border-l-4 border-l-pink-500":"text-gray-700"])},x(g.name),11,Ow))),128))])]),t("div",zw,[r.value.id===1?(p(),v("div",Hw,[(p(!0),v(G,null,ee(a.value,g=>(p(),v("div",{key:g.id,class:"bg-white rounded border border-gray-200 overflow-hidden flex h-20 cursor-pointer",onClick:y=>f(y,g)},[t("div",Uw,[t("img",{src:g.image,onError:u,class:"w-full h-full object-cover",alt:"Product Image"},null,40,Fw)]),t("div",Vw,[t("div",null,[t("h3",qw,x(g.name),1),t("p",Zw,x(g.description),1)]),t("div",Gw,[t("div",Ww," ¥"+x(g.price.toFixed(2)),1)])])],8,Nw))),128)),a.value.length===0?(p(),v("div",Kw," 该分类下暂无商品 ")):D("",!0)])):D("",!0),r.value.id===2?(p(),v("div",Jw,[(p(),v(G,null,ee(l,g=>t("div",{key:g.id,onClick:y=>h(g),class:"bg-white border border-gray-200 overflow-hidden h-24 cursor-pointer flex items-center justify-center transition hover:bg-gray-50"},[t("h3",Qw,x(g.name),1)],8,Yw)),64))])):D("",!0)])]),t("div",Xw,[t("button",{onClick:w,class:"w-12 h-12 bg-pink-500 rounded-full flex items-center justify-center shadow-lg"},[t("div",eb,[c[0]||(c[0]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),d.value>0?(p(),v("div",tb,x(d.value),1)):D("",!0)])])])]))}},ob=Ee(sb,[["__scopeId","data-v-398c07a9"]]),nb={class:"pb-16 bg-gray-50 min-h-screen"},rb={class:"sticky top-0 z-10 bg-white border-b border-gray-200"},ib={class:"px-4 py-2 flex items-center"},lb={class:"ml-auto"},ab={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},db={class:"bg-white w-full rounded-t-lg max-h-[70vh] overflow-y-auto"},ub={class:"p-4"},cb=["onClick"],fb={class:"p-4 border-t border-gray-200"},pb={class:"px-4 py-3 space-y-4 mt-2"},vb={class:"flex p-3"},mb={class:"w-24 h-24 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0"},gb=["src"],hb={class:"ml-3 flex-1"},xb={class:"flex justify-between items-start"},yb={class:"font-medium text-gray-800"},wb={class:"text-sm text-pink-500"},bb={class:"mt-1 text-sm text-gray-600 line-clamp-2"},kb={class:"mt-2 flex items-center text-xs text-gray-500"},_b={class:"px-3 py-2 bg-gray-50 border-t border-gray-100"},$b={class:"flex justify-between items-center"},Cb={class:"text-xs text-gray-600"},jb=["onClick"],Ib={__name:"LocalExchange",setup(e){const s=ve(),o=P("上海市"),n=P(["上海市","北京市","广州市","深圳市","杭州市","成都市"]),i=P(!1),r=P([{id:1,name:"随身听吧唧",image:"/virtual/portable-music-bucky.jpg",condition:"9成新",owner:"二次元控",description:"去年购入的随身听吧唧，使用频率不高，无明显磨损，功能完好。",expectation:"希望交换其他款式的吧唧或者手办",distance:1.2,postDate:"2023-05-10"},{id:2,name:"情绪映画吧唧",image:"/virtual/emotion-display-bucky.jpg",condition:"8.5成新",owner:"治愈系少女",description:"情绪向吧唧，已使用半年，有轻微使用痕迹，情绪识别功能仍然灵敏。",expectation:"想要交换陪伴向吧唧或相关周边",distance:2.5,postDate:"2023-05-18"},{id:3,name:"联机守护吧唧",image:"/virtual/multiplayer-guardian-bucky.jpg",condition:"全新",owner:"ACG爱好者",description:"刚买不久的陪伴向吧唧高级版，拆封但未使用，送礼多买了一个想换其他系列。",expectation:"希望交换悬浮幻音吧唧或其他音乐向吧唧",distance:3.8,postDate:"2023-05-22"},{id:4,name:"回忆投影吧唧",image:"/virtual/memory-projection-bucky.jpg",condition:"9.5成新",owner:"时光收藏家",description:"使用不到一个月的投影吧唧，几乎全新，功能完好，附赠原装收纳盒。",expectation:"希望交换其他日常向吧唧或者同等价值的ACG周边",distance:1.7,postDate:"2023-05-25"}]),l=m=>{o.value=m,i.value=!1},a=m=>{m.target.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+CiAgPHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNmOGYwZmYiLz4KICA8dGV4dCB4PSIxMDAiIHk9IjEwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBhbGlnbm1lbnQtYmFzZWxpbmU9Im1pZGRsZSIgZmlsbD0iIzljNTJmZiI+5Zu+54mH5Yqg6L295LitPC90ZXh0PgogIDxjaXJjbGUgY3g9IjEwMCIgY3k9IjcwIiByPSIyMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOWM1MmZmIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBkPSJNNzAsOTAgTDEzMCw5MCBMMTUwLDEzMCBMNTAsMTMwIFoiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzljNTJmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg=="},d=m=>{alert(`即将联系「${m.owner}」交换「${m.name}」`)};return me(()=>{}),(m,u)=>(p(),v("div",nb,[t("div",rb,[t("div",ib,[t("button",{onClick:u[0]||(u[0]=f=>de(s).go(-1)),class:"mr-4 p-1"},u[3]||(u[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),u[5]||(u[5]=t("h1",{class:"text-lg font-bold"},"同城闲换",-1)),t("div",lb,[t("button",{class:"flex items-center text-sm text-gray-700",onClick:u[1]||(u[1]=f=>i.value=!0)},[we(x(o.value)+" ",1),u[4]||(u[4]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))])])])]),i.value?(p(),v("div",ab,[t("div",db,[u[6]||(u[6]=t("div",{class:"p-4 border-b border-gray-200"},[t("h2",{class:"text-lg font-medium text-center"},"选择城市")],-1)),t("div",ub,[(p(!0),v(G,null,ee(n.value,f=>(p(),v("div",{key:f,onClick:h=>l(f),class:"py-3 border-b border-gray-100 last:border-b-0 flex items-center justify-center"},[t("span",{class:Q({"text-pink-500 font-medium":f===o.value})},x(f),3)],8,cb))),128))]),t("div",fb,[t("button",{onClick:u[2]||(u[2]=f=>i.value=!1),class:"w-full py-2 bg-gray-100 rounded-lg text-gray-700"}," 取消 ")])])])):D("",!0),u[9]||(u[9]=t("div",{class:"px-4 py-3 bg-white mt-2"},[t("p",{class:"text-sm text-gray-600"},"在同城闲换中，你可以与附近的二次元爱好者交换闲置的吧唧和周边，让闲置物品获得新生。")],-1)),t("div",pb,[(p(!0),v(G,null,ee(r.value,f=>(p(),v("div",{key:f.id,class:"bg-white rounded-lg overflow-hidden border border-gray-200"},[t("div",vb,[t("div",mb,[t("img",{src:f.image,class:"w-full h-full object-cover",onError:a,alt:"交换物品"},null,40,gb)]),t("div",hb,[t("div",xb,[t("h3",yb,x(f.name),1),t("span",wb,x(f.condition),1)]),t("p",bb,x(f.description),1),t("div",kb,[t("span",null,x(f.owner),1),u[7]||(u[7]=t("span",{class:"mx-1"},"•",-1)),t("span",null,x(f.distance)+"km",1),u[8]||(u[8]=t("span",{class:"mx-1"},"•",-1)),t("span",null,x(f.postDate),1)])])]),t("div",_b,[t("div",$b,[t("p",Cb,x(f.expectation),1),t("button",{onClick:h=>d(f),class:"px-4 py-1 bg-pink-500 text-white text-sm rounded-full"}," 联系交换 ",8,jb)])])]))),128))]),u[10]||(u[10]=t("div",{class:"fixed bottom-4 right-4"},[t("button",{class:"w-12 h-12 bg-pink-500 rounded-full flex items-center justify-center shadow-lg"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])])],-1))]))}},Mb=Ee(Ib,[["__scopeId","data-v-d06d0697"]]),Sb={class:"pb-16 bg-gray-50 min-h-screen"},Ab={class:"sticky top-0 z-10 bg-white border-b border-gray-200"},Tb={class:"px-4 py-2 flex items-center"},Pb={class:"overflow-x-auto whitespace-nowrap px-2 py-2 border-t border-gray-100 flex"},Bb=["onClick"],Lb={class:"px-4 py-3 space-y-4 mt-2"},Eb=["onClick"],Db={class:"w-24 h-24 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0"},Rb=["src"],Ob={class:"ml-3 flex-1"},zb={class:"flex justify-between items-start"},Hb={class:"font-medium text-gray-800"},Nb={class:"mt-1 text-sm text-gray-600 line-clamp-2"},Ub={class:"mt-2 flex items-center justify-between"},Fb={class:"text-xs text-gray-500"},Vb={class:"flex items-center text-red-500 text-xs"},qb={class:"px-3 py-2 bg-gray-50 border-t border-gray-100"},Zb={class:"flex justify-between items-center"},Gb={class:"text-red-500 font-medium"},Wb={class:"text-xs text-gray-500"},Kb=["onClick"],Jb={key:0,class:"py-10 text-center text-gray-500"},Yb={__name:"CollectiblesAuction",setup(e){const s=ve(),o=ge(),n=U(()=>o.isLoggedIn),i=P([{id:1,name:"全部"},{id:2,name:"手办"},{id:3,name:"吧唧"},{id:4,name:"漫画"},{id:5,name:"周边"}]),r=P(i.value[0]),l=P([{id:1,name:"限量版随身听吧唧",image:"/virtual/portable-music-bucky.jpg",currentPrice:258,startingPrice:99,endTime:new Date(Date.now()+3*3600*1e3),bidCount:15,seller:"ACG珍藏家",description:"2022年限量版随身听吧唧，全球限量500个，附带编号证书，几乎全新。",category:3},{id:2,name:"签名版情绪映画吧唧",image:"/virtual/emotion-display-bucky.jpg",currentPrice:567,startingPrice:299,endTime:new Date(Date.now()+8*3600*1e3),bidCount:28,seller:"治愈收藏控",description:"原创画师签名款情绪映画吧唧，包含专属定制皮肤，品相完好，盒装完整。",category:3},{id:3,name:"初音未来 2023限定手办",image:"/products/anime-figure.jpg",currentPrice:899,startingPrice:499,endTime:new Date(Date.now()+24*3600*1e3),bidCount:42,seller:"初音粉丝团",description:"2023年初音未来雪祭限定版手办，1/7比例，全新未拆封，日本直邮。",category:2},{id:4,name:"回忆投影吧唧珍藏版",image:"/virtual/memory-projection-bucky.jpg",currentPrice:325,startingPrice:149,endTime:new Date(Date.now()+5*3600*1e3),bidCount:19,seller:"时光收藏家",description:"首发珍藏版回忆投影吧唧，含限量贴纸和收藏证书，9.5成新。",category:3}]),a=U(()=>r.value.id===1?l.value:l.value.filter(w=>w.category===r.value.id)),d=w=>{r.value=w},m=w=>{w.target.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+CiAgPHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNmOGYwZmYiLz4KICA8dGV4dCB4PSIxMDAiIHk9IjEwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBhbGlnbm1lbnQtYmFzZWxpbmU9Im1pZGRsZSIgZmlsbD0iIzljNTJmZiI+5Zu+54mH5Yqg6L295LitPC90ZXh0PgogIDxjaXJjbGUgY3g9IjEwMCIgY3k9IjcwIiByPSIyMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOWM1MmZmIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBkPSJNNzAsOTAgTDEzMCw5MCBMMTUwLDEzMCBMNTAsMTMwIFoiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzljNTJmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg=="},u=w=>{const c=w-new Date;if(c<=0)return"已结束";const g=Math.floor(c/(1e3*60*60)),y=Math.floor(c%(1e3*60*60)/(1e3*60));return g>0?`${g}小时${y}分钟`:`${y}分钟`},f=w=>{localStorage.setItem("selected_auction_item",JSON.stringify(w)),s.push(`/auction-detail/${w.id}`)},h=w=>{if(!n.value){s.push("/login");return}const b=prompt(`当前价: ¥${w.currentPrice.toFixed(2)}
请输入您的出价（必须高于当前价）：`);b&&!isNaN(b)&&parseFloat(b)>w.currentPrice?(alert(`竞价成功！您已出价 ¥${parseFloat(b).toFixed(2)}`),w.currentPrice=parseFloat(b),w.bidCount+=1):b&&alert("出价必须高于当前价格")};return me(()=>{}),(w,b)=>(p(),v("div",Sb,[t("div",Ab,[t("div",Tb,[t("button",{onClick:b[0]||(b[0]=c=>de(s).go(-1)),class:"mr-4 p-1"},b[1]||(b[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),b[2]||(b[2]=t("h1",{class:"text-lg font-bold"},"藏品竞拍",-1))]),t("div",Pb,[(p(!0),v(G,null,ee(i.value,c=>(p(),v("button",{key:c.id,onClick:g=>d(c),class:Q(["px-4 py-1 mx-1 rounded-full text-sm",r.value.id===c.id?"bg-indigo-100 text-indigo-600 font-medium":"bg-gray-50 text-gray-500"])},x(c.name),11,Bb))),128))])]),b[6]||(b[6]=t("div",{class:"px-4 py-3 bg-white mt-2"},[t("p",{class:"text-sm text-gray-600"},"在藏品竞拍中，你可以参与稀有二次元周边的竞拍，获得珍贵的收藏品。每件拍品均经过严格品质检测和真伪鉴定。")],-1)),t("div",Lb,[(p(!0),v(G,null,ee(a.value,c=>(p(),v("div",{key:c.id,class:"bg-white rounded-lg overflow-hidden border border-gray-200"},[t("div",{class:"flex p-3",onClick:g=>f(c)},[t("div",Db,[t("img",{src:c.image,class:"w-full h-full object-cover",onError:m,alt:"竞拍商品"},null,40,Rb)]),t("div",Ob,[t("div",zb,[t("h3",Hb,x(c.name),1),b[3]||(b[3]=t("span",{class:"text-xs bg-red-50 text-red-500 px-2 py-0.5 rounded-full"},"热拍中",-1))]),t("p",Nb,x(c.description),1),t("div",Ub,[t("div",Fb,[t("span",null,x(c.bidCount)+"次出价",1),b[4]||(b[4]=t("span",{class:"mx-1"},"•",-1)),t("span",null,x(c.seller),1)]),t("div",Vb,[b[5]||(b[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),we(" 剩余"+x(u(c.endTime)),1)])])])],8,Eb),t("div",qb,[t("div",Zb,[t("div",null,[t("div",Gb,"¥"+x(c.currentPrice.toFixed(2)),1),t("div",Wb,"起拍价: ¥"+x(c.startingPrice.toFixed(2)),1)]),t("button",{onClick:g=>h(c),class:"px-4 py-1 bg-indigo-600 text-white text-sm rounded-full"}," 参与竞拍 ",8,Kb)])])]))),128)),a.value.length===0?(p(),v("div",Jb," 当前分类暂无竞拍藏品 ")):D("",!0)]),b[7]||(b[7]=t("div",{class:"fixed bottom-4 right-4"},[t("button",{class:"h-10 px-4 bg-white border border-indigo-600 text-indigo-600 rounded-full flex items-center justify-center shadow-sm"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})]),we(" 我的竞拍 ")])],-1))]))}},Qb=Ee(Yb,[["__scopeId","data-v-2934e730"]]),Xb={class:"pb-16 bg-gray-50 min-h-screen"},e3={class:"sticky top-0 z-10 bg-white border-b border-gray-200"},t3={class:"px-4 py-2 flex items-center"},s3={key:0,class:"flex justify-center items-center h-40"},o3={key:1,class:"pb-20"},n3={class:"bg-white"},r3={class:"aspect-square relative"},i3=["src"],l3={class:"px-4 py-3 bg-white mt-2"},a3={class:"flex items-center justify-between"},d3={class:"text-xl font-medium text-gray-800"},u3={key:0,class:"px-2 py-1 bg-red-50 text-red-500 text-xs rounded-full"},c3={key:1,class:"px-2 py-1 bg-gray-100 text-gray-500 text-xs rounded-full"},f3={class:"mt-2"},p3={class:"text-red-500 text-2xl font-bold"},v3={class:"text-xs text-gray-500 mt-1"},m3={class:"flex items-center mt-3 text-sm"},g3={class:"flex items-center text-gray-500"},h3={class:"text-red-500 font-medium"},x3={class:"ml-auto"},y3={class:"mt-3 flex"},w3=["disabled"],b3={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},k3={class:"bg-white w-5/6 rounded-lg p-4"},_3={class:"mb-4"},$3={class:"text-sm text-gray-600 mb-2"},C3={class:"text-red-500 font-medium"},j3={class:"relative"},I3={key:0,class:"text-xs text-red-500 mt-1"},M3={class:"flex"},S3={class:"bg-white mt-2"},A3={class:"p-4"},T3={class:"mb-4"},P3={class:"text-sm text-gray-600 leading-relaxed"},B3={class:"mb-4"},L3={class:"bg-gray-50 rounded-lg p-3"},E3={class:"w-24 text-gray-500"},D3={class:"flex-1 text-gray-700"},R3={class:"bg-white mt-2"},O3={class:"p-4 border-b border-gray-200"},z3={class:"font-medium"},H3={class:"divide-y divide-gray-100"},N3={class:"flex items-center"},U3={class:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-sm text-gray-500"},F3={class:"ml-3"},V3={class:"text-sm font-medium"},q3={class:"text-xs text-gray-500"},Z3={class:"text-red-500 font-medium"},G3={key:0,class:"py-8 text-center text-gray-500 text-sm"},W3={key:2,class:"p-4 text-center"},K3={class:"py-10"},J3={__name:"AuctionDetail",setup(e){const s=nt(),o=ve(),n=ge();U(()=>n.isLoggedIn);const i=P(null),r=P(!0),l=P(""),a=P(""),d=P(!1),m=P([{id:1,user:"二次元爱好者",amount:99,time:new Date(Date.now()-12*3600*1e3)},{id:2,user:"ACG收藏家",amount:156,time:new Date(Date.now()-8*3600*1e3)},{id:3,user:"吧唧控",amount:199,time:new Date(Date.now()-5*3600*1e3)},{id:4,user:"萌物爱好者",amount:258,time:new Date(Date.now()-2*3600*1e3)}]),u=()=>{r.value=!0;try{const c=localStorage.getItem("selected_auction_item");if(c){i.value=JSON.parse(c),r.value=!1;return}setTimeout(()=>{i.value={id:s.params.id,name:"限量版随身听吧唧",image:"/virtual/portable-music-bucky.jpg",currentPrice:258,startingPrice:99,endTime:new Date(Date.now()+3*3600*1e3),bidCount:15,seller:"ACG珍藏家",description:"2022年限量版随身听吧唧，全球限量500个，附带编号证书，几乎全新。",category:3,condition:"9成新",specifications:[{name:"品牌",value:"ACG萌物"},{name:"型号",value:"BJ-2022-LTD"},{name:"限量编号",value:"#328/500"},{name:"制作年份",value:"2022年"},{name:"产品尺寸",value:"10cm × 12cm × 5cm"},{name:"保修期",value:"无 (二手商品)"}]},r.value=!1},500)}catch(c){console.error("加载竞拍商品数据失败:",c),r.value=!1}},f=U(()=>{if(!i.value)return{hours:0,minutes:0,seconds:0,text:""};const c=new Date,y=new Date(i.value.endTime)-c;if(y<=0)return{hours:0,minutes:0,seconds:0,text:"竞拍已结束"};const M=Math.floor(y/(1e3*60*60)),E=Math.floor(y%(1e3*60*60)/(1e3*60)),I=Math.floor(y%(1e3*60)/1e3);return{hours:M,minutes:E,seconds:I,text:`${M}小时${E}分钟${I}秒`}}),h=()=>{if(!l.value||isNaN(l.value)){a.value="请输入有效金额";return}const c=parseFloat(l.value);if(c<=i.value.currentPrice){a.value=`出价必须高于当前价格 ¥${i.value.currentPrice.toFixed(2)}`;return}a.value="",i.value.currentPrice=c,i.value.bidCount+=1,m.value.push({id:m.value.length+1,user:"我",amount:c,time:new Date}),l.value="",d.value=!1,alert("竞拍出价成功！")},w=c=>{const y=new Date-c;return y<60*1e3?"刚刚":y<60*60*1e3?`${Math.floor(y/(60*1e3))}分钟前`:y<24*60*60*1e3?`${Math.floor(y/(60*60*1e3))}小时前`:`${c.getMonth()+1}月${c.getDate()}日 ${c.getHours().toString().padStart(2,"0")}:${c.getMinutes().toString().padStart(2,"0")}`},b=c=>{c.target.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+CiAgPHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNmOGYwZmYiLz4KICA8dGV4dCB4PSIxMDAiIHk9IjEwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBhbGlnbm1lbnQtYmFzZWxpbmU9Im1pZGRsZSIgZmlsbD0iIzljNTJmZiI+5Zu+54mH5Yqg6L295LitPC90ZXh0PgogIDxjaXJjbGUgY3g9IjEwMCIgY3k9IjcwIiByPSIyMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOWM1MmZmIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBkPSJNNzAsOTAgTDEzMCw5MCBMMTUwLDEzMCBMNTAsMTMwIFoiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzljNTJmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg=="};return me(()=>{u();const c=setInterval(()=>{f.value.hours<=0&&f.value.minutes<=0&&f.value.seconds<=0&&clearInterval(c)},1e3);hn(()=>{clearInterval(c)})}),(c,g)=>(p(),v("div",Xb,[t("div",e3,[t("div",t3,[t("button",{onClick:g[0]||(g[0]=y=>de(o).go(-1)),class:"mr-4 p-1"},g[5]||(g[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),g[6]||(g[6]=t("h1",{class:"text-lg font-bold"},"竞拍详情",-1))])]),r.value?(p(),v("div",s3,g[7]||(g[7]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-t-2 border-indigo-600"},null,-1)]))):i.value?(p(),v("div",o3,[t("div",n3,[t("div",r3,[t("img",{src:i.value.image,class:"w-full h-full object-contain",onError:b,alt:"竞拍商品"},null,40,i3)])]),t("div",l3,[t("div",a3,[t("h2",d3,x(i.value.name),1),f.value.hours>0||f.value.minutes>0||f.value.seconds>0?(p(),v("span",u3," 热拍中 ")):(p(),v("span",c3," 已结束 "))]),t("div",f3,[t("div",p3,"¥"+x(i.value.currentPrice.toFixed(2)),1),t("div",v3,"起拍价: ¥"+x(i.value.startingPrice.toFixed(2)),1)]),t("div",m3,[t("div",g3,[g[8]||(g[8]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("span",h3,x(f.value.text),1)]),t("div",x3,[t("span",null,x(i.value.bidCount)+"次出价",1)])]),t("div",y3,[t("button",{onClick:g[1]||(g[1]=y=>d.value=!0),class:Q(["flex-1 py-2 bg-indigo-600 text-white rounded-full text-sm font-medium",{"opacity-50":f.value.hours<=0&&f.value.minutes<=0&&f.value.seconds<=0}]),disabled:f.value.hours<=0&&f.value.minutes<=0&&f.value.seconds<=0}," 立即出价 ",10,w3)])]),d.value?(p(),v("div",b3,[t("div",k3,[g[11]||(g[11]=t("h3",{class:"text-lg font-medium mb-4 text-center"},"竞拍出价",-1)),t("div",_3,[t("p",$3,[g[9]||(g[9]=we("当前最高价: ")),t("span",C3,"¥"+x(i.value.currentPrice.toFixed(2)),1)]),t("div",j3,[g[10]||(g[10]=t("span",{class:"absolute left-3 top-2 text-gray-500"},"¥",-1)),ue(t("input",{"onUpdate:modelValue":g[2]||(g[2]=y=>l.value=y),type:"text",class:"w-full px-8 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-center",placeholder:"请输入高于当前价格的金额"},null,512),[[ce,l.value]])]),a.value?(p(),v("p",I3,x(a.value),1)):D("",!0)]),t("div",M3,[t("button",{onClick:g[3]||(g[3]=y=>d.value=!1),class:"flex-1 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-medium mr-2"}," 取消 "),t("button",{onClick:h,class:"flex-1 py-2 bg-indigo-600 text-white rounded-full text-sm font-medium"}," 确认出价 ")])])])):D("",!0),t("div",S3,[g[15]||(g[15]=t("div",{class:"flex border-b border-gray-200"},[t("button",{class:"flex-1 py-3 font-medium text-center text-indigo-600 border-b-2 border-indigo-600"}," 竞拍详情 "),t("button",{class:"flex-1 py-3 text-gray-500 text-center"}," 出价记录 ")],-1)),t("div",A3,[t("div",T3,[g[12]||(g[12]=t("h4",{class:"text-base font-medium mb-2"},"商品描述",-1)),t("p",P3,x(i.value.description),1)]),t("div",B3,[g[13]||(g[13]=t("h4",{class:"text-base font-medium mb-2"},"商品规格",-1)),t("div",L3,[(p(!0),v(G,null,ee(i.value.specifications,(y,M)=>(p(),v("div",{key:M,class:"flex py-1.5 text-sm"},[t("span",E3,x(y.name),1),t("span",D3,x(y.value),1)]))),128))])]),g[14]||(g[14]=t("div",{class:"mb-4"},[t("h4",{class:"text-base font-medium mb-2"},"竞拍规则"),t("div",{class:"text-sm text-gray-600 leading-relaxed space-y-2"},[t("p",null,"1. 每次出价必须高于当前最高价。"),t("p",null,"2. 竞拍结束后，最高出价者将获得该藏品。"),t("p",null,"3. 请在竞拍成功后48小时内完成付款。"),t("p",null,"4. 如有疑问，请联系客服。")])],-1))])]),t("div",R3,[t("div",O3,[t("h3",z3,"出价记录 ("+x(m.value.length)+")",1)]),t("div",H3,[(p(!0),v(G,null,ee(m.value,y=>(p(),v("div",{key:y.id,class:"flex items-center justify-between px-4 py-3"},[t("div",N3,[t("div",U3,x(y.user.charAt(0)),1),t("div",F3,[t("div",V3,x(y.user),1),t("div",q3,x(w(y.time)),1)])]),t("div",Z3,"¥"+x(y.amount.toFixed(2)),1)]))),128)),m.value.length===0?(p(),v("div",G3," 暂无出价记录 ")):D("",!0)])])])):(p(),v("div",W3,[t("div",K3,[g[16]||(g[16]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 mx-auto text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),g[17]||(g[17]=t("p",{class:"mt-4 text-gray-500"},"竞拍商品不存在或已被删除",-1)),t("button",{onClick:g[4]||(g[4]=y=>de(o).push("/collectibles-auction")),class:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-full text-sm"}," 返回竞拍列表 ")])]))]))}},Y3=Ee(J3,[["__scopeId","data-v-ffa793c0"]]),Q3={class:"min-h-screen bg-white"},X3={class:"p-4"},e5={class:"grid grid-cols-2 gap-3"},t5=["onClick"],s5={class:"w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center mb-2"},o5={class:"text-2xl"},n5={class:"text-sm text-center"},r5={__name:"Services",setup(e){const s=ve(),o=P([{id:1,name:"随身听音乐吧唧",path:"/portable-music",icon:"🎵"},{id:2,name:"悬浮幻音吧唧",path:"/floating-music",icon:"🎧"},{id:3,name:"情绪映画吧唧",path:"/emotion-display",icon:"😊"},{id:4,name:"微笑治愈吧唧",path:"/smile-healing",icon:"💚"},{id:5,name:"动画风扇吧唧",path:"/anime-fan",icon:"🌟"},{id:6,name:"回忆投影吧唧",path:"/memory-projection",icon:"📷"},{id:7,name:"电子伙伴吧唧",path:"/electronic-companion",icon:"🤖"},{id:8,name:"联机守护吧唧",path:"/multiplayer-guardian",icon:"🎮"}]);P(o.value[0]);const n=()=>{s.push("/monthly-report")},i=()=>{s.push("/recycling")},r=()=>{s.push("/heart-rate-emotion")},l=a=>{a.path?s.push(a.path):alert(`${a.name}功能即将上线，敬请期待！`)};return me(()=>{}),(a,d)=>(p(),v("div",Q3,[d[4]||(d[4]=t("div",{class:"sticky top-0 z-10 bg-white border-b border-gray-200"},[t("div",{class:"px-4 py-3"},[t("h1",{class:"text-lg font-bold text-center"},"创意工坊")])],-1)),t("div",X3,[d[3]||(d[3]=t("div",{class:"bg-white rounded-lg shadow mb-4"},[t("div",{class:"p-4 text-center"},[t("p",{class:"text-sm text-gray-600"},"定制专属吧唧徽章，表达你的二次元个性")])],-1)),t("div",e5,[(p(!0),v(G,null,ee(o.value,m=>(p(),v("div",{key:m.id,onClick:u=>l(m),class:"border border-gray-200 rounded-lg shadow-sm p-4 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 transition"},[t("div",s5,[t("span",o5,x(m.icon),1)]),t("span",n5,x(m.name),1)],8,t5))),128))]),t("div",{class:"mt-6 space-y-3"},[t("div",{onClick:n,class:"border border-gray-200 rounded-lg p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50"},d[0]||(d[0]=[t("span",{class:"text-sm font-medium"},"月度报告",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])),t("div",{onClick:i,class:"border border-gray-200 rounded-lg p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50"},d[1]||(d[1]=[t("span",{class:"text-sm font-medium"},"回收救援编号",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])),t("div",{onClick:r,class:"border border-gray-200 rounded-lg p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50"},d[2]||(d[2]=[t("span",{class:"text-sm font-medium"},"心率与情绪",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]))])])]))}},i5=Ee(r5,[["__scopeId","data-v-8efeac2e"]]),l5={class:"min-h-screen bg-gray-50"},a5={class:"p-4 pb-20"},d5={class:"bg-white rounded-lg shadow p-4 mb-4"},u5={class:"text-center mb-2"},c5={class:"text-xl font-bold"},f5={class:"bg-white rounded-lg shadow p-4 mb-4"},p5={class:"grid grid-cols-2 gap-3"},v5={class:"bg-blue-50 p-3 rounded-lg"},m5={class:"text-xl font-bold text-blue-600"},g5={class:"bg-purple-50 p-3 rounded-lg"},h5={class:"text-xl font-bold text-purple-600"},x5={class:"mt-4"},y5={class:"flex h-6 rounded-full overflow-hidden"},w5={class:"flex text-xs text-gray-600 mt-1 justify-between"},b5={class:"bg-white rounded-lg shadow p-4 mb-4"},k5={class:"space-y-3"},_5={class:"flex justify-between items-center mb-1"},$5={class:"text-sm"},C5={class:"text-xs text-gray-500"},j5={class:"w-full bg-gray-200 rounded-full h-2"},I5={class:"bg-white rounded-lg shadow p-4 mb-4"},M5={class:"space-y-4"},S5={class:"flex justify-between items-center mb-1"},A5={class:"text-sm font-medium"},T5={class:"w-full bg-gray-200 rounded-full h-2"},P5={class:"flex justify-between py-2 border-b border-gray-100"},B5={class:"font-medium text-green-600"},L5={class:"flex justify-between py-2 border-b border-gray-100"},E5={class:"font-medium"},D5={class:"text-sm list-disc pl-5 space-y-1"},R5={class:"bg-white rounded-lg shadow p-4 mb-4"},O5={class:"space-y-3"},z5={class:"text-sm text-gray-700"},H5={class:"bg-white rounded-lg shadow p-4 mb-4"},N5={class:"space-y-3"},U5={class:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center mr-3"},F5={class:"text-purple-600 text-lg"},V5={class:"font-medium text-sm"},q5={class:"text-xs text-gray-500"};function Z5(e){const s=["#8A2BE2","#FF69B4","#4169E1","#B22222","#2E8B57"];return s[e%s.length]}const G5={__name:"MonthlyReport",setup(e){const s=ve(),o=P({month:"2023年5月",userName:"星野夜",totalUsageHours:78.5,totalInteractions:342,usageDistribution:{morning:25,afternoon:35,evening:40},mostUsedFeatures:[{name:"音乐吧唧",usage:42,percentage:35},{name:"情绪吧唧",usage:32,percentage:26},{name:"回忆吧唧",usage:22,percentage:18},{name:"守护吧唧",usage:15,percentage:12},{name:"其他功能",usage:11,percentage:9}],deviceStatus:{batteryHealth:92,systemStatus:"良好",lastMaintenanceCheck:"2023年4月15日",recommendedActions:["更新固件到最新版本","清洁传感器"]},lifestyleInsights:["您本月情绪较为稳定，平均幸福指数上升12%","夜间音乐使用频率增加，显示您对助眠音乐的需求提高","高频使用回忆投影功能，显示您珍视美好回忆","与上月相比，社交互动频率提升18%"],recommendations:[{title:"百变音符",desc:"根据您的音乐喜好，推荐新款音乐吧唧"},{title:"春日情绪",desc:"基于您的情绪波动，定制专属情绪管理方案"},{title:"星空投影",desc:"全新投影吧唧，为您带来沉浸式体验"}]}),n=()=>{s.push("/services")};return me(()=>{}),(i,r)=>(p(),v("div",l5,[t("div",{class:"sticky top-0 z-10 bg-white border-b border-gray-200"},[t("div",{class:"px-4 py-2 flex items-center"},[t("button",{onClick:n,class:"mr-4 p-1"},r[0]||(r[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),r[1]||(r[1]=t("h1",{class:"text-lg font-bold"},"月度报告",-1))])]),t("div",a5,[t("div",d5,[t("div",u5,[t("h2",c5,x(o.value.userName)+"的"+x(o.value.month)+"月度报告",1),r[2]||(r[2]=t("p",{class:"text-sm text-gray-500"},"吧唧生活方式分析",-1))]),r[3]||(r[3]=Me('<div class="flex items-center justify-center mt-3 space-x-1" data-v-39fb96e8><div class="h-1 w-2 bg-purple-300 rounded-full" data-v-39fb96e8></div><div class="h-1 w-3 bg-purple-400 rounded-full" data-v-39fb96e8></div><div class="h-1 w-6 bg-purple-500 rounded-full" data-v-39fb96e8></div><div class="h-1 w-8 bg-purple-600 rounded-full" data-v-39fb96e8></div><div class="h-1 w-6 bg-purple-500 rounded-full" data-v-39fb96e8></div><div class="h-1 w-3 bg-purple-400 rounded-full" data-v-39fb96e8></div><div class="h-1 w-2 bg-purple-300 rounded-full" data-v-39fb96e8></div></div>',1))]),t("div",f5,[r[7]||(r[7]=t("h3",{class:"font-medium mb-3"},"本月使用总览",-1)),t("div",p5,[t("div",v5,[r[4]||(r[4]=t("div",{class:"text-sm text-gray-600"},"总使用时长",-1)),t("div",m5,x(o.value.totalUsageHours)+"小时",1)]),t("div",g5,[r[5]||(r[5]=t("div",{class:"text-sm text-gray-600"},"交互次数",-1)),t("div",h5,x(o.value.totalInteractions)+"次",1)])]),t("div",x5,[r[6]||(r[6]=t("div",{class:"flex items-center justify-between mb-1"},[t("span",{class:"text-sm text-gray-600"},"使用时段分布")],-1)),t("div",y5,[t("div",{class:"bg-blue-400",style:Te(`width: ${o.value.usageDistribution.morning}%`)},null,4),t("div",{class:"bg-yellow-400",style:Te(`width: ${o.value.usageDistribution.afternoon}%`)},null,4),t("div",{class:"bg-indigo-500",style:Te(`width: ${o.value.usageDistribution.evening}%`)},null,4)]),t("div",w5,[t("span",null,"上午 ("+x(o.value.usageDistribution.morning)+"%)",1),t("span",null,"下午 ("+x(o.value.usageDistribution.afternoon)+"%)",1),t("span",null,"晚上 ("+x(o.value.usageDistribution.evening)+"%)",1)])])]),t("div",b5,[r[8]||(r[8]=t("h3",{class:"font-medium mb-3"},"高频使用场景",-1)),t("div",k5,[(p(!0),v(G,null,ee(o.value.mostUsedFeatures,(l,a)=>(p(),v("div",{key:a},[t("div",_5,[t("span",$5,x(l.name),1),t("span",C5,x(l.percentage)+"%",1)]),t("div",j5,[t("div",{class:"h-2 rounded-full",style:Te({width:`${l.percentage}%`,backgroundColor:Z5(a)})},null,4)])]))),128))]),r[9]||(r[9]=t("div",{class:"mt-4 text-xs text-gray-500"}," 您最常使用的功能是音乐吧唧，占总使用时间的35%，比上个月提升了5%。 ",-1))]),t("div",I5,[r[14]||(r[14]=t("h3",{class:"font-medium mb-3"},"设备状态",-1)),t("div",M5,[t("div",null,[t("div",S5,[r[10]||(r[10]=t("span",{class:"text-sm"},"电池健康",-1)),t("span",A5,x(o.value.deviceStatus.batteryHealth)+"%",1)]),t("div",T5,[t("div",{class:"bg-green-500 h-2 rounded-full",style:Te(`width: ${o.value.deviceStatus.batteryHealth}%`)},null,4)])]),t("div",P5,[r[11]||(r[11]=t("span",{class:"text-gray-600"},"系统状态",-1)),t("span",B5,x(o.value.deviceStatus.systemStatus),1)]),t("div",L5,[r[12]||(r[12]=t("span",{class:"text-gray-600"},"上次检查",-1)),t("span",E5,x(o.value.deviceStatus.lastMaintenanceCheck),1)]),t("div",null,[r[13]||(r[13]=t("div",{class:"text-sm text-gray-600 mb-2"},"建议操作：",-1)),t("ul",D5,[(p(!0),v(G,null,ee(o.value.deviceStatus.recommendedActions,(l,a)=>(p(),v("li",{key:a},x(l),1))),128))])])])]),t("div",R5,[r[15]||(r[15]=t("h3",{class:"font-medium mb-3"},"生活方式洞察",-1)),t("div",O5,[(p(!0),v(G,null,ee(o.value.lifestyleInsights,(l,a)=>(p(),v("div",{key:a,class:"flex p-2 border-l-4 border-indigo-400 bg-indigo-50 rounded-r"},[t("span",z5,x(l),1)]))),128))])]),t("div",H5,[r[16]||(r[16]=t("h3",{class:"font-medium mb-3"},"为您推荐",-1)),t("div",N5,[(p(!0),v(G,null,ee(o.value.recommendations,(l,a)=>(p(),v("div",{key:a,class:"border border-gray-200 rounded-lg p-3 flex items-center"},[t("div",U5,[t("span",F5,x(a+1),1)]),t("div",null,[t("div",V5,x(l.title),1),t("div",q5,x(l.desc),1)])]))),128))])])])]))}},W5=Ee(G5,[["__scopeId","data-v-39fb96e8"]]),K5={class:"min-h-screen bg-gray-50"},J5={class:"p-4"},Y5={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4"},Q5={class:"mt-3 bg-white p-3 rounded border border-green-200"},X5={class:"text-lg font-bold text-green-600"},ek={key:1,class:"bg-white rounded-lg shadow p-4"},tk={class:"space-y-4"},sk={key:0,class:"mt-1 text-xs text-red-500"},ok={key:0,class:"mt-1 text-xs text-red-500"},nk={key:0,class:"mt-1 text-xs text-red-500"},rk=["value"],ik={key:0,class:"mt-1 text-xs text-red-500"},lk={__name:"Recycling",setup(e){const s=ve(),o=P({name:"",phone:"",address:"",productType:"",productModel:"",purchaseDate:"",reason:"",images:[]}),n=P(["随身听吧唧","悬浮幻音吧唧","情绪映画吧唧","微笑治愈吧唧","动画风扇吧唧","回忆投影吧唧","电子伙伴吧唧","联机守护吧唧","其他吧唧产品"]),i=P({}),r=P(!1),l=P(""),a=()=>{s.push("/services")},d=()=>{if(i.value={},o.value.name||(i.value.name="请输入姓名"),o.value.phone?/^\d{11}$/.test(o.value.phone)||(i.value.phone="请输入有效的手机号码"):i.value.phone="请输入联系电话",o.value.address||(i.value.address="请输入回收地址"),o.value.productType||(i.value.productType="请选择产品类型"),Object.keys(i.value).length>0)return;const m=new Date,u=m.getFullYear(),f=String(m.getMonth()+1).padStart(2,"0"),h=String(m.getDate()).padStart(2,"0"),w=Math.floor(Math.random()*1e4).toString().padStart(4,"0");l.value=`RCY-${u}${f}${h}-${w}`,r.value=!0,console.log("提交回收申请:",o.value)};return me(()=>{}),(m,u)=>(p(),v("div",K5,[t("div",{class:"sticky top-0 z-10 bg-white border-b border-gray-200"},[t("div",{class:"px-4 py-2 flex items-center"},[t("button",{onClick:a,class:"mr-4 p-1"},u[7]||(u[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),u[8]||(u[8]=t("h1",{class:"text-lg font-bold"},"回收救援编号",-1))])]),t("div",J5,[u[21]||(u[21]=t("div",{class:"bg-white rounded-lg shadow p-4 mb-4"},[t("h2",{class:"font-bold text-lg mb-2"},"吧唧产品回收计划"),t("p",{class:"text-sm text-gray-600 mb-2"}," 为了减少电子废弃物对环境的影响，我们推出了吧唧产品回收计划。无论您的吧唧产品是否正常工作，我们都会妥善处理，实现资源再利用。 "),t("p",{class:"text-sm text-gray-600"}," 填写以下表单申请回收，我们将为您生成回收救援编号，安排专业人员上门回收。 ")],-1)),r.value?(p(),v("div",Y5,[u[11]||(u[11]=Me('<div class="flex items-center mb-2" data-v-0cba5657><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2" viewBox="0 0 20 20" fill="currentColor" data-v-0cba5657><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-0cba5657></path></svg><span class="font-medium text-green-700" data-v-0cba5657>回收申请提交成功！</span></div><p class="text-sm text-gray-600 mb-2" data-v-0cba5657>我们已收到您的回收申请，将在1-3个工作日内安排专业人员与您联系，确认回收详情。</p>',2)),t("div",Q5,[u[9]||(u[9]=t("p",{class:"text-sm text-gray-700"},"您的回收救援编号：",-1)),t("p",X5,x(l.value),1),u[10]||(u[10]=t("p",{class:"text-xs text-gray-500 mt-1"},"请保存此编号，以便后续查询回收进度",-1))])])):D("",!0),r.value?D("",!0):(p(),v("div",ek,[u[20]||(u[20]=t("h3",{class:"font-medium mb-4"},"回收申请表单",-1)),t("div",tk,[t("div",null,[u[12]||(u[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"姓名",-1)),ue(t("input",{"onUpdate:modelValue":u[0]||(u[0]=f=>o.value.name=f),type:"text",class:Q(["w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",{"border-red-300":i.value.name}]),placeholder:"请输入您的姓名"},null,2),[[ce,o.value.name]]),i.value.name?(p(),v("p",sk,x(i.value.name),1)):D("",!0)]),t("div",null,[u[13]||(u[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"联系电话",-1)),ue(t("input",{"onUpdate:modelValue":u[1]||(u[1]=f=>o.value.phone=f),type:"tel",class:Q(["w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",{"border-red-300":i.value.phone}]),placeholder:"请输入您的联系电话"},null,2),[[ce,o.value.phone]]),i.value.phone?(p(),v("p",ok,x(i.value.phone),1)):D("",!0)]),t("div",null,[u[14]||(u[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"回收地址",-1)),ue(t("input",{"onUpdate:modelValue":u[2]||(u[2]=f=>o.value.address=f),type:"text",class:Q(["w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",{"border-red-300":i.value.address}]),placeholder:"请输入详细回收地址"},null,2),[[ce,o.value.address]]),i.value.address?(p(),v("p",nk,x(i.value.address),1)):D("",!0)]),t("div",null,[u[16]||(u[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"产品类型",-1)),ue(t("select",{"onUpdate:modelValue":u[3]||(u[3]=f=>o.value.productType=f),class:Q(["w-full px-3 py-2 border rounded-md bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",{"border-red-300":i.value.productType}])},[u[15]||(u[15]=t("option",{value:""},"请选择产品类型",-1)),(p(!0),v(G,null,ee(n.value,f=>(p(),v("option",{key:f,value:f},x(f),9,rk))),128))],2),[[nl,o.value.productType]]),i.value.productType?(p(),v("p",ik,x(i.value.productType),1)):D("",!0)]),t("div",null,[u[17]||(u[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"产品型号（可选）",-1)),ue(t("input",{"onUpdate:modelValue":u[4]||(u[4]=f=>o.value.productModel=f),type:"text",class:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"请输入产品型号（如有）"},null,512),[[ce,o.value.productModel]])]),t("div",null,[u[18]||(u[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"购买日期（可选）",-1)),ue(t("input",{"onUpdate:modelValue":u[5]||(u[5]=f=>o.value.purchaseDate=f),type:"date",class:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[ce,o.value.purchaseDate]])]),t("div",null,[u[19]||(u[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"回收原因（可选）",-1)),ue(t("textarea",{"onUpdate:modelValue":u[6]||(u[6]=f=>o.value.reason=f),rows:"3",class:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"请简要描述回收原因，如：产品损坏、不再使用等"},null,512),[[ce,o.value.reason]])]),t("div",{class:"mt-6"},[t("button",{onClick:d,class:"w-full py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition"}," 提交回收申请 ")])])]))])]))}},ak=Ee(lk,[["__scopeId","data-v-0cba5657"]]),dk={class:"min-h-screen bg-gray-50"},uk={class:"sticky top-0 z-10 bg-white border-b border-gray-200"},ck={class:"px-4 py-2 flex items-center"},fk={class:"text-lg font-bold"},pk={class:"p-4"},vk={class:"bg-white rounded-lg shadow p-4 mb-4"},mk={class:"text-center text-sm text-gray-600"},gk={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4"},hk={class:"mt-3 bg-white p-3 rounded border border-green-200"},xk={class:"text-lg font-bold text-green-600"},yk={key:1,class:"bg-white rounded-lg shadow p-4 mb-4"},wk={class:"flex justify-center mb-6"},bk={class:"relative"},kk={key:0,class:"text-white text-5xl"},_k={key:0,class:"absolute top-0 left-0 w-60 h-60 rounded-full overflow-hidden flex items-center justify-center"},$k=["src"],Ck={class:"absolute bottom-6 right-6 bg-white rounded-full p-1 shadow-md"},jk={class:"space-y-4"},Ik={key:0,class:"text-center text-sm text-red-600"},Mk={key:1,class:"text-center text-sm text-green-600"},Sk={key:2,class:"text-center text-sm text-gray-600"},Ak={key:3,class:"flex justify-center items-center space-x-4"},Tk=["disabled"],Pk=["disabled"],Bk={class:"flex justify-center space-x-4"},Lk={key:2,class:"bg-white rounded-lg shadow p-4"},Ek={__name:"BadgeDetail",props:{type:{type:String,default:""}},setup(e){const s=ve(),o=nt(),n=e,i=P({title:"",description:"",color:"#8A2BE2",icon:"🎵"}),r={"portable-music":{title:"随身听音乐吧唧",description:"随时随地聆听你喜爱的音乐，定制专属音乐徽章",color:"#8A2BE2",icon:"🎵"},"floating-music":{title:"悬浮幻音吧唧",description:"音乐悬浮在空中，视觉与听觉的双重享受",color:"#1E90FF",icon:"🎧"},"emotion-display":{title:"情绪映画吧唧",description:"将你的情绪转化为视觉艺术，创造专属情绪徽章",color:"#FF69B4",icon:"😊"},"smile-healing":{title:"微笑治愈吧唧",description:"用微笑传递治愈力量，打造专属治愈徽章",color:"#32CD32",icon:"💚"},"anime-fan":{title:"动画风扇吧唧",description:"动画风格的专属徽章，展现你的二次元热爱",color:"#FF4500",icon:"🌟"},"memory-projection":{title:"回忆投影吧唧",description:"将珍贵回忆投影在徽章上，永久保存美好时刻",color:"#4169E1",icon:"📷"},"electronic-companion":{title:"电子伙伴吧唧",description:"打造你的电子伙伴徽章，陪伴你的每一天",color:"#2E8B57",icon:"🤖"},"multiplayer-guardian":{title:"联机守护吧唧",description:"多人联机的守护徽章，与好友共同创造",color:"#B22222",icon:"🎮"}},l=P(null),a=P(""),d=P(!1),m=P(""),u=P(1),f=P(1),h=P({x:0,y:0}),w=P(0),b=P(!1),c=P(""),g=P(!1),y=U(()=>({backgroundColor:i.value.color})),M=U(()=>({transform:`scale(${f.value}) translate(${h.value.x}px, ${h.value.y}px) rotate(${w.value}deg)`})),E=se=>{try{if(c.value="",!se.type.startsWith("image/")){c.value="请选择图片文件";return}if(se.size>5*1024*1024){c.value="图片大小不能超过5MB";return}l.value=se;const W=new Image;W.onload=()=>{u.value=W.width/W.height,f.value=1,h.value={x:0,y:0},w.value=0,g.value=!0,setTimeout(()=>{g.value=!1},3e3),URL.revokeObjectURL(W.src)};const le=URL.createObjectURL(se);W.src=le,a.value=le,console.log("Image processed successfully:",se.name)}catch(W){console.error("Error processing image:",W),c.value="处理图片时出错，请重试"}},I=se=>{const W=se.target.files[0];W&&E(W)},B=se=>{se.preventDefault(),se.stopPropagation(),b.value=!0},S=se=>{se.preventDefault(),se.stopPropagation(),b.value=!1},A=se=>{se.preventDefault(),se.stopPropagation(),b.value=!0},$=se=>{se.preventDefault(),se.stopPropagation(),b.value=!1,se.dataTransfer.files&&se.dataTransfer.files[0]&&E(se.dataTransfer.files[0])},k=()=>{l.value=null,a.value="",c.value="";const se=document.getElementById("badge-image");se&&(se.value="")},L=()=>{d.value=!0;const se="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";m.value="BADGE-";for(let W=0;W<8;W++)m.value+=se.charAt(Math.floor(Math.random()*se.length))},j=()=>{s.push("/services")},R=se=>{const W=f.value+se;W>=1&&W<=2&&(f.value=W)},V=()=>{w.value=(w.value+90)%360},ke=()=>{const se=document.querySelector("#badge-image");se&&se.click()};return me(()=>{const se=n.type||o.params.type;se&&r[se]?i.value=r[se]:s.push("/services")}),(se,W)=>(p(),v("div",dk,[t("div",uk,[t("div",ck,[t("button",{onClick:j,class:"mr-4 p-1"},W[2]||(W[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),t("h1",fk,x(i.value.title),1)])]),t("div",pk,[t("div",vk,[t("p",mk,x(i.value.description),1)]),d.value?(p(),v("div",gk,[W[5]||(W[5]=Me('<div class="flex items-center mb-2" data-v-f7a691eb><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2" viewBox="0 0 20 20" fill="currentColor" data-v-f7a691eb><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-f7a691eb></path></svg><span class="font-medium text-green-700" data-v-f7a691eb>徽章创建成功！</span></div><p class="text-sm text-gray-600 mb-2" data-v-f7a691eb>您的专属徽章已创建成功，可在&quot;我的徽章&quot;中查看。</p>',2)),t("div",hk,[W[3]||(W[3]=t("p",{class:"text-sm text-gray-700"},"您的徽章编号：",-1)),t("p",xk,x(m.value),1),W[4]||(W[4]=t("p",{class:"text-xs text-gray-500 mt-1"},"请保存此编号，便于后续查询",-1))])])):D("",!0),d.value?D("",!0):(p(),v("div",yk,[W[13]||(W[13]=t("h3",{class:"font-medium text-center mb-4"},"徽章预览",-1)),t("div",wk,[t("div",bk,[t("div",{class:"badge-base w-60 h-60 rounded-full flex items-center justify-center",style:Te(y.value)},[a.value?D("",!0):(p(),v("span",kk,x(i.value.icon),1))],4),a.value?(p(),v("div",_k,[t("img",{src:a.value,alt:"Badge preview",class:"object-cover min-w-full min-h-full transition-transform duration-200",style:Te(M.value)},null,12,$k)])):D("",!0),W[6]||(W[6]=t("div",{class:"absolute top-0 left-0 w-60 h-60 rounded-full border-4 border-white shadow-lg"},null,-1)),t("div",Ck,[t("div",{class:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold",style:Te({backgroundColor:i.value.color,color:"white"})}," 吧唧 ",4)])])]),t("div",jk,[t("div",null,[W[8]||(W[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2 text-center"},"上传图片",-1)),t("input",{id:"badge-image",type:"file",accept:"image/*",onChange:I,class:"hidden"},null,32),t("div",{class:Q(["border-2 border-dashed rounded-lg p-4 flex flex-col items-center cursor-pointer transition",b.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"]),onClick:ke,onDragenter:B,onDragleave:S,onDragover:A,onDrop:$},W[7]||(W[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),t("p",{class:"mt-2 text-sm text-gray-600"},"点击选择或拖放图片",-1),t("p",{class:"text-xs text-gray-500"},"支持JPG、PNG等格式，最大5MB",-1)]),34)]),c.value?(p(),v("div",Ik,x(c.value),1)):D("",!0),g.value?(p(),v("div",Mk," 图片上传成功！ ")):D("",!0),l.value?(p(),v("div",Sk," 已选择图片: "+x(l.value.name),1)):D("",!0),a.value?(p(),v("div",Ak,[t("button",{onClick:W[0]||(W[0]=()=>R(-.1)),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center",disabled:f.value<=1},W[9]||(W[9]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,Tk),W[12]||(W[12]=t("div",{class:"text-sm text-gray-600"},"调整大小",-1)),t("button",{onClick:W[1]||(W[1]=()=>R(.1)),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center",disabled:f.value>=2},W[10]||(W[10]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]),8,Pk),t("button",{onClick:V,class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center ml-2"},W[11]||(W[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)]))])):D("",!0),t("div",Bk,[a.value?(p(),v("button",{key:0,onClick:k,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition"}," 清除图片 ")):D("",!0),a.value?(p(),v("button",{key:1,onClick:L,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition"}," 生成徽章 ")):D("",!0)])])])),d.value?D("",!0):(p(),v("div",Lk,W[14]||(W[14]=[t("h3",{class:"font-medium mb-2"},"使用说明",-1),t("ul",{class:"text-sm text-gray-600 space-y-1 list-disc ml-5"},[t("li",null,"上传您喜欢的图片，将自动适配到吧唧徽章上"),t("li",null,"支持JPG、PNG等常见图片格式"),t("li",null,"建议上传正方形图片以获得最佳效果"),t("li",null,"可以调整图片大小和旋转角度以获得最佳视觉效果"),t("li",null,"图片大小不超过5MB"),t("li",null,"生成徽章后可获得专属徽章编号")],-1)])))])]))}},wt=Ee(Ek,[["__scopeId","data-v-f7a691eb"]]),Dk={class:"pb-16 bg-gray-50 min-h-screen"},Rk={class:"p-4"},Ok={class:"bg-white rounded-lg shadow p-4 space-y-4"},zk={class:"flex flex-col items-center mb-4"},Hk={class:"relative"},Nk={class:"w-20 h-20 rounded-full overflow-hidden border-4 border-pink-100"},Uk=["src"],Fk=["disabled"],Vk={key:0},qk={key:1},Zk={key:0,class:"fixed bottom-20 left-1/2 transform -translate-x-1/2 px-4 py-2 bg-black bg-opacity-70 text-white rounded-md"},Gk={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Wk={class:"bg-white rounded-lg w-4/5 max-w-md p-4"},Kk={class:"flex justify-between items-center mb-4"},Jk={class:"grid grid-cols-3 gap-3"},Yk=["onClick"],Qk=["src"],Xk={__name:"EditProfile",setup(e){const s=ve(),o=ge(),n=mt({username:"",nickname:"",email:"",bio:"",avatar:""}),i=P(!1),r=P(!1),l=P(""),a=P(["/avatars/avatar-1.jpg","/avatars/avatar-2.jpg","/avatars/avatar-3.jpg","/avatars/avatar-4.jpg","/avatars/avatar-5.jpg","/avatars/avatar-6.jpg"]);me(()=>{const f=o.currentUserFull;f&&(n.username=f.username||"",n.nickname=f.nickname||"",n.email=f.email||"",n.bio=f.bio||"",n.avatar=f.avatar||"")});const d=async()=>{i.value=!0;try{await new Promise(f=>setTimeout(f,800)),o.updateProfile(n),l.value="个人资料已更新",setTimeout(()=>{s.push("/profile")},1500)}catch{l.value="更新失败，请重试"}finally{i.value=!1}},m=f=>{n.avatar=f,r.value=!1},u=()=>{s.go(-1)};return(f,h)=>(p(),v("div",Dk,[t("div",{class:"bg-white p-4 border-b border-gray-200 flex items-center"},[t("button",{onClick:u,class:"mr-4"},h[6]||(h[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),h[7]||(h[7]=t("div",{class:"text-center flex-1 font-medium"},"编辑个人资料",-1)),h[8]||(h[8]=t("div",{class:"w-5"},null,-1))]),t("div",Rk,[t("div",Ok,[t("div",zk,[t("div",Hk,[t("div",Nk,[t("img",{src:n.avatar||"/avatars/default-avatar.jpg",class:"w-full h-full object-cover",alt:"Avatar"},null,8,Uk)]),t("button",{onClick:h[0]||(h[0]=w=>r.value=!0),class:"absolute bottom-0 right-0 bg-pink-500 text-white rounded-full p-1.5 shadow-md"},h[9]||(h[9]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)]))]),h[10]||(h[10]=t("p",{class:"text-gray-500 text-sm mt-2"},"点击修改头像",-1))]),t("div",null,[h[11]||(h[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"用户名",-1)),ue(t("input",{"onUpdate:modelValue":h[1]||(h[1]=w=>n.username=w),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-pink-500 focus:border-pink-500",placeholder:"请输入用户名"},null,512),[[ce,n.username]])]),t("div",null,[h[12]||(h[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"昵称",-1)),ue(t("input",{"onUpdate:modelValue":h[2]||(h[2]=w=>n.nickname=w),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-pink-500 focus:border-pink-500",placeholder:"请输入昵称"},null,512),[[ce,n.nickname]])]),t("div",null,[h[13]||(h[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"邮箱",-1)),ue(t("input",{"onUpdate:modelValue":h[3]||(h[3]=w=>n.email=w),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-pink-500 focus:border-pink-500",placeholder:"请输入邮箱"},null,512),[[ce,n.email]])]),t("div",null,[h[14]||(h[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"个人简介",-1)),ue(t("textarea",{"onUpdate:modelValue":h[4]||(h[4]=w=>n.bio=w),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-pink-500 focus:border-pink-500",placeholder:"请输入个人简介"},null,512),[[ce,n.bio]])]),t("button",{onClick:d,class:"w-full py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg font-medium shadow-md hover:shadow-lg transition duration-300",disabled:i.value},[i.value?(p(),v("span",Vk,"保存中...")):(p(),v("span",qk,"保存"))],8,Fk)])]),l.value?(p(),v("div",Zk,x(l.value),1)):D("",!0),r.value?(p(),v("div",Gk,[t("div",Wk,[t("div",Kk,[h[16]||(h[16]=t("h3",{class:"font-bold"},"选择头像",-1)),t("button",{onClick:h[5]||(h[5]=w=>r.value=!1),class:"p-1"},h[15]||(h[15]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",Jk,[(p(!0),v(G,null,ee(a.value,w=>(p(),v("div",{key:w,onClick:b=>m(w),class:Q(["aspect-square rounded-md overflow-hidden border-2 cursor-pointer",w===n.avatar?"border-pink-500":"border-gray-200"])},[t("img",{src:w||"/avatars/default-avatar.jpg",alt:"Avatar option",class:"w-full h-full object-cover"},null,8,Qk)],10,Yk))),128))])])])):D("",!0)]))}},e6={class:"pb-16 bg-gray-50 min-h-screen"},t6={class:"p-4"},s6={key:0,class:"flex justify-center items-center py-8"},o6={key:1,class:"text-center py-16"},n6={class:"p-4 relative"},r6={class:"flex items-center justify-between mb-2"},i6={class:"flex items-center"},l6={class:"font-medium"},a6={class:"text-gray-500 ml-3"},d6={class:"flex space-x-3"},u6=["onClick"],c6=["onClick"],f6={class:"text-gray-600 text-sm mb-3"},p6={class:"flex items-center justify-between"},v6={key:0,class:"flex items-center"},m6=["onClick"],g6={class:"fixed bottom-20 right-6"},h6={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},x6={class:"bg-white rounded-lg w-11/12 max-w-md p-4"},y6={class:"flex justify-between items-center mb-4 border-b pb-2"},w6={class:"font-bold"},b6={class:"space-y-4"},k6={class:"grid grid-cols-3 gap-2"},_6={class:"flex items-center"},$6={key:1,class:"fixed bottom-20 left-1/2 transform -translate-x-1/2 px-4 py-2 bg-black bg-opacity-70 text-white rounded-md z-40"},C6={__name:"Address",setup(e){const s=ve();ge();const o=P([]),n=P(!0),i=P(!1),r=P(null),l=P(""),a=P({id:null,name:"",phone:"",province:"",city:"",district:"",address:"",isDefault:!1});me(()=>{d()});const d=async()=>{n.value=!0;try{await new Promise(c=>setTimeout(c,800)),o.value=[{id:1,name:"葛某某",phone:"135****6789",province:"北京市",city:"北京市",district:"朝阳区",address:"三里屯SOHO 5号楼2单元801",isDefault:!0},{id:2,name:"葛某某",phone:"135****6789",province:"上海市",city:"上海市",district:"静安区",address:"南京西路1266号恒隆广场46楼",isDefault:!1}]}catch{l.value="加载地址失败，请重试"}finally{n.value=!1}},m=(c=null)=>{c?(r.value=c.id,Object.assign(a.value,c)):(r.value=null,a.value={id:null,name:"",phone:"",province:"",city:"",district:"",address:"",isDefault:!1}),i.value=!0},u=()=>{i.value=!1},f=async()=>{try{if(!a.value.name||!a.value.phone||!a.value.address){l.value="请填写必填项";return}if(await new Promise(c=>setTimeout(c,800)),r.value){const c=o.value.findIndex(g=>g.id===r.value);c!==-1&&(o.value[c]={...a.value},a.value.isDefault&&o.value.forEach((g,y)=>{y!==c&&(g.isDefault=!1)})),l.value="地址更新成功"}else{const c=Math.max(0,...o.value.map(y=>y.id))+1,g={...a.value,id:c};g.isDefault&&o.value.forEach(y=>{y.isDefault=!1}),o.value.push(g),l.value="地址添加成功"}i.value=!1}catch{l.value="保存失败，请重试"}},h=async c=>{if(confirm("确定要删除这个地址吗？"))try{await new Promise(g=>setTimeout(g,500)),o.value=o.value.filter(g=>g.id!==c),l.value="地址已删除"}catch{l.value="删除失败，请重试"}},w=async c=>{try{await new Promise(g=>setTimeout(g,500)),o.value.forEach(g=>{g.isDefault=g.id===c}),l.value="默认地址已设置"}catch{l.value="设置失败，请重试"}},b=()=>{s.go(-1)};return(c,g)=>(p(),v("div",e6,[t("div",{class:"bg-white p-4 border-b border-gray-200 flex items-center"},[t("button",{onClick:b,class:"mr-4"},g[8]||(g[8]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),g[9]||(g[9]=t("div",{class:"text-center flex-1 font-medium"},"收货地址",-1)),g[10]||(g[10]=t("div",{class:"w-5"},null,-1))]),t("div",t6,[n.value?(p(),v("div",s6,g[11]||(g[11]=[t("div",{class:"w-8 h-8 border-4 border-pink-500 border-t-transparent rounded-full animate-spin"},null,-1)]))):o.value.length===0?(p(),v("div",o6,g[12]||(g[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 mx-auto text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1),t("p",{class:"text-gray-500"},"暂无地址信息",-1)]))):(p(!0),v(G,{key:2},ee(o.value,y=>(p(),v("div",{key:y.id,class:"bg-white rounded-lg shadow mb-4 overflow-hidden"},[t("div",n6,[t("div",r6,[t("div",i6,[t("span",l6,x(y.name),1),t("span",a6,x(y.phone),1)]),t("div",d6,[t("button",{onClick:M=>m(y),class:"text-gray-500"},g[13]||(g[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,u6),t("button",{onClick:M=>h(y.id),class:"text-gray-500"},g[14]||(g[14]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,c6)])]),t("p",f6,x(y.province)+" "+x(y.city)+" "+x(y.district)+" "+x(y.address),1),t("div",p6,[y.isDefault?(p(),v("div",v6,g[15]||(g[15]=[t("span",{class:"px-2 py-0.5 bg-pink-100 text-pink-600 text-xs rounded"},"默认地址",-1)]))):(p(),v("button",{key:1,onClick:M=>w(y.id),class:"text-xs text-gray-500"}," 设为默认地址 ",8,m6))])])]))),128))]),t("div",g6,[t("button",{onClick:g[0]||(g[0]=y=>m()),class:"w-14 h-14 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 flex items-center justify-center shadow-lg"},g[16]||(g[16]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]))]),i.value?(p(),v("div",h6,[t("div",x6,[t("div",y6,[t("h3",w6,x(r.value?"编辑地址":"添加地址"),1),t("button",{onClick:u,class:"p-1"},g[17]||(g[17]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",b6,[t("div",null,[g[18]||(g[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"收货人",-1)),ue(t("input",{"onUpdate:modelValue":g[1]||(g[1]=y=>a.value.name=y),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-pink-500 focus:border-pink-500",placeholder:"请输入姓名"},null,512),[[ce,a.value.name]])]),t("div",null,[g[19]||(g[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"手机号码",-1)),ue(t("input",{"onUpdate:modelValue":g[2]||(g[2]=y=>a.value.phone=y),type:"tel",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-pink-500 focus:border-pink-500",placeholder:"请输入手机号码"},null,512),[[ce,a.value.phone]])]),t("div",k6,[t("div",null,[g[20]||(g[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"省份",-1)),ue(t("input",{"onUpdate:modelValue":g[3]||(g[3]=y=>a.value.province=y),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-pink-500 focus:border-pink-500",placeholder:"省份"},null,512),[[ce,a.value.province]])]),t("div",null,[g[21]||(g[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"城市",-1)),ue(t("input",{"onUpdate:modelValue":g[4]||(g[4]=y=>a.value.city=y),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-pink-500 focus:border-pink-500",placeholder:"城市"},null,512),[[ce,a.value.city]])]),t("div",null,[g[22]||(g[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"区县",-1)),ue(t("input",{"onUpdate:modelValue":g[5]||(g[5]=y=>a.value.district=y),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-pink-500 focus:border-pink-500",placeholder:"区县"},null,512),[[ce,a.value.district]])])]),t("div",null,[g[23]||(g[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"详细地址",-1)),ue(t("textarea",{"onUpdate:modelValue":g[6]||(g[6]=y=>a.value.address=y),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-pink-500 focus:border-pink-500",placeholder:"街道、楼牌号等"},null,512),[[ce,a.value.address]])]),t("div",_6,[ue(t("input",{id:"default-address","onUpdate:modelValue":g[7]||(g[7]=y=>a.value.isDefault=y),type:"checkbox",class:"h-4 w-4 text-pink-600 border-gray-300 rounded"},null,512),[[ol,a.value.isDefault]]),g[24]||(g[24]=t("label",{for:"default-address",class:"ml-2 block text-sm text-gray-700"},"设为默认地址",-1))])]),t("div",{class:"mt-6"},[t("button",{onClick:f,class:"w-full py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg font-medium shadow-md hover:shadow-lg transition duration-300"}," 保存 ")])])])):D("",!0),l.value?(p(),v("div",$6,x(l.value),1)):D("",!0)]))}},j6={class:"pb-16 bg-gray-50 min-h-screen"},I6={class:"bg-white flex border-b border-gray-100"},M6={key:0,class:"flex justify-center items-center py-16"},S6={key:1,class:"divide-y divide-gray-100"},A6=["onClick"],T6={class:"relative"},P6=["src"],B6={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"},L6={key:1,class:"absolute -bottom-1 -right-1 bg-pink-500 text-white text-xs p-0.5 rounded-full"},E6={class:"ml-4 flex-1"},D6={class:"flex justify-between"},R6={class:"font-medium"},O6={class:"text-xs text-gray-500"},z6={class:"text-sm text-gray-600 mt-1 truncate"},H6={key:0,class:"text-center py-16 text-gray-500"},N6={key:2,class:"divide-y divide-gray-100"},U6=["onClick"],F6={class:"flex"},V6=["innerHTML"],q6={class:"ml-3 flex-1"},Z6={class:"flex justify-between"},G6={class:"font-medium"},W6={class:"flex items-center"},K6={class:"text-xs text-gray-500 mr-3"},J6=["onClick"],Y6={class:"text-sm text-gray-600 mt-1"},Q6={key:0,class:"w-2 h-2 bg-pink-500 rounded-full absolute left-4 top-1/2 transform -translate-y-1/2"},X6={key:0,class:"text-center py-16 text-gray-500"},e_={__name:"Messages",setup(e){const s=ve();ge();const o=P(!0),n=P("chat"),i=P([]),r=P([]);me(()=>{l()});const l=async()=>{o.value=!0;try{await new Promise(c=>setTimeout(c,800)),i.value=[{id:1,type:"chat",from:{id:101,name:"官方客服",avatar:"/avatars/service.jpg",isOfficial:!0},preview:"您的订单已发货，请注意查收",unread:2,time:"10:25",date:"2023-05-13"},{id:2,type:"chat",from:{id:102,name:"COS酱",avatar:"/avatars/avatar-2.jpg",isOfficial:!1},preview:"我在三里屯等你呢，快来吧",unread:0,time:"昨天",date:"2023-05-12"},{id:3,type:"chat",from:{id:103,name:"挖谷挖谷",avatar:"/avatars/avatar-3.jpg",isOfficial:!0},preview:"您的帖子获得了10个赞",unread:0,time:"星期三",date:"2023-05-10"}],r.value=[{id:101,type:"system",title:"系统通知",content:"恭喜您成功升级为铂金会员",read:!1,time:"10:30",date:"2023-05-13"},{id:102,type:"promotion",title:"活动通知",content:"新品发布会即将开始，点击查看详情",read:!0,time:"昨天",date:"2023-05-12"},{id:103,type:"interaction",title:"互动通知",content:"COS酱关注了您",read:!1,time:"星期三",date:"2023-05-10"},{id:104,type:"promotion",title:"优惠通知",content:"您有一张满300减50的优惠券即将过期",read:!0,time:"05-08",date:"2023-05-08"}]}catch(c){console.error("Failed to load messages:",c)}finally{o.value=!1}},a=c=>{n.value=c},d=c=>{s.push(`/chat/${c}`)},m=c=>{const g=r.value.findIndex(y=>y.id===c);g!==-1&&(r.value[g].read=!0)},u=c=>{const g=i.value.findIndex(y=>y.id===c);g!==-1&&(i.value[g].unread=0)},f=c=>{confirm("确定要删除此通知吗？")&&(r.value=r.value.filter(g=>g.id!==c))},h=()=>{n.value==="chat"?i.value.forEach(c=>{c.unread=0}):r.value.forEach(c=>{c.read=!0})},w=c=>{switch(c){case"system":return`
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-500" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
        </svg>
      `;case"promotion":return`
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-500" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M5 5a3 3 0 015-2.236A3 3 0 0114.83 6H16a2 2 0 110 4h-5V9a1 1 0 10-2 0v1H4a2 2 0 110-4h1.17C5.06 5.687 5 5.35 5 5zm4 1V5a1 1 0 10-1 1h1zm3 0a1 1 0 10-1-1v1h1z" clip-rule="evenodd" />
          <path d="M9 11H3v5a2 2 0 002 2h4v-7zM11 18h4a2 2 0 002-2v-5h-6v7z" />
        </svg>
      `;case"interaction":return`
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-pink-500" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />
        </svg>
      `;default:return`
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" viewBox="0 0 20 20" fill="currentColor">
          <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z" />
        </svg>
      `}},b=()=>{s.go(-1)};return(c,g)=>(p(),v("div",j6,[t("div",{class:"bg-white p-4 border-b border-gray-200 flex items-center"},[t("button",{onClick:b,class:"mr-4"},g[2]||(g[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),g[3]||(g[3]=t("div",{class:"text-center flex-1 font-medium"},"消息中心",-1)),t("button",{onClick:h,class:"text-sm text-pink-500"},"全部已读")]),t("div",I6,[t("div",{class:Q(["flex-1 text-center py-3",n.value==="chat"?"text-pink-500 border-b-2 border-pink-500 font-medium":"text-gray-500"]),onClick:g[0]||(g[0]=y=>a("chat"))}," 聊天 ",2),t("div",{class:Q(["flex-1 text-center py-3",n.value==="notification"?"text-pink-500 border-b-2 border-pink-500 font-medium":"text-gray-500"]),onClick:g[1]||(g[1]=y=>a("notification"))}," 通知 ",2)]),o.value?(p(),v("div",M6,g[4]||(g[4]=[t("div",{class:"w-10 h-10 border-4 border-pink-500 border-t-transparent rounded-full animate-spin"},null,-1)]))):n.value==="chat"?(p(),v("div",S6,[(p(!0),v(G,null,ee(i.value,y=>(p(),v("div",{key:y.id,class:"bg-white p-4 flex items-center",onClick:M=>{d(y.id),u(y.id)}},[t("div",T6,[t("img",{src:y.from.avatar,alt:"Avatar",class:"w-12 h-12 rounded-full object-cover border border-gray-200"},null,8,P6),y.unread>0?(p(),v("div",B6,x(y.unread),1)):D("",!0),y.from.isOfficial?(p(),v("div",L6,g[5]||(g[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)]))):D("",!0)]),t("div",E6,[t("div",D6,[t("span",R6,x(y.from.name),1),t("span",O6,x(y.time),1)]),t("p",z6,x(y.preview),1)])],8,A6))),128)),i.value.length===0?(p(),v("div",H6,g[6]||(g[6]=[t("div",{class:"w-16 h-16 mx-auto mb-4"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-full w-full text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1),t("p",null,"暂无消息",-1)]))):D("",!0)])):n.value==="notification"?(p(),v("div",N6,[(p(!0),v(G,null,ee(r.value,y=>(p(),v("div",{key:y.id,class:Q(["bg-white p-4",{"bg-white":y.read,"bg-pink-50":!y.read}]),onClick:M=>m(y.id)},[t("div",F6,[t("div",{class:"mt-0.5",innerHTML:w(y.type)},null,8,V6),t("div",q6,[t("div",Z6,[t("span",G6,x(y.title),1),t("div",W6,[t("span",K6,x(y.time),1),t("button",{onClick:us(M=>f(y.id),["stop"]),class:"text-gray-400 hover:text-gray-600"},g[7]||(g[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,J6)])]),t("p",Y6,x(y.content),1)])]),y.read?D("",!0):(p(),v("div",Q6))],10,U6))),128)),r.value.length===0?(p(),v("div",X6,g[8]||(g[8]=[t("div",{class:"w-16 h-16 mx-auto mb-4"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-full w-full text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})])],-1),t("p",null,"暂无通知",-1)]))):D("",!0)])):D("",!0)]))}},t_={class:"flex flex-col h-screen bg-gray-50"},s_={class:"bg-white p-4 border-b border-gray-200 flex items-center shadow-sm"},o_={class:"flex space-x-4"},n_={key:0,class:"flex justify-center items-center h-full py-8"},r_={key:0,class:"flex mb-4"},i_={class:"flex-shrink-0 mr-3"},l_={class:"w-10 h-10 rounded-full overflow-hidden border-2 border-pink-100"},a_=["src"],d_={class:"max-w-[75%]"},u_={class:"bg-white rounded-lg p-3 shadow-sm"},c_={class:"text-gray-800"},f_={key:0,class:"mt-2 flex flex-wrap gap-2"},p_=["onClick"],v_={class:"text-xs text-gray-500 mt-1 ml-1"},m_={key:1,class:"flex justify-end mb-4"},g_={class:"max-w-[75%]"},h_={class:"bg-gradient-to-r from-pink-500 to-purple-600 rounded-lg p-3 shadow-sm"},x_={class:"text-white"},y_={class:"text-xs text-gray-500 mt-1 mr-1 text-right"},w_={class:"flex-shrink-0 ml-3"},b_={class:"w-10 h-10 rounded-full overflow-hidden border-2 border-pink-100"},k_=["src"],__={key:0,class:"flex mb-4"},$_={class:"flex-shrink-0 mr-3"},C_={class:"w-10 h-10 rounded-full overflow-hidden border-2 border-pink-100"},j_=["src"],I_={class:"bg-white border-t border-gray-200 p-3 sticky bottom-0 left-0 right-0"},M_={class:"flex items-center"},S_={class:"flex-1 mx-2"},A_=["disabled"],T_={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},P_={class:"bg-white rounded-lg w-11/12 max-w-md p-4"},B_={class:"flex justify-between items-center mb-4 border-b pb-2"},L_={class:"space-y-3"},E_=["onClick"],D_={class:"flex items-center"},R_={__name:"CustomerService",setup(e){var E;const s=ve(),o=ge(),n=P([]),i=P(""),r=P(!0),l=P(!1),a=P(null),d=P(!1),m=["我的订单什么时候发货？","如何申请退款？","会员等级有什么特权？","如何修改收货地址？","积分如何兑换？","优惠券使用规则"],u={id:"bot",name:"客服小二",avatar:"/avatars/service.jpg",isBot:!0},f=mt({id:"user",name:"用户",avatar:((E=o.currentUserFull)==null?void 0:E.avatar)||"/avatars/default-avatar.jpg",isBot:!1});me(()=>{h()});const h=async()=>{r.value=!0;try{await new Promise(I=>setTimeout(I,800)),n.value=[{id:1,sender:u,content:"您好，我是挖谷挖谷客服小二，有什么可以帮助您的吗？",time:g(new Date(Date.now()-12e4)),suggestions:["查询订单","退款问题","商品咨询","物流查询"]}]}catch(I){console.error("Failed to load messages:",I)}finally{r.value=!1,y()}},w=async()=>{if(!i.value.trim())return;const I=i.value.trim();i.value="",l.value=!0,n.value.push({id:Date.now(),sender:f,content:I,time:g(new Date)}),y();try{await new Promise(S=>setTimeout(S,1e3));let B;I.includes("订单")||I.includes("order")?B={content:'您的订单正在处理中，预计3-5个工作日内发货。您可以在"个人中心"→"我的订单"中查看订单详情和物流信息。',suggestions:["查看我的订单","修改订单","取消订单"]}:I.includes("退款")||I.includes("refund")?B={content:'您可以在"我的订单"中找到需要退款的订单，点击"申请售后"按钮提交退款申请。退款申请审核通常需要1-3个工作日。',suggestions:["退款流程","查看退款进度","联系人工客服"]}:I.includes("会员")||I.includes("member")?B={content:"挖谷挖谷共有铜牌、银牌、金牌、铂金四个会员等级，不同等级享有不同的折扣和特权。您可以在会员中心查看详情。",suggestions:["会员特权","如何升级","会员积分使用"]}:B={content:"感谢您的咨询。我需要更多信息来帮助您解决问题，您可以提供更具体的问题描述，或者选择下面的常见问题。",suggestions:["联系人工客服","查看帮助中心","提交反馈"]},n.value.push({id:Date.now(),sender:u,content:B.content,time:g(new Date),suggestions:B.suggestions})}catch(B){console.error("Failed to send message:",B)}finally{l.value=!1,y()}},b=I=>{i.value=I,w()},c=I=>{i.value=I,d.value=!1,w()},g=I=>I.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}),y=async()=>{await vs(),a.value&&(a.value.scrollTop=a.value.scrollHeight)},M=()=>{s.go(-1)};return(I,B)=>(p(),v("div",t_,[t("div",s_,[t("button",{onClick:M,class:"mr-4"},B[3]||(B[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),B[6]||(B[6]=t("div",{class:"flex flex-col flex-1"},[t("div",{class:"font-medium"},"官方客服"),t("div",{class:"text-xs text-gray-500"},"挖谷挖谷官方客服")],-1)),t("div",o_,[t("button",{onClick:B[0]||(B[0]=S=>d.value=!0)},B[4]||(B[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])),B[5]||(B[5]=t("button",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])],-1))])]),t("div",{ref_key:"messageList",ref:a,class:"flex-1 overflow-y-auto p-4 space-y-4",style:{"background-color":"#f5f5f5","background-image":"url('data:image/svg+xml,%3Csvg width=\\'20\\' height=\\'20\\' viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E%3Cg fill=\\'%23ebebeb\\' fill-opacity=\\'0.4\\' fill-rule=\\'evenodd\\'%3E%3Ccircle cx=\\'3\\' cy=\\'3\\' r=\\'3\\'/%3E%3Ccircle cx=\\'13\\' cy=\\'13\\' r=\\'3\\'/%3E%3C/g%3E%3C/svg%3E')"}},[r.value?(p(),v("div",n_,B[7]||(B[7]=[t("div",{class:"w-10 h-10 border-4 border-pink-500 border-t-transparent rounded-full animate-spin"},null,-1)]))):(p(),v(G,{key:1},[(p(!0),v(G,null,ee(n.value,S=>(p(),v("div",{key:S.id,class:"w-full"},[S.sender.isBot?(p(),v("div",r_,[t("div",i_,[t("div",l_,[t("img",{src:S.sender.avatar,alt:"Service Bot",class:"w-full h-full object-cover"},null,8,a_)])]),t("div",d_,[t("div",u_,[t("p",c_,x(S.content),1)]),S.suggestions?(p(),v("div",f_,[(p(!0),v(G,null,ee(S.suggestions,(A,$)=>(p(),v("button",{key:$,onClick:k=>b(A),class:"bg-pink-50 text-pink-600 text-sm px-3 py-1.5 rounded-full border border-pink-100 hover:bg-pink-100"},x(A),9,p_))),128))])):D("",!0),t("div",v_,x(S.time),1)])])):(p(),v("div",m_,[t("div",g_,[t("div",h_,[t("p",x_,x(S.content),1)]),t("div",y_,x(S.time),1)]),t("div",w_,[t("div",b_,[t("img",{src:f.avatar,alt:"User Avatar",class:"w-full h-full object-cover"},null,8,k_)])])]))]))),128)),l.value?(p(),v("div",__,[t("div",$_,[t("div",C_,[t("img",{src:u.avatar,alt:"Service Bot",class:"w-full h-full object-cover"},null,8,j_)])]),B[8]||(B[8]=Me('<div class="bg-white rounded-lg p-3 shadow-sm"><div class="flex space-x-1"><div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay:0s;"></div><div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay:0.2s;"></div><div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay:0.4s;"></div></div></div>',1))])):D("",!0)],64))],512),t("div",I_,[t("div",M_,[B[10]||(B[10]=t("button",{class:"p-2 text-gray-500"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",S_,[ue(t("input",{"onUpdate:modelValue":B[1]||(B[1]=S=>i.value=S),type:"text",placeholder:"输入消息...",class:"w-full px-4 py-2 border border-gray-300 rounded-full bg-gray-50 focus:outline-none focus:border-pink-500",onKeyup:bn(w,["enter"])},null,544),[[ce,i.value]])]),t("button",{onClick:w,class:"bg-gradient-to-r from-pink-500 to-purple-600 text-white p-2 rounded-full disabled:opacity-50",disabled:!i.value.trim()||l.value},B[9]||(B[9]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)]),8,A_)])]),d.value?(p(),v("div",T_,[t("div",P_,[t("div",B_,[B[12]||(B[12]=t("h3",{class:"font-bold"},"常见问题",-1)),t("button",{onClick:B[2]||(B[2]=S=>d.value=!1),class:"p-1"},B[11]||(B[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",L_,[(p(),v(G,null,ee(m,(S,A)=>t("div",{key:A,onClick:$=>c(S),class:"p-3 border border-gray-100 rounded-lg hover:bg-pink-50 cursor-pointer"},[t("div",D_,[B[13]||(B[13]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-pink-500 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("span",null,x(S),1)])],8,E_)),64))])])])):D("",!0)]))}},O_={class:"flex flex-col h-screen bg-gray-50"},z_={class:"bg-white p-4 border-b border-gray-200 flex items-center shadow-sm"},H_={key:0,class:"flex-1"},N_={class:"font-medium"},U_={class:"text-xs text-gray-500"},F_={key:0,class:"flex justify-center items-center h-full py-8"},V_={key:0,class:"flex justify-center my-4"},q_={class:"bg-gray-200 text-xs text-gray-600 rounded-full px-3 py-1"},Z_={key:1,class:"flex mb-4"},G_={class:"flex-shrink-0 mr-3"},W_={class:"w-10 h-10 rounded-full overflow-hidden border-2 border-pink-100"},K_=["src"],J_={class:"max-w-[75%]"},Y_={class:"bg-white rounded-lg p-3 shadow-sm"},Q_={class:"text-gray-800"},X_={class:"text-xs text-gray-500 mt-1 ml-1"},e8={key:2,class:"flex justify-end mb-4"},t8={class:"max-w-[75%]"},s8={class:"bg-gradient-to-r from-pink-500 to-purple-600 rounded-lg p-3 shadow-sm"},o8={class:"text-white"},n8={class:"text-xs text-gray-500 mt-1 mr-1 text-right"},r8={class:"flex-shrink-0 ml-3"},i8={class:"w-10 h-10 rounded-full overflow-hidden border-2 border-pink-100"},l8=["src"],a8={key:0,class:"flex mb-4"},d8={class:"flex-shrink-0 mr-3"},u8={class:"w-10 h-10 rounded-full overflow-hidden border-2 border-pink-100"},c8=["src"],f8={class:"bg-white border-t border-gray-200 p-3 sticky bottom-0 left-0 right-0"},p8={class:"flex items-center"},v8={class:"flex-1 mx-2"},m8=["disabled"],g8={__name:"Chat",setup(e){var A;const s=ve(),o=nt(),n=ge(),i=U(()=>parseInt(o.params.id)||null),r=P([]),l=P(""),a=P(!0),d=P(!1),m=P(null),u=P(null),f=mt({id:"user",name:"用户",avatar:((A=n.currentUserFull)==null?void 0:A.avatar)||"/avatars/default-avatar.jpg"}),h=[{id:1,name:"官方客服",avatar:"/avatars/service.jpg",isOfficial:!0,lastSeen:"在线"},{id:2,name:"COS酱",avatar:"/avatars/avatar-2.jpg",isOfficial:!1,lastSeen:"10分钟前"},{id:3,name:"挖谷挖谷",avatar:"/avatars/avatar-3.jpg",isOfficial:!0,lastSeen:"在线"}],w={1:[{id:101,senderId:1,content:"您好，欢迎联系挖谷挖谷客服中心，请问有什么可以帮到您？",time:"10:15",date:"2023-05-13"},{id:102,senderId:"user",content:"我想了解一下现在有什么活动？",time:"10:18",date:"2023-05-13"},{id:103,senderId:1,content:'目前我们有"夏日动漫祭"活动，满300减50，并且有限量版动漫周边赠送。详情可以查看首页活动banner。',time:"10:20",date:"2023-05-13"},{id:104,senderId:"user",content:"好的，谢谢",time:"10:22",date:"2023-05-13"},{id:105,senderId:1,content:"您的订单已发货，请注意查收",time:"10:25",date:"2023-05-13"}],2:[{id:201,senderId:"user",content:"COS酱，你在哪里？",time:"昨天 16:30",date:"2023-05-12"},{id:202,senderId:2,content:"我在三里屯等你呢~",time:"昨天 16:35",date:"2023-05-12"},{id:203,senderId:"user",content:"我马上到",time:"昨天 16:40",date:"2023-05-12"},{id:204,senderId:2,content:"我在三里屯等你呢，快来吧",time:"昨天 16:45",date:"2023-05-12"}],3:[{id:301,senderId:3,content:'您的帖子"最喜欢的动漫角色"获得了10个赞',time:"星期三 09:30",date:"2023-05-10"},{id:302,senderId:3,content:"恭喜您升级为银牌会员！",time:"星期三 09:35",date:"2023-05-10"},{id:303,senderId:"user",content:"谢谢！",time:"星期三 10:05",date:"2023-05-10"}]};me(()=>{b()});const b=async()=>{a.value=!0;try{await new Promise(k=>setTimeout(k,800));const $=h.find(k=>k.id===i.value);if($){u.value=$;const k=w[i.value]||[];r.value=k}else s.replace("/messages")}catch($){console.error("Failed to load chat:",$)}finally{a.value=!1,E()}},c=async()=>{if(!l.value.trim())return;const $=l.value.trim();l.value="",d.value=!0;const k={id:Date.now(),senderId:"user",content:$,time:y(new Date),date:M(new Date)};r.value.push(k),E();try{if(await new Promise(L=>setTimeout(L,1e3)),u.value.isOfficial){const L={id:Date.now()+1,senderId:u.value.id,content:g($),time:y(new Date),date:M(new Date)};r.value.push(L),E()}}catch(L){console.error("Failed to send message:",L)}finally{d.value=!1}},g=$=>{const k=$.toLowerCase();return u.value.id===1?k.includes("订单")||k.includes("发货")?"您的订单正在处理中，预计3-5个工作日内发货。如有问题，可以随时联系我们。":k.includes("退款")||k.includes("退货")?'您可以在"我的订单"中申请退款。审核通过后，款项将在7个工作日内退回原支付账户。':"感谢您的咨询，我们会尽快处理您的问题，请耐心等待。":u.value.id===3?"感谢您的关注，祝您在挖谷挖谷玩得开心！":""},y=$=>$.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}),M=$=>$.toISOString().split("T")[0],E=async()=>{await vs(),m.value&&(m.value.scrollTop=m.value.scrollHeight)},I=$=>{if($===0)return!0;const k=r.value[$],L=r.value[$-1];return k.date!==L.date},B=$=>{const k=new Date,L=new Date($);return k.getFullYear()===L.getFullYear()&&k.getMonth()===L.getMonth()&&k.getDate()===L.getDate()?"今天":k.getFullYear()===L.getFullYear()&&k.getMonth()===L.getMonth()&&k.getDate()-L.getDate()===1?"昨天":`${L.getFullYear()}年${L.getMonth()+1}月${L.getDate()}日`},S=()=>{s.go(-1)};return($,k)=>{var L;return p(),v("div",O_,[t("div",z_,[t("button",{onClick:S,class:"mr-4"},k[1]||(k[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),u.value?(p(),v("div",H_,[t("div",N_,x(u.value.name),1),t("div",U_,x(u.value.lastSeen),1)])):D("",!0),k[2]||(k[2]=t("div",{class:"flex space-x-4"},[t("button",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])])],-1))]),t("div",{ref_key:"messageList",ref:m,class:"flex-1 overflow-y-auto p-4 space-y-4",style:{"background-color":"#f5f5f5","background-image":"url('data:image/svg+xml,%3Csvg width=\\'20\\' height=\\'20\\' viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E%3Cg fill=\\'%23ebebeb\\' fill-opacity=\\'0.4\\' fill-rule=\\'evenodd\\'%3E%3Ccircle cx=\\'3\\' cy=\\'3\\' r=\\'3\\'/%3E%3Ccircle cx=\\'13\\' cy=\\'13\\' r=\\'3\\'/%3E%3C/g%3E%3C/svg%3E')"}},[a.value?(p(),v("div",F_,k[3]||(k[3]=[t("div",{class:"w-10 h-10 border-4 border-pink-500 border-t-transparent rounded-full animate-spin"},null,-1)]))):(p(),v(G,{key:1},[(p(!0),v(G,null,ee(r.value,(j,R)=>(p(),v(G,{key:j.id},[I(R)?(p(),v("div",V_,[t("div",q_,x(B(j.date)),1)])):D("",!0),j.senderId!=="user"?(p(),v("div",Z_,[t("div",G_,[t("div",W_,[t("img",{src:u.value.avatar,alt:"Chat Partner",class:"w-full h-full object-cover"},null,8,K_)])]),t("div",J_,[t("div",Y_,[t("p",Q_,x(j.content),1)]),t("div",X_,x(j.time),1)])])):(p(),v("div",e8,[t("div",t8,[t("div",s8,[t("p",o8,x(j.content),1)]),t("div",n8,x(j.time),1)]),t("div",r8,[t("div",i8,[t("img",{src:f.avatar,alt:"User Avatar",class:"w-full h-full object-cover"},null,8,l8)])])]))],64))),128)),d.value?(p(),v("div",a8,[t("div",d8,[t("div",u8,[t("img",{src:(L=u.value)==null?void 0:L.avatar,alt:"Chat Partner",class:"w-full h-full object-cover"},null,8,c8)])]),k[4]||(k[4]=Me('<div class="bg-white rounded-lg p-3 shadow-sm"><div class="flex space-x-1"><div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay:0s;"></div><div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay:0.2s;"></div><div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay:0.4s;"></div></div></div>',1))])):D("",!0)],64))],512),t("div",f8,[t("div",p8,[k[6]||(k[6]=t("button",{class:"p-2 text-gray-500"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",v8,[ue(t("input",{"onUpdate:modelValue":k[0]||(k[0]=j=>l.value=j),type:"text",placeholder:"输入消息...",class:"w-full px-4 py-2 border border-gray-300 rounded-full bg-gray-50 focus:outline-none focus:border-pink-500",onKeyup:bn(c,["enter"])},null,544),[[ce,l.value]])]),t("button",{onClick:c,class:"bg-gradient-to-r from-pink-500 to-purple-600 text-white p-2 rounded-full disabled:opacity-50",disabled:!l.value.trim()||d.value},k[5]||(k[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)]),8,m8)])])])}}},h8={class:"pb-16 bg-gray-50 min-h-screen"},x8={class:"bg-white border-b border-gray-200 sticky top-0 z-10"},y8={class:"flex"},w8={key:0,class:"absolute bottom-0 left-0 w-full h-0.5 bg-pink-500"},b8={key:0,class:"absolute bottom-0 left-0 w-full h-0.5 bg-pink-500"},k8={key:0,class:"absolute bottom-0 left-0 w-full h-0.5 bg-pink-500"},_8={key:0,class:"flex justify-center items-center py-16"},$8={key:1,class:"p-4"},C8={class:"flex justify-between items-center mb-4"},j8={class:"text-sm text-gray-500"},I8={key:0,class:"text-sm text-pink-500"},M8={key:0,class:"flex flex-col items-center justify-center py-16"},S8={key:1,class:"grid grid-cols-2 gap-4"},A8=["onClick"],T8=["src"],P8=["onClick"],B8={class:"p-2"},L8={class:"text-sm font-medium truncate"},E8={class:"mt-1 flex justify-between items-center"},D8={class:"text-pink-500 font-medium"},R8={class:"text-xs text-gray-400"},O8={key:2,class:"p-4"},z8={class:"flex justify-between items-center mb-4"},H8={class:"text-sm text-gray-500"},N8={key:0,class:"flex flex-col items-center justify-center py-16"},U8={key:1,class:"space-y-3"},F8={class:"text-sm text-gray-600 font-medium pb-1"},V8=["onClick"],q8={class:"w-20 h-20 rounded-md overflow-hidden bg-gray-100 flex-shrink-0"},Z8=["src","alt"],G8={class:"ml-3 flex-1"},W8={class:"text-sm font-medium"},K8={class:"text-pink-500 font-medium mt-1"},J8={class:"text-xs text-gray-400 mt-1"},Y8=["onClick"],Q8={key:3,class:"p-4"},X8={class:"flex justify-between items-center mb-4"},e7={class:"text-sm text-gray-500"},t7={key:0,class:"flex flex-col items-center justify-center py-16"},s7={key:1,class:"space-y-3"},o7=["onClick"],n7=["src","alt"],r7=["onClick"],i7={class:"flex items-center"},l7={class:"text-sm font-medium"},a7={key:0,class:"ml-1 px-1.5 py-0.5 bg-pink-100 rounded text-pink-500 text-xs"},d7={class:"text-xs text-gray-400 mt-1"},u7=["onClick"],c7={__name:"UserCollections",setup(e){const s=ve(),o=nt();ge();const n=P(!0),i=P(""),r=P("favorites"),l=P([]),a=P([]),d=P([]);me(()=>{o.query.tab&&["favorites","history","following"].includes(o.query.tab)&&(r.value=o.query.tab),u()});const m=E=>{r.value=E,s.replace({query:{tab:E}})},u=async()=>{n.value=!0;try{await new Promise(E=>setTimeout(E,800)),l.value=[{id:1,name:"初音未来 2023周年限定手办",image:"/orders/hospital-visit.jpg",price:12900,addedDate:"2023-05-15"},{id:2,name:"刀剑神域 亚丝娜 手办",image:"/orders/art-education.jpg",price:9800,addedDate:"2023-05-10"},{id:3,name:"EVA 明日香 T恤",image:"/orders/therapy.jpg",price:6e3,addedDate:"2023-05-01"},{id:4,name:"Re:从零开始的异世界生活 拉姆 蕾姆 抱枕套装",image:"/orders/manga-support.jpg",price:7900,addedDate:"2023-04-20"}],a.value=[{id:5,name:"命运石之门 牧濑红莉栖 手办",image:"/orders/library.jpg",price:16800,viewDate:"2023-05-18"},{id:6,name:"动漫周边福袋",image:"/orders/preservation.jpg",price:5700,viewDate:"2023-05-17"},{id:7,name:"动漫人物系列钥匙扣套装",image:"/orders/therapy.jpg",price:4500,viewDate:"2023-05-16"},{id:8,name:"进击的巨人 调查兵团披风",image:"/orders/hospital-visit.jpg",price:1e4,viewDate:"2023-05-15"},{id:9,name:"咒术回战 五条悟 明信片套装",image:"/orders/art-education.jpg",price:6900,viewDate:"2023-05-14"}],d.value=[{id:101,name:"二次元爱好者",avatar:"/orders/hospital-visit.jpg",fans:1280,followDate:"2023-04-10",isOfficial:!0},{id:102,name:"动漫收藏家",avatar:"/orders/library.jpg",fans:860,followDate:"2023-04-05",isOfficial:!1},{id:103,name:"手办评测师",avatar:"/orders/art-education.jpg",fans:2500,followDate:"2023-03-22",isOfficial:!0},{id:104,name:"二次元绘画爱好者",avatar:"/orders/manga-support.jpg",fans:1500,followDate:"2023-03-15",isOfficial:!1}]}catch(E){console.error("Failed to load data:",E),i.value="加载数据失败，请重试"}finally{n.value=!1}},f=E=>(E/100).toFixed(2),h=E=>new Date(E).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}),w=E=>{s.push(`/product/${E}`)},b=E=>{s.push(`/user/${E}`)},c=()=>{s.go(-1)},g=E=>{confirm("确定要从收藏中移除此商品吗？")&&(l.value=l.value.filter(I=>I.id!==E))},y=()=>{confirm("确定要清空浏览足迹吗？")&&(a.value=[])},M=E=>{confirm("确定要取消关注此用户吗？")&&(d.value=d.value.filter(I=>I.id!==E))};return(E,I)=>(p(),v("div",h8,[t("div",{class:"bg-white p-4 border-b border-gray-200 flex items-center"},[t("button",{onClick:c,class:"mr-4"},I[6]||(I[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),I[7]||(I[7]=t("div",{class:"text-center flex-1 font-medium"},"我的收藏",-1)),I[8]||(I[8]=t("div",{class:"w-5"},null,-1))]),t("div",x8,[t("div",y8,[t("button",{onClick:I[0]||(I[0]=B=>m("favorites")),class:Q(["flex-1 py-3 text-center text-sm font-medium relative",r.value==="favorites"?"text-pink-500":"text-gray-500"])},[I[9]||(I[9]=we(" 收藏 ")),r.value==="favorites"?(p(),v("div",w8)):D("",!0)],2),t("button",{onClick:I[1]||(I[1]=B=>m("history")),class:Q(["flex-1 py-3 text-center text-sm font-medium relative",r.value==="history"?"text-pink-500":"text-gray-500"])},[I[10]||(I[10]=we(" 足迹 ")),r.value==="history"?(p(),v("div",b8)):D("",!0)],2),t("button",{onClick:I[2]||(I[2]=B=>m("following")),class:Q(["flex-1 py-3 text-center text-sm font-medium relative",r.value==="following"?"text-pink-500":"text-gray-500"])},[I[11]||(I[11]=we(" 关注 ")),r.value==="following"?(p(),v("div",k8)):D("",!0)],2)])]),n.value?(p(),v("div",_8,I[12]||(I[12]=[t("div",{class:"w-10 h-10 border-4 border-pink-500 border-t-transparent rounded-full animate-spin"},null,-1)]))):r.value==="favorites"?(p(),v("div",$8,[t("div",C8,[t("div",j8,"共 "+x(l.value.length)+" 个收藏",1),l.value.length>0?(p(),v("div",I8,"管理")):D("",!0)]),l.value.length===0?(p(),v("div",M8,[I[13]||(I[13]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)),I[14]||(I[14]=t("p",{class:"text-gray-500"},"暂无收藏",-1)),t("button",{onClick:I[3]||(I[3]=B=>de(s).push("/shop")),class:"mt-4 px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full text-sm"}," 去逛逛 ")])):(p(),v("div",S8,[(p(!0),v(G,null,ee(l.value,B=>(p(),v("div",{key:B.id,class:"bg-white rounded-lg shadow overflow-hidden"},[t("div",{class:"aspect-square overflow-hidden relative",onClick:S=>w(B.id)},[t("img",{src:B.image,class:"w-full h-full object-cover"},null,8,T8),t("button",{class:"absolute top-1 right-1 w-7 h-7 bg-black bg-opacity-40 rounded-full flex items-center justify-center",onClick:us(S=>g(B.id),["stop"])},I[15]||(I[15]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,P8)],8,A8),t("div",B8,[t("div",L8,x(B.name),1),t("div",E8,[t("div",D8,"¥"+x(f(B.price)),1),t("div",R8,x(h(B.addedDate)),1)])])]))),128))]))])):r.value==="history"?(p(),v("div",O8,[t("div",z8,[t("div",H8,"共 "+x(a.value.length)+" 条足迹",1),a.value.length>0?(p(),v("div",{key:0,class:"text-sm text-pink-500",onClick:y}," 清空 ")):D("",!0)]),a.value.length===0?(p(),v("div",N8,[I[16]||(I[16]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),I[17]||(I[17]=t("p",{class:"text-gray-500"},"暂无浏览足迹",-1)),t("button",{onClick:I[4]||(I[4]=B=>de(s).push("/shop")),class:"mt-4 px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full text-sm"}," 去逛逛 ")])):(p(),v("div",U8,[(p(),v(G,null,ee(["今天","昨天","更早"],B=>t("div",{key:B,class:"space-y-3"},[t("div",F8,x(B),1),(p(!0),v(G,null,ee(a.value,S=>(p(),v("div",{key:S.id,class:"bg-white rounded-lg shadow p-3 flex",onClick:A=>w(S.id)},[t("div",q8,[t("img",{src:S.image,alt:S.name,class:"w-full h-full object-cover"},null,8,Z8)]),t("div",G8,[t("div",W8,x(S.name),1),t("div",K8,"¥"+x(f(S.price)),1),t("div",J8,x(h(S.viewDate)),1)]),t("button",{class:"w-7 h-7 mt-1 rounded-full flex items-center justify-center",onClick:us(A=>w(S.id),["stop"])},I[18]||(I[18]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,Y8)],8,V8))),128))])),64))]))])):r.value==="following"?(p(),v("div",Q8,[t("div",X8,[t("div",e7,"共关注了 "+x(d.value.length)+" 人",1)]),d.value.length===0?(p(),v("div",t7,[I[19]||(I[19]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),I[20]||(I[20]=t("p",{class:"text-gray-500"},"暂无关注",-1)),t("button",{onClick:I[5]||(I[5]=B=>de(s).push("/forum")),class:"mt-4 px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full text-sm"}," 去社区看看 ")])):(p(),v("div",s7,[(p(!0),v(G,null,ee(d.value,B=>(p(),v("div",{key:B.id,class:"bg-white rounded-lg shadow p-4 flex items-center"},[t("div",{class:"w-12 h-12 rounded-full overflow-hidden bg-gray-100 flex-shrink-0",onClick:S=>b(B.id)},[t("img",{src:B.avatar,alt:B.name,class:"w-full h-full object-cover"},null,8,n7)],8,o7),t("div",{class:"ml-3 flex-1",onClick:S=>b(B.id)},[t("div",i7,[t("span",l7,x(B.name),1),B.isOfficial?(p(),v("span",a7," 官方 ")):D("",!0)]),t("div",d7,x(B.fans)+" 粉丝",1)],8,r7),t("button",{class:"px-3 py-1 border border-pink-500 text-pink-500 text-sm rounded-full",onClick:S=>M(B.id)}," 已关注 ",8,u7)]))),128))]))])):D("",!0)]))}},f7={class:"min-h-screen bg-gray-50"},p7={__name:"HeartRateEmotion",setup(e){const s=ve(),o=()=>{s.push("/services")};return(n,i)=>(p(),v("div",f7,[t("div",{class:"sticky top-0 z-10 bg-white border-b border-gray-200"},[t("div",{class:"px-4 py-2 flex items-center"},[t("button",{onClick:o,class:"mr-4 p-1"},i[0]||(i[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),i[1]||(i[1]=t("h1",{class:"text-lg font-bold"},"心率与情绪",-1))])]),i[2]||(i[2]=Me('<div class="p-4" data-v-4f80ba24><div class="bg-white rounded-lg shadow p-6 mb-4" data-v-4f80ba24><div class="flex flex-col items-center" data-v-4f80ba24><div class="mb-6 flex flex-col items-center" data-v-4f80ba24><div class="w-32 h-32 rounded-full bg-red-100 flex items-center justify-center mb-4" data-v-4f80ba24><span class="text-5xl" data-v-4f80ba24>❤️</span></div><p class="text-center text-gray-700 font-medium" data-v-4f80ba24>请检测心率后查看</p><p class="text-xs text-gray-500 mt-2" data-v-4f80ba24>心率数据用于分析情绪状态</p></div></div></div><div class="bg-white rounded-lg shadow p-4" data-v-4f80ba24><h3 class="font-medium mb-2" data-v-4f80ba24>功能说明</h3><ul class="text-sm text-gray-600 space-y-1 list-disc ml-5" data-v-4f80ba24><li data-v-4f80ba24>通过检测心率来分析您的情绪状态</li><li data-v-4f80ba24>提供与情绪相关的内容推荐</li><li data-v-4f80ba24>记录情绪变化，生成情绪报告</li><li data-v-4f80ba24>建议在安静环境下进行检测以获取准确结果</li><li data-v-4f80ba24>心率数据仅用于情绪分析，不会被储存或共享</li></ul></div></div>',1))]))}},v7=Ee(p7,[["__scopeId","data-v-4f80ba24"]]),m7=[{path:"/",name:"Home",component:D1,meta:{requiresAuth:!1}},{path:"/login",name:"Login",component:J1,meta:{requiresAuth:!1}},{path:"/register",name:"Register",component:vf,meta:{requiresAuth:!1}},{path:"/profile",name:"Profile",component:Hr,meta:{requiresAuth:!0}},{path:"/user/:id",name:"UserProfile",component:Hr,meta:{requiresAuth:!0}},{path:"/edit-profile",name:"EditProfile",component:Xk,meta:{requiresAuth:!0}},{path:"/address",name:"Address",component:C6,meta:{requiresAuth:!0}},{path:"/messages",name:"Messages",component:e_,meta:{requiresAuth:!0}},{path:"/chat/:id",name:"Chat",component:g8,meta:{requiresAuth:!0}},{path:"/customer-service",name:"CustomerService",component:R_,meta:{requiresAuth:!0}},{path:"/forum",name:"Forum",component:_p,meta:{requiresAuth:!0}},{path:"/forum/:id",name:"ForumPost",component:jv,meta:{requiresAuth:!0}},{path:"/create-post",name:"CreatePost",component:Qv,meta:{requiresAuth:!0}},{path:"/shop",name:"Shop",component:Cm,meta:{requiresAuth:!0}},{path:"/product/:id",name:"ProductDetail",component:Ag,meta:{requiresAuth:!0}},{path:"/cart",name:"ShoppingCart",component:_2,meta:{requiresAuth:!0}},{path:"/categories",name:"Categories",component:ob,meta:{requiresAuth:!1}},{path:"/personality-test",name:"PersonalityTest",component:q2,meta:{requiresAuth:!0}},{path:"/personality-result/:id",name:"PersonalityResult",component:Ih,meta:{requiresAuth:!0}},{path:"/charity",name:"Charity",component:Ux,meta:{requiresAuth:!0}},{path:"/bluetooth-transfer",name:"BluetoothTransfer",component:Py,meta:{requiresAuth:!0}},{path:"/order/:id",name:"OrderDetail",component:U4,meta:{requiresAuth:!0}},{path:"/orders",name:"Orders",component:gw,meta:{requiresAuth:!0}},{path:"/virtual-experience",name:"VirtualExperience",component:Bw,meta:{requiresAuth:!0}},{path:"/local-exchange",name:"LocalExchange",component:Mb,meta:{requiresAuth:!0}},{path:"/collectibles-auction",name:"CollectiblesAuction",component:Qb,meta:{requiresAuth:!0}},{path:"/auction-detail/:id",name:"AuctionDetail",component:Y3,meta:{requiresAuth:!0}},{path:"/services",name:"Services",component:i5,meta:{requiresAuth:!1}},{path:"/monthly-report",name:"MonthlyReport",component:W5,meta:{requiresAuth:!1}},{path:"/recycling",name:"Recycling",component:ak,meta:{requiresAuth:!1}},{path:"/badge/:type",name:"BadgeDetail",component:wt,meta:{requiresAuth:!1}},{path:"/portable-music",name:"PortableMusic",component:wt,props:{type:"portable-music"},meta:{requiresAuth:!1}},{path:"/floating-music",name:"FloatingMusic",component:wt,props:{type:"floating-music"},meta:{requiresAuth:!1}},{path:"/emotion-display",name:"EmotionDisplay",component:wt,props:{type:"emotion-display"},meta:{requiresAuth:!1}},{path:"/smile-healing",name:"SmileHealing",component:wt,props:{type:"smile-healing"},meta:{requiresAuth:!1}},{path:"/anime-fan",name:"AnimeFan",component:wt,props:{type:"anime-fan"},meta:{requiresAuth:!1}},{path:"/memory-projection",name:"MemoryProjection",component:wt,props:{type:"memory-projection"},meta:{requiresAuth:!1}},{path:"/electronic-companion",name:"ElectronicCompanion",component:wt,props:{type:"electronic-companion"},meta:{requiresAuth:!1}},{path:"/multiplayer-guardian",name:"MultiplayerGuardian",component:wt,props:{type:"multiplayer-guardian"},meta:{requiresAuth:!1}},{path:"/heart-rate-emotion",name:"HeartRateEmotion",component:v7,meta:{requiresAuth:!1}},{path:"/user-collections",name:"UserCollections",component:c7,meta:{requiresAuth:!0}}],Il=ac({history:Ru(),routes:m7});Il.beforeEach((e,s,o)=>{const i=!!localStorage.getItem("anime_community_user");e.meta.requiresAuth&&!i?o({name:"Login"}):o()});const g7=uc(),In=nu(Q0);In.use(Il);In.use(g7);In.mount("#app");
